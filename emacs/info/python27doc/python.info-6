This is python.info, produced by makeinfo version 4.8 from python.texi.

Generated by Sphinx 1.6.3.
INFO-DIR-SECTION Python
START-INFO-DIR-ENTRY
* Python: (python.info). The Python reference manual.
END-INFO-DIR-ENTRY

     Python 2.7.13, July 15, 2017

     Copyright (C) 1990-2017, Python Software Foundation


File: python.info,  Node: Bitwise Operations on Integer Types,  Next: Additional Methods on Integer Types,  Up: Numeric Types — int float long complex

5.5.4.1 Bitwise Operations on Integer Types
...........................................

Bitwise operations only make sense for integers.  Negative numbers are
treated as their 2’s complement value (this assumes a sufficiently
large number of bits that no overflow occurs during the operation).

The priorities of the binary bitwise operations are all lower than the
numeric operations and higher than the comparisons; the unary operation
`~' has the same priority as the other unary numeric operations (`+'
and `-').

This table lists the bitwise operations sorted in ascending priority:

Operation        Result                               Notes
--------------------------------------------------------------------- 
`x | y'          bitwise `or' of `x' and `y'          
`x ^ y'          bitwise `exclusive or' of `x' and    
                 `y'                                  
`x & y'          bitwise `and' of `x' and `y'         
`x << n'         `x' shifted left by `n' bits         (1)(2)
`x >> n'         `x' shifted right by `n' bits        (1)(3)
`~x'             the bits of `x' inverted             

Notes:

  1. Negative shift counts are illegal and cause a *Note ValueError:
     236. to be raised.

  2. A left shift by `n' bits is equivalent to multiplication by
     `pow(2, n)'.  A long integer is returned if the result exceeds the
     range of plain integers.

  3. A right shift by `n' bits is equivalent to division by `pow(2, n)'.


File: python.info,  Node: Additional Methods on Integer Types,  Next: Additional Methods on Float,  Prev: Bitwise Operations on Integer Types,  Up: Numeric Types — int float long complex

5.5.4.2 Additional Methods on Integer Types
...........................................

The integer types implement the *Note numbers.Integral: 71b. *Note
abstract base class: 8af. In addition, they provide one more method:

 -- Method: int.bit_length ()

 -- Method: long.bit_length ()
     Return the number of bits necessary to represent an integer in
     binary, excluding the sign and leading zeros:

         >>> n = -37
         >>> bin(n)
         '-0b100101'
         >>> n.bit_length()
         6

     More precisely, if `x' is nonzero, then `x.bit_length()' is the
     unique positive integer `k' such that `2**(k-1) <= abs(x) < 2**k'.
     Equivalently, when `abs(x)' is small enough to have a correctly
     rounded logarithm, then `k = 1 + int(log(abs(x), 2))'.  If `x' is
     zero, then `x.bit_length()' returns `0'.

     Equivalent to:

         def bit_length(self):
             s = bin(self)       # binary representation:  bin(-37) --> '-0b100101'
             s = s.lstrip('-0b') # remove leading zeros and minus sign
             return len(s)       # len('100101') --> 6

     New in version 2.7.



File: python.info,  Node: Additional Methods on Float,  Prev: Additional Methods on Integer Types,  Up: Numeric Types — int float long complex

5.5.4.3 Additional Methods on Float
...................................

The float type implements the *Note numbers.Real: 71c. *Note abstract
base class: 8af. float also has the following additional methods.

 -- Method: float.as_integer_ratio ()
     Return a pair of integers whose ratio is exactly equal to the
     original float and with a positive denominator.  Raises *Note
     OverflowError: 2dd. on infinities and a *Note ValueError: 236. on
     NaNs.

     New in version 2.6.


 -- Method: float.is_integer ()
     Return `True' if the float instance is finite with integral value,
     and `False' otherwise:

         >>> (-2.0).is_integer()
         True
         >>> (3.2).is_integer()
         False

     New in version 2.6.


Two methods support conversion to and from hexadecimal strings.  Since
Python’s floats are stored internally as binary numbers, converting a
float to or from a `decimal' string usually involves a small rounding
error.  In contrast, hexadecimal strings allow exact representation and
specification of floating-point numbers.  This can be useful when
debugging, and in numerical work.

 -- Method: float.hex ()
     Return a representation of a floating-point number as a hexadecimal
     string.  For finite floating-point numbers, this representation
     will always include a leading `0x' and a trailing `p' and exponent.

     New in version 2.6.


 -- Method: float.fromhex (s)
     Class method to return the float represented by a hexadecimal
     string `s'.  The string `s' may have leading and trailing
     whitespace.

     New in version 2.6.


Note that *Note float.hex(): 8ae. is an instance method, while *Note
float.fromhex(): 8da. is a class method.

A hexadecimal string takes the form:

    [sign] ['0x'] integer ['.' fraction] ['p' exponent]

where the optional `sign' may by either `+' or `-', `integer' and
`fraction' are strings of hexadecimal digits, and `exponent' is a
decimal integer with an optional leading sign.  Case is not
significant, and there must be at least one hexadecimal digit in either
the integer or the fraction.  This syntax is similar to the syntax
specified in section 6.4.4.2 of the C99 standard, and also to the
syntax used in Java 1.5 onwards.  In particular, the output of *Note
float.hex(): 8ae. is usable as a hexadecimal floating-point literal in
C or Java code, and hexadecimal strings produced by C’s `%a' format
character or Java’s `Double.toHexString' are accepted by *Note
float.fromhex(): 8da.

Note that the exponent is written in decimal rather than hexadecimal,
and that it gives the power of 2 by which to multiply the coefficient.
For example, the hexadecimal string `0x3.a7p10' represents the
floating-point number `(3 + 10./16 + 7./16**2) * 2.0**10', or `3740.0':

    >>> float.fromhex('0x3.a7p10')
    3740.0

Applying the reverse conversion to `3740.0' gives a different
hexadecimal string representing the same number:

    >>> float.hex(3740.0)
    '0x1.d380000000000p+11'


File: python.info,  Node: Iterator Types,  Next: Sequence Types — str unicode list tuple bytearray buffer xrange,  Prev: Numeric Types — int float long complex,  Up: Built-in Types

5.5.5 Iterator Types
--------------------

New in version 2.2.

Python supports a concept of iteration over containers.  This is
implemented using two distinct methods; these are used to allow
user-defined classes to support iteration.  Sequences, described below
in more detail, always support the iteration methods.

One method needs to be defined for container objects to provide
iteration support:

 -- Method: container.__iter__ ()
     Return an iterator object.  The object is required to support the
     iterator protocol described below.  If a container supports
     different types of iteration, additional methods can be provided
     to specifically request iterators for those iteration types.  (An
     example of an object supporting multiple forms of iteration would
     be a tree structure which supports both breadth-first and
     depth-first traversal.)  This method corresponds to the *Note
     tp_iter: 4a8. slot of the type structure for Python objects in the
     Python/C API.

The iterator objects themselves are required to support the following
two methods, which together form the `iterator protocol':

 -- Method: iterator.__iter__ ()
     Return the iterator object itself.  This is required to allow both
     containers and iterators to be used with the *Note for: 303. and
     *Note in: 441. statements.  This method corresponds to the *Note
     tp_iter: 4a8. slot of the type structure for Python objects in the
     Python/C API.

 -- Method: iterator.next ()
     Return the next item from the container.  If there are no further
     items, raise the *Note StopIteration: 347. exception.  This method
     corresponds to the *Note tp_iternext: 4a9. slot of the type
     structure for Python objects in the Python/C API.

Python defines several iterator objects to support iteration over
general and specific sequence types, dictionaries, and other more
specialized forms.  The specific types are not important beyond their
implementation of the iterator protocol.

The intention of the protocol is that once an iterator’s *Note
next(): 5f4. method raises *Note StopIteration: 347, it will continue
to do so on subsequent calls.  Implementations that do not obey this
property are deemed broken.  (This constraint was added in Python 2.3;
in Python 2.2, various iterators are broken according to this rule.)

* Menu:

* Generator Types::


File: python.info,  Node: Generator Types,  Up: Iterator Types

5.5.5.1 Generator Types
.......................

Python’s *Note generator: 5f7.s provide a convenient way to implement
the iterator protocol.  If a container object’s *Note __iter__():
335. method is implemented as a generator, it will automatically return
an iterator object (technically, a generator object) supplying the
*Note __iter__(): 8dd. and *Note next(): 5f4. methods.  More
information about generators can be found in *Note the documentation
for the yield expression: 7c8.


File: python.info,  Node: Sequence Types — str unicode list tuple bytearray buffer xrange,  Next: Set Types — set frozenset,  Prev: Iterator Types,  Up: Built-in Types

5.5.6 Sequence Types — `str', `unicode', `list', `tuple', `bytearray', `buffer', `xrange'
-------------------------------------------------------------------------------------------

There are seven sequence types: strings, Unicode strings, lists, tuples,
bytearrays, buffers, and xrange objects.

For other containers see the built in *Note dict: 319. and *Note set:
382. classes, and the *Note collections: 65. module.

String literals are written in single or double quotes: `'xyzzy'',
`"frobozz"'.  See *Note String literals: 6e8. for more about string
literals.  Unicode strings are much like strings, but are specified in
the syntax using a preceding `'u'' character: `u'abc'', `u"def"'. In
addition to the functionality described here, there are also
string-specific methods described in the *Note String Methods: 53e.
section. Lists are constructed with square brackets, separating items
with commas: `[a, b, c]'.  Tuples are constructed by the comma operator
(not within square brackets), with or without enclosing parentheses,
but an empty tuple must have the enclosing parentheses, such as `a, b,
c' or `()'.  A single item tuple must have a trailing comma, such as
`(d,)'.

Bytearray objects are created with the built-in function *Note
bytearray(): 1f7.

Buffer objects are not directly supported by Python syntax, but can be
created by calling the built-in function *Note buffer(): 32a.  They
don’t support concatenation or repetition.

Objects of type xrange are similar to buffers in that there is no
specific syntax to create them, but they are created using the *Note
xrange(): 477. function.  They don’t support slicing, concatenation
or repetition, and using `in', `not in', *Note min(): 224. or *Note
max(): 225. on them is inefficient.

Most sequence types support the following operations.  The `in' and
`not in' operations have the same priorities as the comparison
operations.  The `+' and `*' operations have the same priority as the
corresponding numeric operations.  (1) Additional methods are provided
for *Note Mutable Sequence Types: 8a6.

This table lists the sequence operations sorted in ascending priority.
In the table, `s' and `t' are sequences of the same type; `n', `i' and
`j' are integers:

Operation              Result                               Notes
--------------------------------------------------------------------------- 
`x in s'               `True' if an item of `s' is equal    (1)
                       to `x', else `False'                 
`x not in s'           `False' if an item of `s' is equal   (1)
                       to `x', else `True'                  
`s + t'                the concatenation of `s' and `t'     (6)
`s * n, n * s'         equivalent to adding `s' to itself   (2)
                       `n' times                            
`s[i]'                 `i'th item of `s', origin 0          (3)
`s[i:j]'               slice of `s' from `i' to `j'         (3)(4)
`s[i:j:k]'             slice of `s' from `i' to `j' with    (3)(5)
                       step `k'                             
`len(s)'               length of `s'                        
`min(s)'               smallest item of `s'                 
`max(s)'               largest item of `s'                  
`s.index(x)'           index of the first occurrence of     
                       `x' in `s'                           
`s.count(x)'           total number of occurrences of `x'   
                       in `s'                               

Sequence types also support comparisons. In particular, tuples and lists
are compared lexicographically by comparing corresponding elements.
This means that to compare equal, every element must compare equal and
the two sequences must be of the same type and have the same length.
(For full details see *Note Comparisons: 804. in the language
reference.)

Notes:

  1. When `s' is a string or Unicode string object the `in' and `not in'
     operations act like a substring test.  In Python versions before
     2.3, `x' had to be a string of length 1. In Python 2.3 and beyond,
     `x' may be a string of any length.

  2. Values of `n' less than `0' are treated as `0' (which yields an
     empty sequence of the same type as `s').  Note that items in the
     sequence `s' are not copied; they are referenced multiple times.
     This often haunts new Python programmers; consider:

         >>> lists = [[]] * 3
         >>> lists
         [[], [], []]
         >>> lists[0].append(3)
         >>> lists
         [[3], [3], [3]]

     What has happened is that `[[]]' is a one-element list containing
     an empty list, so all three elements of `[[]] * 3' are references
     to this single empty list.  Modifying any of the elements of
     `lists' modifies this single list.  You can create a list of
     different lists this way:

         >>> lists = [[] for i in range(3)]
         >>> lists[0].append(3)
         >>> lists[1].append(5)
         >>> lists[2].append(7)
         >>> lists
         [[3], [5], [7]]

     Further explanation is available in the FAQ entry *Note How do I
     create a multidimensional list?: 8e1.

  3. If `i' or `j' is negative, the index is relative to the end of the
     string: `len(s) + i' or `len(s) + j' is substituted.  But note
     that `-0' is still `0'.

  4. The slice of `s' from `i' to `j' is defined as the sequence of
     items with index `k' such that `i <= k < j'.  If `i' or `j' is
     greater than `len(s)', use `len(s)'.  If `i' is omitted or `None',
     use `0'.  If `j' is omitted or `None', use `len(s)'.  If `i' is
     greater than or equal to `j', the slice is empty.

  5. The slice of `s' from `i' to `j' with step `k' is defined as the
     sequence of items with index  `x = i + n*k' such that `0 <= n <
     (j-i)/k'.  In other words, the indices are `i', `i+k', `i+2*k',
     `i+3*k' and so on, stopping when `j' is reached (but never
     including `j').  If `i' or `j' is greater than `len(s)', use
     `len(s)'.  If `i' or `j' are omitted or `None', they become
     “end” values (which end depends on the sign of `k').  Note,
     `k' cannot be zero.  If `k' is `None', it is treated like `1'.

  6. `CPython implementation detail:' If `s' and `t' are both strings,
     some Python implementations such as CPython can usually perform an
     in-place optimization for assignments of the form `s = s + t' or
     `s += t'.  When applicable, this optimization makes quadratic
     run-time much less likely.  This optimization is both version and
     implementation dependent.  For performance sensitive code, it is
     preferable to use the *Note str.join(): 8e2. method which assures
     consistent linear concatenation performance across versions and
     implementations.

     Changed in version 2.4: Formerly, string concatenation never
     occurred in-place.


* Menu:

* String Methods: String Methods<2>.
* String Formatting Operations::
* XRange Type::
* Mutable Sequence Types::

---------- Footnotes ----------

(1) They must have since the parser can’t tell the type of the
operands.


File: python.info,  Node: String Methods<2>,  Next: String Formatting Operations,  Up: Sequence Types — str unicode list tuple bytearray buffer xrange

5.5.6.1 String Methods
......................

Below are listed the string methods which both 8-bit strings and
Unicode objects support.  Some of them are also available on *Note
bytearray: 1f7.  objects.

In addition, Python’s strings support the sequence type methods
described in the *Note Sequence Types — str, unicode, list, tuple,
bytearray, buffer, xrange: 53d. section. To output formatted strings
use template strings or the `%' operator described in the *Note String
Formatting Operations: 53f. section. Also, see the *Note re: 144.
module for string functions based on regular expressions.

 -- Method: str.capitalize ()
     Return a copy of the string with its first character capitalized
     and the rest lowercased.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.center (width[, fillchar])
     Return centered in a string of length `width'. Padding is done
     using the specified `fillchar' (default is a space).

     Changed in version 2.4: Support for the `fillchar' argument.


 -- Method: str.count (sub[, start[, end]])
     Return the number of non-overlapping occurrences of substring
     `sub' in the range [`start', `end'].  Optional arguments `start'
     and `end' are interpreted as in slice notation.

 -- Method: str.decode ([encoding[, errors]])
     Decodes the string using the codec registered for `encoding'.
     `encoding' defaults to the default string encoding.  `errors' may
     be given to set a different error handling scheme.  The default is
     `'strict'', meaning that encoding errors raise *Note UnicodeError:
     44c.  Other possible values are `'ignore'', `'replace'' and any
     other name registered via *Note codecs.register_error(): 457, see
     section *Note Codec Base Classes: 8e7.

     New in version 2.2.

     Changed in version 2.3: Support for other error handling schemes
     added.

     Changed in version 2.7: Support for keyword arguments added.


 -- Method: str.encode ([encoding[, errors]])
     Return an encoded version of the string.  Default encoding is the
     current default string encoding.  `errors' may be given to set a
     different error handling scheme.  The default for `errors' is
     `'strict'', meaning that encoding errors raise a *Note
     UnicodeError: 44c.  Other possible values are `'ignore'',
     `'replace'', `'xmlcharrefreplace'', `'backslashreplace'' and any
     other name registered via *Note codecs.register_error(): 457, see
     section *Note Codec Base Classes: 8e7. For a list of possible
     encodings, see section *Note Standard Encodings: 8e8.

     New in version 2.0.

     Changed in version 2.3: Support for `'xmlcharrefreplace'' and
     `'backslashreplace'' and other error handling schemes added.

     Changed in version 2.7: Support for keyword arguments added.


 -- Method: str.endswith (suffix[, start[, end]])
     Return `True' if the string ends with the specified `suffix',
     otherwise return `False'.  `suffix' can also be a tuple of
     suffixes to look for.  With optional `start', test beginning at
     that position.  With optional `end', stop comparing at that
     position.

     Changed in version 2.5: Accept tuples as `suffix'.


 -- Method: str.expandtabs ([tabsize])
     Return a copy of the string where all tab characters are replaced
     by one or more spaces, depending on the current column and the
     given tab size.  Tab positions occur every `tabsize' characters
     (default is 8, giving tab positions at columns 0, 8, 16 and so
     on).  To expand the string, the current column is set to zero and
     the string is examined character by character.  If the character
     is a tab (`\t'), one or more space characters are inserted in the
     result until the current column is equal to the next tab position.
     (The tab character itself is not copied.)  If the character is a
     newline (`\n') or return (`\r'), it is copied and the current
     column is reset to zero.  Any other character is copied unchanged
     and the current column is incremented by one regardless of how the
     character is represented when printed.

         >>> '01\t012\t0123\t01234'.expandtabs()
         '01      012     0123    01234'
         >>> '01\t012\t0123\t01234'.expandtabs(4)
         '01  012 0123    01234'

 -- Method: str.find (sub[, start[, end]])
     Return the lowest index in the string where substring `sub' is
     found within the slice `s[start:end]'.  Optional arguments `start'
     and `end' are interpreted as in slice notation.  Return `-1' if
     `sub' is not found.

          Note: The *Note find(): 8eb. method should be used only if
          you need to know the position of `sub'.  To check if `sub' is
          a substring or not, use the *Note in: 441. operator:

              >>> 'Py' in 'Python'
              True

 -- Method: str.format (*args, **kwargs)
     Perform a string formatting operation.  The string on which this
     method is called can contain literal text or replacement fields
     delimited by braces `{}'.  Each replacement field contains either
     the numeric index of a positional argument, or the name of a
     keyword argument.  Returns a copy of the string where each
     replacement field is replaced with the string value of the
     corresponding argument.

         >>> "The sum of 1 + 2 is {0}".format(1+2)
         'The sum of 1 + 2 is 3'

     See *Note Format String Syntax: 31c. for a description of the
     various formatting options that can be specified in format strings.

     This method of string formatting is the new standard in Python 3,
     and should be preferred to the `%' formatting described in *Note
     String Formatting Operations: 53f. in new code.

     New in version 2.6.


 -- Method: str.index (sub[, start[, end]])
     Like *Note find(): 8eb, but raise *Note ValueError: 236. when the
     substring is not found.

 -- Method: str.isalnum ()
     Return true if all characters in the string are alphanumeric and
     there is at least one character, false otherwise.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.isalpha ()
     Return true if all characters in the string are alphabetic and
     there is at least one character, false otherwise.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.isdigit ()
     Return true if all characters in the string are digits and there
     is at least one character, false otherwise.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.islower ()
     Return true if all cased characters (1) in the string are
     lowercase and there is at least one cased character, false
     otherwise.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.isspace ()
     Return true if there are only whitespace characters in the string
     and there is at least one character, false otherwise.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.istitle ()
     Return true if the string is a titlecased string and there is at
     least one character, for example uppercase characters may only
     follow uncased characters and lowercase characters only cased
     ones.  Return false otherwise.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.isupper ()
     Return true if all cased characters (2) in the string are
     uppercase and there is at least one cased character, false
     otherwise.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.join (iterable)
     Return a string which is the concatenation of the strings in the
     *Note iterable: 8f4. `iterable'.  The separator between elements
     is the string providing this method.

 -- Method: str.ljust (width[, fillchar])
     Return the string left justified in a string of length `width'.
     Padding is done using the specified `fillchar' (default is a
     space).  The original string is returned if `width' is less than
     or equal to `len(s)'.

     Changed in version 2.4: Support for the `fillchar' argument.


 -- Method: str.lower ()
     Return a copy of the string with all the cased characters (3)
     converted to lowercase.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.lstrip ([chars])
     Return a copy of the string with leading characters removed.  The
     `chars' argument is a string specifying the set of characters to
     be removed.  If omitted or `None', the `chars' argument defaults
     to removing whitespace.  The `chars' argument is not a prefix;
     rather, all combinations of its values are stripped:

         >>> '   spacious   '.lstrip()
         'spacious   '
         >>> 'www.example.com'.lstrip('cmowz.')
         'example.com'

     Changed in version 2.2.2: Support for the `chars' argument.


 -- Method: str.partition (sep)
     Split the string at the first occurrence of `sep', and return a
     3-tuple containing the part before the separator, the separator
     itself, and the part after the separator.  If the separator is not
     found, return a 3-tuple containing the string itself, followed by
     two empty strings.

     New in version 2.5.


 -- Method: str.replace (old, new[, count])
     Return a copy of the string with all occurrences of substring
     `old' replaced by `new'.  If the optional argument `count' is
     given, only the first `count' occurrences are replaced.

 -- Method: str.rfind (sub[, start[, end]])
     Return the highest index in the string where substring `sub' is
     found, such that `sub' is contained within `s[start:end]'.
     Optional arguments `start' and `end' are interpreted as in slice
     notation.  Return `-1' on failure.

 -- Method: str.rindex (sub[, start[, end]])
     Like *Note rfind(): 8f9. but raises *Note ValueError: 236. when
     the substring `sub' is not found.

 -- Method: str.rjust (width[, fillchar])
     Return the string right justified in a string of length `width'.
     Padding is done using the specified `fillchar' (default is a
     space). The original string is returned if `width' is less than or
     equal to `len(s)'.

     Changed in version 2.4: Support for the `fillchar' argument.


 -- Method: str.rpartition (sep)
     Split the string at the last occurrence of `sep', and return a
     3-tuple containing the part before the separator, the separator
     itself, and the part after the separator.  If the separator is not
     found, return a 3-tuple containing two empty strings, followed by
     the string itself.

     New in version 2.5.


 -- Method: str.rsplit ([sep[, maxsplit]])
     Return a list of the words in the string, using `sep' as the
     delimiter string.  If `maxsplit' is given, at most `maxsplit'
     splits are done, the `rightmost' ones.  If `sep' is not specified
     or `None', any whitespace string is a separator.  Except for
     splitting from the right, *Note rsplit(): 8fc. behaves like *Note
     split(): 8fd. which is described in detail below.

     New in version 2.4.


 -- Method: str.rstrip ([chars])
     Return a copy of the string with trailing characters removed.  The
     `chars' argument is a string specifying the set of characters to
     be removed.  If omitted or `None', the `chars' argument defaults
     to removing whitespace.  The `chars' argument is not a suffix;
     rather, all combinations of its values are stripped:

         >>> '   spacious   '.rstrip()
         '   spacious'
         >>> 'mississippi'.rstrip('ipz')
         'mississ'

     Changed in version 2.2.2: Support for the `chars' argument.


 -- Method: str.split ([sep[, maxsplit]])
     Return a list of the words in the string, using `sep' as the
     delimiter string.  If `maxsplit' is given, at most `maxsplit'
     splits are done (thus, the list will have at most `maxsplit+1'
     elements).  If `maxsplit' is not specified or `-1', then there is
     no limit on the number of splits (all possible splits are made).

     If `sep' is given, consecutive delimiters are not grouped together
     and are deemed to delimit empty strings (for example,
     `'1,,2'.split(',')' returns `['1', '', '2']').  The `sep' argument
     may consist of multiple characters (for example,
     `'1<>2<>3'.split('<>')' returns `['1', '2', '3']').  Splitting an
     empty string with a specified separator returns `['']'.

     If `sep' is not specified or is `None', a different splitting
     algorithm is applied: runs of consecutive whitespace are regarded
     as a single separator, and the result will contain no empty
     strings at the start or end if the string has leading or trailing
     whitespace.  Consequently, splitting an empty string or a string
     consisting of just whitespace with a `None' separator returns `[]'.

     For example, `' 1  2   3  '.split()' returns `['1', '2', '3']', and
     `'  1  2   3  '.split(None, 1)' returns `['1', '2   3  ']'.

 -- Method: str.splitlines ([keepends])
     Return a list of the lines in the string, breaking at line
     boundaries.  This method uses the *Note universal newlines: 329.
     approach to splitting lines.  Line breaks are not included in the
     resulting list unless `keepends' is given and true.

     Python recognizes `"\r"', `"\n"', and `"\r\n"' as line boundaries
     for 8-bit strings.

     For example:

         >>> 'ab c\n\nde fg\rkl\r\n'.splitlines()
         ['ab c', '', 'de fg', 'kl']
         >>> 'ab c\n\nde fg\rkl\r\n'.splitlines(True)
         ['ab c\n', '\n', 'de fg\r', 'kl\r\n']

     Unlike *Note split(): 8fd. when a delimiter string `sep' is given,
     this method returns an empty list for the empty string, and a
     terminal line break does not result in an extra line:

         >>> "".splitlines()
         []
         >>> "One line\n".splitlines()
         ['One line']

     For comparison, `split('\n')' gives:

         >>> ''.split('\n')
         ['']
         >>> 'Two lines\n'.split('\n')
         ['Two lines', '']

 -- Method: unicode.splitlines ([keepends])
     Return a list of the lines in the string, like *Note
     str.splitlines(): 8ff.  However, the Unicode method splits on the
     following line boundaries, which are a superset of the *Note
     universal newlines: 329. recognized for 8-bit strings.

     Representation              Description
     -------------------------------------------------------------- 
     `\n'                        Line Feed
     `\r'                        Carriage Return
     `\r\n'                      Carriage Return + Line Feed
     `\v' or `\x0b'              Line Tabulation
     `\f' or `\x0c'              Form Feed
     `\x1c'                      File Separator
     `\x1d'                      Group Separator
     `\x1e'                      Record Separator
     `\x85'                      Next Line (C1 Control Code)
     `\u2028'                    Line Separator
     `\u2029'                    Paragraph Separator

     Changed in version 2.7: `\v' and `\f' added to list of line
     boundaries.


 -- Method: str.startswith (prefix[, start[, end]])
     Return `True' if string starts with the `prefix', otherwise return
     `False'.  `prefix' can also be a tuple of prefixes to look for.
     With optional `start', test string beginning at that position.
     With optional `end', stop comparing string at that position.

     Changed in version 2.5: Accept tuples as `prefix'.


 -- Method: str.strip ([chars])
     Return a copy of the string with the leading and trailing
     characters removed.  The `chars' argument is a string specifying
     the set of characters to be removed.  If omitted or `None', the
     `chars' argument defaults to removing whitespace.  The `chars'
     argument is not a prefix or suffix; rather, all combinations of its
     values are stripped:

         >>> '   spacious   '.strip()
         'spacious'
         >>> 'www.example.com'.strip('cmowz.')
         'example'

     Changed in version 2.2.2: Support for the `chars' argument.


 -- Method: str.swapcase ()
     Return a copy of the string with uppercase characters converted to
     lowercase and vice versa.

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.title ()
     Return a titlecased version of the string where words start with
     an uppercase character and the remaining characters are lowercase.

     The algorithm uses a simple language-independent definition of a
     word as groups of consecutive letters.  The definition works in
     many contexts but it means that apostrophes in contractions and
     possessives form word boundaries, which may not be the desired
     result:

         >>> "they're bill's friends from the UK".title()
         "They'Re Bill'S Friends From The Uk"

     A workaround for apostrophes can be constructed using regular
     expressions:

         >>> import re
         >>> def titlecase(s):
         ...     return re.sub(r"[A-Za-z]+('[A-Za-z]+)?",
         ...                   lambda mo: mo.group(0)[0].upper() +
         ...                              mo.group(0)[1:].lower(),
         ...                   s)
         ...
         >>> titlecase("they're bill's friends.")
         "They're Bill's Friends."

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.translate (table[, deletechars])
     Return a copy of the string where all characters occurring in the
     optional argument `deletechars' are removed, and the remaining
     characters have been mapped through the given translation table,
     which must be a string of length 256.

     You can use the *Note maketrans(): 906. helper function in the
     *Note string: 163.  module to create a translation table. For
     string objects, set the `table' argument to `None' for
     translations that only delete characters:

         >>> 'read this short text'.translate(None, 'aeiou')
         'rd ths shrt txt'

     New in version 2.6: Support for a `None' `table' argument.

     For Unicode objects, the *Note translate(): 905. method does not
     accept the optional `deletechars' argument.  Instead, it returns a
     copy of the `s' where all characters have been mapped through the
     given translation table which must be a mapping of Unicode
     ordinals to Unicode ordinals, Unicode strings or `None'.  Unmapped
     characters are left untouched. Characters mapped to `None' are
     deleted.  Note, a more flexible approach is to create a custom
     character mapping codec using the *Note codecs: 63. module (see
     `encodings.cp1251' for an example).

 -- Method: str.upper ()
     Return a copy of the string with all the cased characters (4)
     converted to uppercase.  Note that `str.upper().isupper()' might
     be `False' if `s' contains uncased characters or if the Unicode
     category of the resulting character(s) is not “Lu” (Letter,
     uppercase), but e.g. “Lt” (Letter, titlecase).

     For 8-bit strings, this method is locale-dependent.

 -- Method: str.zfill (width)
     Return the numeric string left filled with zeros in a string of
     length `width'.  A sign prefix is handled correctly.  The original
     string is returned if `width' is less than or equal to `len(s)'.

     New in version 2.2.2.


The following methods are present only on unicode objects:

 -- Method: unicode.isnumeric ()
     Return `True' if there are only numeric characters in S, `False'
     otherwise. Numeric characters include digit characters, and all
     characters that have the Unicode numeric value property, e.g.
     U+2155, VULGAR FRACTION ONE FIFTH.

 -- Method: unicode.isdecimal ()
     Return `True' if there are only decimal characters in S, `False'
     otherwise. Decimal characters include digit characters, and all
     characters that can be used to form decimal-radix numbers, e.g.
     U+0660, ARABIC-INDIC DIGIT ZERO.

---------- Footnotes ----------

(1) Cased characters are those with general category property being one
of “Lu” (Letter, uppercase), “Ll” (Letter, lowercase), or
“Lt” (Letter, titlecase).

(2) Cased characters are those with general category property being one
of “Lu” (Letter, uppercase), “Ll” (Letter, lowercase), or
“Lt” (Letter, titlecase).

(3) Cased characters are those with general category property being one
of “Lu” (Letter, uppercase), “Ll” (Letter, lowercase), or
“Lt” (Letter, titlecase).

(4) Cased characters are those with general category property being one
of “Lu” (Letter, uppercase), “Ll” (Letter, lowercase), or
“Lt” (Letter, titlecase).


File: python.info,  Node: String Formatting Operations,  Next: XRange Type,  Prev: String Methods<2>,  Up: Sequence Types — str unicode list tuple bytearray buffer xrange

5.5.6.2 String Formatting Operations
....................................

String and Unicode objects have one unique built-in operation: the `%'
operator (modulo).  This is also known as the string `formatting' or
`interpolation' operator.  Given `format % values' (where `format' is a
string or Unicode object), `%' conversion specifications in `format'
are replaced with zero or more elements of `values'.  The effect is
similar to the using `sprintf()' in the C language.  If `format' is a
Unicode object, or if any of the objects being converted using the `%s'
conversion are Unicode objects, the result will also be a Unicode
object.

If `format' requires a single argument, `values' may be a single
non-tuple object. (1)  Otherwise, `values' must be a tuple with exactly
the number of items specified by the format string, or a single mapping
object (for example, a dictionary).

A conversion specifier contains two or more characters and has the
following components, which must occur in this order:

  1. The `'%'' character, which marks the start of the specifier.

  2. Mapping key (optional), consisting of a parenthesised sequence of
     characters (for example, `(somename)').

  3. Conversion flags (optional), which affect the result of some
     conversion types.

  4. Minimum field width (optional).  If specified as an `'*''
     (asterisk), the actual width is read from the next element of the
     tuple in `values', and the object to convert comes after the
     minimum field width and optional precision.

  5. Precision (optional), given as a `'.'' (dot) followed by the
     precision.  If specified as `'*'' (an asterisk), the actual width
     is read from the next element of the tuple in `values', and the
     value to convert comes after the precision.

  6. Length modifier (optional).

  7. Conversion type.

When the right argument is a dictionary (or other mapping type), then
the formats in the string `must' include a parenthesised mapping key
into that dictionary inserted immediately after the `'%'' character.
The mapping key selects the value to be formatted from the mapping.
For example:

    >>> print '%(language)s has %(number)03d quote types.' % \
    ...       {"language": "Python", "number": 2}
    Python has 002 quote types.

In this case no `*' specifiers may occur in a format (since they
require a sequential parameter list).

The conversion flag characters are:

Flag          Meaning
---------------------------------------------------------------------------------------- 
`'#''         The value conversion will use the “alternate form” (where defined
              below).
`'0''         The conversion will be zero padded for numeric values.
`'-''         The converted value is left adjusted (overrides the `'0'' conversion if
              both are given).
`' ''         (a space) A blank should be left before a positive number (or empty
              string) produced by a signed conversion.
`'+''         A sign character (`'+'' or `'-'') will precede the conversion (overrides
              a “space” flag).

A length modifier (`h', `l', or `L') may be present, but is ignored as
it is not necessary for Python – so e.g. `%ld' is identical to `%d'.

The conversion types are:

Conversion       Meaning                                                   Notes
--------------------------------------------------------------------------------------- 
`'d''            Signed integer decimal.                                   
`'i''            Signed integer decimal.                                   
`'o''            Signed octal value.                                       (1)
`'u''            Obsolete type – it is identical to `'d''.               (7)
`'x''            Signed hexadecimal (lowercase).                           (2)
`'X''            Signed hexadecimal (uppercase).                           (2)
`'e''            Floating point exponential format (lowercase).            (3)
`'E''            Floating point exponential format (uppercase).            (3)
`'f''            Floating point decimal format.                            (3)
`'F''            Floating point decimal format.                            (3)
`'g''            Floating point format. Uses lowercase exponential format  (4)
                 if exponent is less than -4 or not less than precision,   
                 decimal format otherwise.                                 
`'G''            Floating point format. Uses uppercase exponential format  (4)
                 if exponent is less than -4 or not less than precision,   
                 decimal format otherwise.                                 
`'c''            Single character (accepts integer or single character     
                 string).                                                  
`'r''            String (converts any Python object using *Note repr():    (5)
                 89e.).                                                    
`'s''            String (converts any Python object using *Note str():     (6)
                 1ea.).                                                    
`'%''            No argument is converted, results in a `'%'' character    
                 in the result.                                            

Notes:

  1. The alternate form causes a leading zero (`'0'') to be inserted
     between left-hand padding and the formatting of the number if the
     leading character of the result is not already a zero.

  2. The alternate form causes a leading `'0x'' or `'0X'' (depending on
     whether the `'x'' or `'X'' format was used) to be inserted between
     left-hand padding and the formatting of the number if the leading
     character of the result is not already a zero.

  3. The alternate form causes the result to always contain a decimal
     point, even if no digits follow it.

     The precision determines the number of digits after the decimal
     point and defaults to 6.

  4. The alternate form causes the result to always contain a decimal
     point, and trailing zeroes are not removed as they would otherwise
     be.

     The precision determines the number of significant digits before
     and after the decimal point and defaults to 6.

  5. The `%r' conversion was added in Python 2.0.

     The precision determines the maximal number of characters used.

  6. If the object or format provided is a *Note unicode: 1f5. string,
     the resulting string will also be *Note unicode: 1f5.

     The precision determines the maximal number of characters used.

  7. See PEP 237(2).

Since Python strings have an explicit length, `%s' conversions do not
assume that `'\0'' is the end of the string.

Changed in version 2.7: `%f' conversions for numbers whose absolute
value is over 1e50 are no longer replaced by `%g' conversions.

Additional string operations are defined in standard modules *Note
string: 163. and *Note re: 144.

---------- Footnotes ----------

(1) To format only a tuple you should therefore provide a singleton
tuple whose only element is the tuple to be formatted.

(2) https://www.python.org/dev/peps/pep-0237


File: python.info,  Node: XRange Type,  Next: Mutable Sequence Types,  Prev: String Formatting Operations,  Up: Sequence Types — str unicode list tuple bytearray buffer xrange

5.5.6.3 XRange Type
...................

The *Note xrange: 477. type is an immutable sequence which is commonly
used for looping.  The advantage of the *Note xrange: 477. type is that
an *Note xrange: 477.  object will always take the same amount of
memory, no matter the size of the range it represents.  There are no
consistent performance advantages.

XRange objects have very little behavior: they only support indexing,
iteration, and the *Note len(): 53c. function.


File: python.info,  Node: Mutable Sequence Types,  Prev: XRange Type,  Up: Sequence Types — str unicode list tuple bytearray buffer xrange

5.5.6.4 Mutable Sequence Types
..............................

List and *Note bytearray: 1f7. objects support additional operations
that allow in-place modification of the object. Other mutable sequence
types (when added to the language) should also support these
operations. Strings and tuples are immutable sequence types: such
objects cannot be modified once created.  The following operations are
defined on mutable sequence types (where `x' is an arbitrary object):

Operation                          Result                               Notes
-------------------------------------------------------------------------------------------------- 
`s[i] = x'                         item `i' of `s' is replaced by `x'   
`s[i:j] = t'                       slice of `s' from `i' to `j' is      
                                   replaced by the contents of the      
                                   iterable `t'                         
`del s[i:j]'                       same as `s[i:j] = []'                
`s[i:j:k] = t'                     the elements of `s[i:j:k]' are       (1)
                                   replaced by those of `t'             
`del s[i:j:k]'                     removes the elements of `s[i:j:k]'   
                                   from the list                        
`s.append(x)'                      same as `s[len(s):len(s)] = [x]'     (2)
`s.extend(t)' or `s += t'          for the most part the same as        (3)
                                   `s[len(s):len(s)] = t'               
`s *= n'                           updates `s' with its contents        (11)
                                   repeated `n' times                   
`s.count(x)'                       return number of `i'’s for which   
                                   `s[i] == x'                          
`s.index(x[, i[, j]])'             return smallest `k' such that `s[k]  (4)
                                   == x' and `i <= k < j'               
`s.insert(i, x)'                   same as `s[i:i] = [x]'               (5)
`s.pop([i])'                       same as `x = s[i]; del s[i]; return  (6)
                                   x'                                   
`s.remove(x)'                      same as `del s[s.index(x)]'          (4)
`s.reverse()'                      reverses the items of `s' in place   (7)
`s.sort([cmp[, key[, reverse]]])'  sort the items of `s' in place       (7)(8)(9)(10)

Notes:

  1. `t' must have the same length as the slice it is  replacing.

  2. The C implementation of Python has historically accepted multiple
     parameters and implicitly joined them into a tuple; this no longer
     works in Python 2.0.  Use of this misfeature has been deprecated
     since Python 1.4.

  3. `t' can be any iterable object.

  4. Raises *Note ValueError: 236. when `x' is not found in `s'. When a
     negative index is passed as the second or third parameter to the
     `index()' method, the list length is added, as for slice indices.
     If it is still negative, it is truncated to zero, as for slice
     indices.

     Changed in version 2.3: Previously, `index()' didn’t have
     arguments for specifying start and stop positions.

  5. When a negative index is passed as the first parameter to the
     `insert()' method, the list length is added, as for slice indices.
     If it is still negative, it is truncated to zero, as for slice
     indices.

     Changed in version 2.3: Previously, all negative indices were
     truncated to zero.

  6. The `pop()' method’s optional argument `i' defaults to `-1', so
     that by default the last item is removed and returned.

  7. The `sort()' and `reverse()' methods modify the list in place for
     economy of space when sorting or reversing a large list.  To
     remind you that they operate by side effect, they don’t return
     the sorted or reversed list.

  8. The `sort()' method takes optional arguments for controlling the
     comparisons.

     `cmp' specifies a custom comparison function of two arguments
     (list items) which should return a negative, zero or positive
     number depending on whether the first argument is considered
     smaller than, equal to, or larger than the second argument:
     `cmp=lambda x,y: cmp(x.lower(), y.lower())'.  The default value is
     `None'.

     `key' specifies a function of one argument that is used to extract
     a comparison key from each list element: `key=str.lower'.  The
     default value is `None'.

     `reverse' is a boolean value.  If set to `True', then the list
     elements are sorted as if each comparison were reversed.

     In general, the `key' and `reverse' conversion processes are much
     faster than specifying an equivalent `cmp' function.  This is
     because `cmp' is called multiple times for each list element while
     `key' and `reverse' touch each element only once.  Use *Note
     functools.cmp_to_key(): 222. to convert an old-style `cmp'
     function to a `key' function.

     Changed in version 2.3: Support for `None' as an equivalent to
     omitting `cmp' was added.

     Changed in version 2.4: Support for `key' and `reverse' was added.

  9. Starting with Python 2.3, the `sort()' method is guaranteed to be
     stable.  A sort is stable if it guarantees not to change the
     relative order of elements that compare equal — this is helpful
     for sorting in multiple passes (for example, sort by department,
     then by salary grade).

 10. `CPython implementation detail:' While a list is being sorted, the
     effect of attempting to mutate, or even inspect, the list is
     undefined.  The C implementation of Python 2.3 and newer makes the
     list appear empty for the duration, and raises *Note ValueError:
     236. if it can detect that the list has been mutated during a sort.

 11. The value `n' is an integer, or an object implementing *Note
     __index__(): 260.  Zero and negative values of `n' clear the
     sequence.  Items in the sequence are not copied; they are
     referenced multiple times, as explained for `s * n' under *Note
     Sequence Types — str, unicode, list, tuple, bytearray, buffer,
     xrange: 53d.


File: python.info,  Node: Set Types — set frozenset,  Next: Mapping Types — dict,  Prev: Sequence Types — str unicode list tuple bytearray buffer xrange,  Up: Built-in Types

5.5.7 Set Types — `set', `frozenset'
--------------------------------------

A `set' object is an unordered collection of distinct *Note hashable:
720. objects.  Common uses include membership testing, removing
duplicates from a sequence, and computing mathematical operations such
as intersection, union, difference, and symmetric difference.  (For
other containers see the built in *Note dict: 319, *Note list: 3d6, and
*Note tuple: 421. classes, and the *Note collections: 65. module.)

New in version 2.4.

Like other collections, sets support `x in set', `len(set)', and `for x
in set'.  Being an unordered collection, sets do not record element
position or order of insertion.  Accordingly, sets do not support
indexing, slicing, or other sequence-like behavior.

There are currently two built-in set types, *Note set: 382. and *Note
frozenset: 383.  The *Note set: 382. type is mutable — the contents
can be changed using methods like `add()' and `remove()'.  Since it is
mutable, it has no hash value and cannot be used as either a dictionary
key or as an element of another set.  The *Note frozenset: 383. type is
immutable and *Note hashable: 720. — its contents cannot be altered
after it is created; it can therefore be used as a dictionary key or as
an element of another set.

As of Python 2.7, non-empty sets (not frozensets) can be created by
placing a comma-separated list of elements within braces, for example:
`{'jack', 'sjoerd'}', in addition to the *Note set: 382. constructor.

The constructors for both classes work the same:

 -- Class: set ([iterable])
 -- Class: frozenset ([iterable])
     Return a new set or frozenset object whose elements are taken from
     `iterable'.  The elements of a set must be *Note hashable: 720.  To
     represent sets of sets, the inner sets must be *Note frozenset:
     383.  objects.  If `iterable' is not specified, a new empty set is
     returned.

     Instances of *Note set: 382. and *Note frozenset: 383. provide the
     following operations:

      -- Describe: len(s)
          Return the number of elements in set `s' (cardinality of `s').

      -- Describe: x in s
          Test `x' for membership in `s'.

      -- Describe: x not in s
          Test `x' for non-membership in `s'.

      -- Method: isdisjoint (other)
          Return `True' if the set has no elements in common with
          `other'.  Sets are disjoint if and only if their intersection
          is the empty set.

          New in version 2.6.


      -- Method: issubset (other)
      -- Method: set <= other
          Test whether every element in the set is in `other'.

      -- Method: set < other
          Test whether the set is a proper subset of `other', that is,
          `set <= other and set != other'.

      -- Method: issuperset (other)
      -- Method: set >= other
          Test whether every element in `other' is in the set.

      -- Method: set > other
          Test whether the set is a proper superset of `other', that
          is, `set >= other and set != other'.

      -- Method: union (*others)
      -- Method: set | other | ...
          Return a new set with elements from the set and all others.

          Changed in version 2.6: Accepts multiple input iterables.


      -- Method: intersection (*others)
      -- Method: set & other & ...
          Return a new set with elements common to the set and all
          others.

          Changed in version 2.6: Accepts multiple input iterables.


      -- Method: difference (*others)
      -- Method: set - other - ...
          Return a new set with elements in the set that are not in the
          others.

          Changed in version 2.6: Accepts multiple input iterables.


      -- Method: symmetric_difference (other)
      -- Method: set ^ other
          Return a new set with elements in either the set or `other'
          but not both.

      -- Method: copy ()
          Return a new set with a shallow copy of `s'.

     Note, the non-operator versions of *Note union(): 911, *Note
     intersection(): 912, *Note difference(): 913, and *Note
     symmetric_difference(): 914, *Note issubset(): 90f, and *Note
     issuperset(): 910. methods will accept any iterable as an
     argument.  In contrast, their operator based counterparts require
     their arguments to be sets.  This precludes error-prone
     constructions like `set('abc') & 'cbs'' in favor of the more
     readable `set('abc').intersection('cbs')'.

     Both *Note set: 382. and *Note frozenset: 383. support set to set
     comparisons. Two sets are equal if and only if every element of
     each set is contained in the other (each is a subset of the
     other). A set is less than another set if and only if the first
     set is a proper subset of the second set (is a subset, but is not
     equal). A set is greater than another set if and only if the first
     set is a proper superset of the second set (is a superset, but is
     not equal).

     Instances of *Note set: 382. are compared to instances of *Note
     frozenset: 383.  based on their members.  For example, `set('abc')
     == frozenset('abc')' returns `True' and so does `set('abc') in
     set([frozenset('abc')])'.

     The subset and equality comparisons do not generalize to a total
     ordering function.  For example, any two non-empty disjoint sets
     are not equal and are not subsets of each other, so `all' of the
     following return `False': `a<b', `a==b', or `a>b'. Accordingly,
     sets do not implement the *Note __cmp__(): 221.  method.

     Since sets only define partial ordering (subset relationships),
     the output of the `list.sort()' method is undefined for lists of
     sets.

     Set elements, like dictionary keys, must be *Note hashable: 720.

     Binary operations that mix *Note set: 382. instances with *Note
     frozenset: 383.  return the type of the first operand.  For
     example: `frozenset('ab') | set('bc')' returns an instance of
     *Note frozenset: 383.

     The following table lists operations available for *Note set: 382.
     that do not apply to immutable instances of *Note frozenset: 383.:

      -- Method: update (*others)
      -- Method: set |= other | ...
          Update the set, adding elements from all others.

          Changed in version 2.6: Accepts multiple input iterables.


      -- Method: intersection_update (*others)
      -- Method: set &= other & ...
          Update the set, keeping only elements found in it and all
          others.

          Changed in version 2.6: Accepts multiple input iterables.


      -- Method: difference_update (*others)
      -- Method: set -= other | ...
          Update the set, removing elements found in others.

          Changed in version 2.6: Accepts multiple input iterables.


      -- Method: symmetric_difference_update (other)
      -- Method: set ^= other
          Update the set, keeping only elements found in either set,
          but not in both.

      -- Method: add (elem)
          Add element `elem' to the set.

      -- Method: remove (elem)
          Remove element `elem' from the set.  Raises *Note KeyError:
          205. if `elem' is not contained in the set.

      -- Method: discard (elem)
          Remove element `elem' from the set if it is present.

      -- Method: pop ()
          Remove and return an arbitrary element from the set.  Raises
          *Note KeyError: 205. if the set is empty.

      -- Method: clear ()
          Remove all elements from the set.

     Note, the non-operator versions of the *Note update(): 916, *Note
     intersection_update(): 917, *Note difference_update(): 918, and
     *Note symmetric_difference_update(): 919. methods will accept any
     iterable as an argument.

     Note, the `elem' argument to the *Note __contains__(): 336, *Note
     remove(): 91b, and *Note discard(): 91c. methods may be a set.  To
     support searching for an equivalent frozenset, the `elem' set is
     temporarily mutated during the search and then restored.  During
     the search, the `elem' set should not be read or mutated since it
     does not have a meaningful value.

See also
........

*Note Comparison to the built-in set types: 91f.
     Differences between the *Note sets: 14f. module and the built-in
     set types.


File: python.info,  Node: Mapping Types — dict,  Next: File Objects,  Prev: Set Types — set frozenset,  Up: Built-in Types

5.5.8 Mapping Types — `dict'
------------------------------

A *Note mapping: 921. object maps *Note hashable: 720. values to
arbitrary objects.  Mappings are mutable objects.  There is currently
only one standard mapping type, the `dictionary'.  (For other
containers see the built in *Note list: 3d6, *Note set: 382, and *Note
tuple: 421. classes, and the *Note collections: 65. module.)

A dictionary’s keys are `almost' arbitrary values.  Values that are
not *Note hashable: 720, that is, values containing lists, dictionaries
or other mutable types (that are compared by value rather than by
object identity) may not be used as keys.  Numeric types used for keys
obey the normal rules for numeric comparison: if two numbers compare
equal (such as `1' and `1.0') then they can be used interchangeably to
index the same dictionary entry.  (Note however, that since computers
store floating-point numbers as approximations it is usually unwise to
use them as dictionary keys.)

Dictionaries can be created by placing a comma-separated list of `key:
value' pairs within braces, for example: `{'jack': 4098, 'sjoerd':
4127}' or `{4098: 'jack', 4127: 'sjoerd'}', or by the *Note dict: 319.
constructor.

 -- Class: dict (**kwarg)
 -- Class: dict (mapping, **kwarg)
 -- Class: dict (iterable, **kwarg)
     Return a new dictionary initialized from an optional positional
     argument and a possibly empty set of keyword arguments.

     If no positional argument is given, an empty dictionary is created.
     If a positional argument is given and it is a mapping object, a
     dictionary is created with the same key-value pairs as the mapping
     object.  Otherwise, the positional argument must be an *Note
     iterable: 8f4. object.  Each item in the iterable must itself be
     an iterable with exactly two objects.  The first object of each
     item becomes a key in the new dictionary, and the second object
     the corresponding value.  If a key occurs more than once, the last
     value for that key becomes the corresponding value in the new
     dictionary.

     If keyword arguments are given, the keyword arguments and their
     values are added to the dictionary created from the positional
     argument.  If a key being added is already present, the value from
     the keyword argument replaces the value from the positional
     argument.

     To illustrate, the following examples all return a dictionary
     equal to `{"one": 1, "two": 2, "three": 3}':

         >>> a = dict(one=1, two=2, three=3)
         >>> b = {'one': 1, 'two': 2, 'three': 3}
         >>> c = dict(zip(['one', 'two', 'three'], [1, 2, 3]))
         >>> d = dict([('two', 2), ('one', 1), ('three', 3)])
         >>> e = dict({'three': 3, 'one': 1, 'two': 2})
         >>> a == b == c == d == e
         True

     Providing keyword arguments as in the first example only works for
     keys that are valid Python identifiers.  Otherwise, any valid keys
     can be used.

     New in version 2.2.

     Changed in version 2.3: Support for building a dictionary from
     keyword arguments added.

     These are the operations that dictionaries support (and therefore,
     custom mapping types should support too):

      -- Describe: len(d)
          Return the number of items in the dictionary `d'.

      -- Describe: d[key]
          Return the item of `d' with key `key'.  Raises a *Note
          KeyError: 205. if `key' is not in the map.

          If a subclass of dict defines a method *Note __missing__():
          753. and `key' is not present, the `d[key]' operation calls
          that method with the key `key' as argument.  The `d[key]'
          operation then returns or raises whatever is returned or
          raised by the `__missing__(key)' call.  No other operations
          or methods invoke *Note __missing__(): 753. If *Note
          __missing__(): 753. is not defined, *Note KeyError: 205. is
          raised.  *Note __missing__(): 753. must be a method; it
          cannot be an instance variable:

              >>> class Counter(dict):
              ...     def __missing__(self, key):
              ...         return 0
              >>> c = Counter()
              >>> c['red']
              0
              >>> c['red'] += 1
              >>> c['red']
              1

          The example above shows part of the implementation of *Note
          collections.Counter: 1b7.  A different `__missing__' method
          is used by *Note collections.defaultdict: 922.

          New in version 2.5: Recognition of __missing__ methods of
          dict subclasses.


      -- Describe: d[key] = value
          Set `d[key]' to `value'.

      -- Describe: del d[key]
          Remove `d[key]' from `d'.  Raises a *Note KeyError: 205. if
          `key' is not in the map.

      -- Describe: key in d
          Return `True' if `d' has a key `key', else `False'.

          New in version 2.2.


      -- Describe: key not in d
          Equivalent to `not key in d'.

          New in version 2.2.


      -- Describe: iter(d)
          Return an iterator over the keys of the dictionary.  This is
          a shortcut for *Note iterkeys(): 923.

      -- Method: clear ()
          Remove all items from the dictionary.

      -- Method: copy ()
          Return a shallow copy of the dictionary.

      -- Method: fromkeys (seq[, value])
          Create a new dictionary with keys from `seq' and values set
          to `value'.

          *Note fromkeys(): 926. is a class method that returns a new
          dictionary. `value' defaults to `None'.

          New in version 2.3.


      -- Method: get (key[, default])
          Return the value for `key' if `key' is in the dictionary,
          else `default'.  If `default' is not given, it defaults to
          `None', so that this method never raises a *Note KeyError:
          205.

      -- Method: has_key (key)
          Test for the presence of `key' in the dictionary.  *Note
          has_key(): 928. is deprecated in favor of `key in d'.

      -- Method: items ()
          Return a copy of the dictionary’s list of `(key, value)'
          pairs.

          `CPython implementation detail:' Keys and values are listed
          in an arbitrary order which is non-random, varies across
          Python implementations, and depends on the dictionary’s
          history of insertions and deletions.

          If *Note items(): 1e3, *Note keys(): 1e1, *Note values():
          1e2, *Note iteritems(): 929, *Note iterkeys(): 923, and *Note
          itervalues(): 92a. are called with no intervening
          modifications to the dictionary, the lists will directly
          correspond.  This allows the creation of `(value, key)' pairs
          using *Note zip(): 41e.: `pairs = zip(d.values(), d.keys())'.
          The same relationship holds for the *Note iterkeys(): 923.
          and *Note itervalues(): 92a. methods: `pairs =
          zip(d.itervalues(), d.iterkeys())' provides the same value for
          `pairs'. Another way to create the same list is `pairs = [(v,
          k) for (k, v) in d.iteritems()]'.

      -- Method: iteritems ()
          Return an iterator over the dictionary’s `(key, value)'
          pairs.  See the note for *Note dict.items(): 1e3.

          Using *Note iteritems(): 929. while adding or deleting
          entries in the dictionary may raise a *Note RuntimeError:
          3b3. or fail to iterate over all entries.

          New in version 2.2.


      -- Method: iterkeys ()
          Return an iterator over the dictionary’s keys.  See the
          note for *Note dict.items(): 1e3.

          Using *Note iterkeys(): 923. while adding or deleting entries
          in the dictionary may raise a *Note RuntimeError: 3b3. or
          fail to iterate over all entries.

          New in version 2.2.


      -- Method: itervalues ()
          Return an iterator over the dictionary’s values.  See the
          note for *Note dict.items(): 1e3.

          Using *Note itervalues(): 92a. while adding or deleting
          entries in the dictionary may raise a *Note RuntimeError:
          3b3. or fail to iterate over all entries.

          New in version 2.2.


      -- Method: keys ()
          Return a copy of the dictionary’s list of keys.  See the
          note for *Note dict.items(): 1e3.

      -- Method: pop (key[, default])
          If `key' is in the dictionary, remove it and return its
          value, else return `default'.  If `default' is not given and
          `key' is not in the dictionary, a *Note KeyError: 205. is
          raised.

          New in version 2.3.


      -- Method: popitem ()
          Remove and return an arbitrary `(key, value)' pair from the
          dictionary.

          *Note popitem(): 92c. is useful to destructively iterate over
          a dictionary, as often used in set algorithms.  If the
          dictionary is empty, calling *Note popitem(): 92c. raises a
          *Note KeyError: 205.

      -- Method: setdefault (key[, default])
          If `key' is in the dictionary, return its value.  If not,
          insert `key' with a value of `default' and return `default'.
          `default' defaults to `None'.

      -- Method: update ([other])
          Update the dictionary with the key/value pairs from `other',
          overwriting existing keys.  Return `None'.

          *Note update(): 41b. accepts either another dictionary object
          or an iterable of key/value pairs (as tuples or other
          iterables of length two).  If keyword arguments are
          specified, the dictionary is then updated with those
          key/value pairs: `d.update(red=1, blue=2)'.

          Changed in version 2.4: Allowed the argument to be an
          iterable of key/value pairs and allowed keyword arguments.


      -- Method: values ()
          Return a copy of the dictionary’s list of values.  See the
          note for *Note dict.items(): 1e3.

      -- Method: viewitems ()
          Return a new view of the dictionary’s items (`(key, value)'
          pairs).  See below for documentation of view objects.

          New in version 2.7.


      -- Method: viewkeys ()
          Return a new view of the dictionary’s keys.  See below for
          documentation of view objects.

          New in version 2.7.


      -- Method: viewvalues ()
          Return a new view of the dictionary’s values.  See below
          for documentation of view objects.

          New in version 2.7.


     Dictionaries compare equal if and only if they have the same `(key,
     value)' pairs.

* Menu:

* Dictionary view objects::


File: python.info,  Node: Dictionary view objects,  Up: Mapping Types — dict

5.5.8.1 Dictionary view objects
...............................

The objects returned by *Note dict.viewkeys(): 1e4, *Note
dict.viewvalues(): 1e5. and *Note dict.viewitems(): 1e6. are `view
objects'.  They provide a dynamic view on the dictionary’s entries,
which means that when the dictionary changes, the view reflects these
changes.

Dictionary views can be iterated over to yield their respective data,
and support membership tests:

 -- Describe: len(dictview)
     Return the number of entries in the dictionary.

 -- Describe: iter(dictview)
     Return an iterator over the keys, values or items (represented as
     tuples of `(key, value)') in the dictionary.

     Keys and values are iterated over in an arbitrary order which is
     non-random, varies across Python implementations, and depends on
     the dictionary’s history of insertions and deletions. If keys,
     values and items views are iterated over with no intervening
     modifications to the dictionary, the order of items will directly
     correspond.  This allows the creation of `(value, key)' pairs
     using *Note zip(): 41e.: `pairs = zip(d.values(), d.keys())'.
     Another way to create the same list is `pairs = [(v, k) for (k, v)
     in d.items()]'.

     Iterating views while adding or deleting entries in the dictionary
     may raise a *Note RuntimeError: 3b3. or fail to iterate over all
     entries.

 -- Describe: x in dictview
     Return `True' if `x' is in the underlying dictionary’s keys,
     values or items (in the latter case, `x' should be a `(key,
     value)' tuple).

Keys views are set-like since their entries are unique and hashable.
If all values are hashable, so that (key, value) pairs are unique and
hashable, then the items view is also set-like.  (Values views are not
treated as set-like since the entries are generally not unique.)  Then
these set operations are available (“other” refers either to
another view or a set):

 -- Describe: dictview & other
     Return the intersection of the dictview and the other object as a
     new set.

 -- Describe: dictview | other
     Return the union of the dictview and the other object as a new set.

 -- Describe: dictview - other
     Return the difference between the dictview and the other object
     (all elements in `dictview' that aren’t in `other') as a new set.

 -- Describe: dictview ^ other
     Return the symmetric difference (all elements either in `dictview'
     or `other', but not in both) of the dictview and the other object
     as a new set.

An example of dictionary view usage:

    >>> dishes = {'eggs': 2, 'sausage': 1, 'bacon': 1, 'spam': 500}
    >>> keys = dishes.viewkeys()
    >>> values = dishes.viewvalues()

    >>> # iteration
    >>> n = 0
    >>> for val in values:
    ...     n += val
    >>> print(n)
    504

    >>> # keys and values are iterated over in the same order
    >>> list(keys)
    ['eggs', 'bacon', 'sausage', 'spam']
    >>> list(values)
    [2, 1, 1, 500]

    >>> # view objects are dynamic and reflect dict changes
    >>> del dishes['eggs']
    >>> del dishes['sausage']
    >>> list(keys)
    ['spam', 'bacon']

    >>> # set operations
    >>> keys & {'eggs', 'bacon', 'salad'}
    {'bacon'}


File: python.info,  Node: File Objects,  Next: memoryview type,  Prev: Mapping Types — dict,  Up: Built-in Types

5.5.9 File Objects
------------------

File objects are implemented using C’s `stdio' package and can be
created with the built-in *Note open(): 2d9. function.  File objects
are also returned by some other built-in functions and methods, such as
*Note os.popen(): 728. and *Note os.fdopen(): 729. and the `makefile()'
method of socket objects. Temporary files can be created using the
*Note tempfile: 173. module, and high-level file operations such as
copying, moving, and deleting files and directories can be achieved
with the *Note shutil: 154. module.

When a file operation fails for an I/O-related reason, the exception
*Note IOError: 1fa. is raised.  This includes situations where the
operation is not defined for some reason, like `seek()' on a tty device
or writing a file opened for reading.

Files have the following methods:

 -- Method: file.close ()
     Close the file.  A closed file cannot be read or written any more.
     Any operation which requires that the file be open will raise a
     *Note ValueError: 236. after the file has been closed.  Calling
     *Note close(): 931. more than once is allowed.

     As of Python 2.5, you can avoid having to call this method
     explicitly if you use the *Note with: 1c1. statement.  For
     example, the following code will automatically close `f' when the
     *Note with: 1c1. block is exited:

         from __future__ import with_statement # This isn't required in Python 2.6

         with open("hello.txt") as f:
             for line in f:
                 print line,

     In older versions of Python, you would have needed to do this to
     get the same effect:

         f = open("hello.txt")
         try:
             for line in f:
                 print line,
         finally:
             f.close()

          Note: Not all “file-like” types in Python support use as
          a context manager for the *Note with: 1c1. statement.  If
          your code is intended to work with any file-like object, you
          can use the function *Note contextlib.closing(): 932. instead
          of using the object directly.

 -- Method: file.flush ()
     Flush the internal buffer, like `stdio'’s `fflush()'.  This may
     be a no-op on some file-like objects.

          Note: *Note flush(): 933. does not necessarily write the
          file’s data to disk.  Use *Note flush(): 933. followed by
          *Note os.fsync(): 934. to ensure this behavior.

 -- Method: file.fileno ()
     Return the integer “file descriptor” that is used by the
     underlying implementation to request I/O operations from the
     operating system.  This can be useful for other, lower level
     interfaces that use file descriptors, such as the *Note fcntl: cb.
     module or *Note os.read(): 936. and friends.

          Note: File-like objects which do not have a real file
          descriptor should `not' provide this method!

 -- Method: file.isatty ()
     Return `True' if the file is connected to a tty(-like) device,
     else `False'.

          Note: If a file-like object is not associated with a real
          file, this method should `not' be implemented.

 -- Method: file.next ()
     A file object is its own iterator, for example `iter(f)' returns
     `f' (unless `f' is closed).  When a file is used as an iterator,
     typically in a *Note for: 303. loop (for example, `for line in f:
     print line.strip()'), the *Note next(): 937. method is called
     repeatedly.  This method returns the next input line, or raises
     *Note StopIteration: 347. when EOF is hit when the file is open for
     reading (behavior is undefined when the file is open for writing).
     In order to make a *Note for: 303. loop the most efficient way of
     looping over the lines of a file (a very common operation), the
     *Note next(): 937. method uses a hidden read-ahead buffer.  As a
     consequence of using a read-ahead buffer, combining *Note next():
     937.  with other file methods (like *Note readline(): 66f.) does
     not work right.  However, using *Note seek(): 938. to reposition
     the file to an absolute position will flush the read-ahead buffer.

     New in version 2.3.


 -- Method: file.read ([size])
     Read at most `size' bytes from the file (less if the read hits EOF
     before obtaining `size' bytes).  If the `size' argument is
     negative or omitted, read all data until EOF is reached.  The
     bytes are returned as a string object.  An empty string is
     returned when EOF is encountered immediately.  (For certain files,
     like ttys, it makes sense to continue reading after an EOF is
     hit.)  Note that this method may call the underlying C function
     `fread()' more than once in an effort to acquire as close to
     `size' bytes as possible. Also note that when in non-blocking
     mode, less data than was requested may be returned, even if no
     `size' parameter was given.

          Note: This function is simply a wrapper for the underlying
          `fread()' C function, and will behave the same in corner
          cases, such as whether the EOF value is cached.

 -- Method: file.readline ([size])
     Read one entire line from the file.  A trailing newline character
     is kept in the string (but may be absent when a file ends with an
     incomplete line). (1) If the `size' argument is present and
     non-negative, it is a maximum byte count (including the trailing
     newline) and an incomplete line may be returned. When `size' is
     not 0, an empty string is returned `only' when EOF is encountered
     immediately.

          Note: Unlike `stdio'’s `fgets()', the returned string
          contains null characters (`'\0'') if they occurred in the
          input.

 -- Method: file.readlines ([sizehint])
     Read until EOF using *Note readline(): 66f. and return a list
     containing the lines thus read.  If the optional `sizehint'
     argument is present, instead of reading up to EOF, whole lines
     totalling approximately `sizehint' bytes (possibly after rounding
     up to an internal buffer size) are read.  Objects implementing a
     file-like interface may choose to ignore `sizehint' if it cannot
     be implemented, or cannot be implemented efficiently.

 -- Method: file.xreadlines ()
     This method returns the same thing as `iter(f)'.

     New in version 2.1.

     Deprecated since version 2.3: Use `for line in file' instead.


 -- Method: file.seek (offset[, whence])
     Set the file’s current position, like `stdio'’s `fseek()'. The
     `whence' argument is optional and defaults to  `os.SEEK_SET' or
     `0' (absolute file positioning); other values are `os.SEEK_CUR' or
     `1' (seek relative to the current position) and `os.SEEK_END' or
     `2'  (seek relative to the file’s end).  There is no return
     value.

     For example, `f.seek(2, os.SEEK_CUR)' advances the position by two
     and `f.seek(-3, os.SEEK_END)' sets the position to the third to
     last.

     Note that if the file is opened for appending (mode `'a'' or
     `'a+''), any *Note seek(): 938. operations will be undone at the
     next write.  If the file is only opened for writing in append mode
     (mode `'a''), this method is essentially a no-op, but it remains
     useful for files opened in append mode with reading enabled (mode
     `'a+'').  If the file is opened in text mode (without `'b''), only
     offsets returned by *Note tell(): 93b. are legal.  Use of other
     offsets causes undefined behavior.

     Note that not all file objects are seekable.

     Changed in version 2.6: Passing float values as offset has been
     deprecated.


 -- Method: file.tell ()
     Return the file’s current position, like `stdio'’s `ftell()'.

          Note: On Windows, *Note tell(): 93b. can return illegal
          values (after an `fgets()') when reading files with
          Unix-style line-endings. Use binary mode (`'rb'') to
          circumvent this problem.

 -- Method: file.truncate ([size])
     Truncate the file’s size.  If the optional `size' argument is
     present, the file is truncated to (at most) that size.  The size
     defaults to the current position.  The current file position is
     not changed.  Note that if a specified size exceeds the file’s
     current size, the result is platform-dependent:  possibilities
     include that the file may remain unchanged, increase to the
     specified size as if zero-filled, or increase to the specified
     size with undefined new content.  Availability:  Windows, many
     Unix variants.

 -- Method: file.write (str)
     Write a string to the file.  There is no return value.  Due to
     buffering, the string may not actually show up in the file until
     the *Note flush(): 933. or *Note close(): 931. method is called.

 -- Method: file.writelines (sequence)
     Write a sequence of strings to the file.  The sequence can be any
     iterable object producing strings, typically a list of strings.
     There is no return value.  (The name is intended to match *Note
     readlines(): 66d.; *Note writelines(): 93d. does not add line
     separators.)

Files support the iterator protocol.  Each iteration returns the same
result as *Note readline(): 66f, and iteration ends when the *Note
readline(): 66f. method returns an empty string.

File objects also offer a number of other interesting attributes. These
are not required for file-like objects, but should be implemented if
they make sense for the particular object.

 -- Attribute: file.closed
     bool indicating the current state of the file object.  This is a
     read-only attribute; the *Note close(): 931. method changes the
     value. It may not be available on all file-like objects.

 -- Attribute: file.encoding
     The encoding that this file uses. When Unicode strings are written
     to a file, they will be converted to byte strings using this
     encoding. In addition, when the file is connected to a terminal,
     the attribute gives the encoding that the terminal is likely to
     use (that  information might be incorrect if the user has
     misconfigured the  terminal). The attribute is read-only and may
     not be present on all file-like objects. It may also be `None', in
     which case the file uses the system default encoding for
     converting Unicode strings.

     New in version 2.3.


 -- Attribute: file.errors
     The Unicode error handler used along with the encoding.

     New in version 2.6.


 -- Attribute: file.mode
     The I/O mode for the file.  If the file was created using the
     *Note open(): 2d9.  built-in function, this will be the value of
     the `mode' parameter.  This is a read-only attribute and may not
     be present on all file-like objects.

 -- Attribute: file.name
     If the file object was created using *Note open(): 2d9, the name
     of the file.  Otherwise, some string that indicates the source of
     the file object, of the form `<...>'.  This is a read-only
     attribute and may not be present on all file-like objects.


 -- Attribute: file.newlines
     If Python was built with *Note universal newlines: 329. enabled
     (the default) this read-only attribute exists, and for files
     opened in universal newline read mode it keeps track of the types
     of newlines encountered while reading the file. The values it can
     take are `'\r'', `'\n'', `'\r\n'', `None' (unknown, no newlines
     read yet) or a tuple containing all the newline types seen, to
     indicate that multiple newline conventions were encountered. For
     files not opened in universal newlines read mode the value of this
     attribute will be `None'.

 -- Attribute: file.softspace
     Boolean that indicates whether a space character needs to be
     printed before another value when using the *Note print: 4fd.
     statement. Classes that are trying to simulate a file object
     should also have a writable *Note softspace: 944.  attribute,
     which should be initialized to zero.  This will be automatic for
     most classes implemented in Python (care may be needed for objects
     that override attribute access); types implemented in C will have
     to provide a writable *Note softspace: 944. attribute.

          Note: This attribute is not used to control the *Note print:
          4fd. statement, but to allow the implementation of *Note
          print: 4fd. to keep track of its internal state.

---------- Footnotes ----------

(1) The advantage of leaving the newline on is that returning an empty
string is then an unambiguous EOF indication.  It is also possible (in
cases where it might matter, for example, if you want to make an exact
copy of a file while scanning its lines) to tell whether the last line
of a file ended in a newline or not (yes this happens!).


File: python.info,  Node: memoryview type,  Next: Context Manager Types,  Prev: File Objects,  Up: Built-in Types

5.5.10 memoryview type
----------------------

New in version 2.7.

*Note memoryview: 1c4. objects allow Python code to access the internal
data of an object that supports the buffer protocol without copying.
Memory is generally interpreted as simple bytes.

 -- Class: memoryview (obj)
     Create a *Note memoryview: 1c4. that references `obj'.  `obj' must
     support the buffer protocol.  Built-in objects that support the
     buffer protocol include *Note str: 1ea. and *Note bytearray: 1f7.
     (but not *Note unicode: 1f5.).

     A *Note memoryview: 1c4. has the notion of an `element', which is
     the atomic memory unit handled by the originating object `obj'.
     For many simple types such as *Note str: 1ea. and *Note bytearray:
     1f7, an element is a single byte, but other third-party types may
     expose larger elements.

     `len(view)' returns the total number of elements in the memoryview,
     `view'.  The *Note itemsize: 946. attribute will give you the
     number of bytes in a single element.

     A *Note memoryview: 1c4. supports slicing to expose its data.
     Taking a single index will return a single element as a *Note str:
     1ea. object.  Full slicing will result in a subview:

         >>> v = memoryview('abcefg')
         >>> v[1]
         'b'
         >>> v[-1]
         'g'
         >>> v[1:4]
         <memory at 0x77ab28>
         >>> v[1:4].tobytes()
         'bce'

     If the object the memoryview is over supports changing its data,
     the memoryview supports slice assignment:

         >>> data = bytearray('abcefg')
         >>> v = memoryview(data)
         >>> v.readonly
         False
         >>> v[0] = 'z'
         >>> data
         bytearray(b'zbcefg')
         >>> v[1:4] = '123'
         >>> data
         bytearray(b'z123fg')
         >>> v[2] = 'spam'
         Traceback (most recent call last):
           File "<stdin>", line 1, in <module>
         ValueError: cannot modify size of memoryview object

     Notice how the size of the memoryview object cannot be changed.

     *Note memoryview: 1c4. has two methods:

      -- Method: tobytes ()
          Return the data in the buffer as a bytestring (an object of
          class *Note str: 1ea.).

              >>> m = memoryview("abc")
              >>> m.tobytes()
              'abc'

      -- Method: tolist ()
          Return the data in the buffer as a list of integers.

              >>> memoryview("abc").tolist()
              [97, 98, 99]

     There are also several readonly attributes available:

      -- Attribute: format
          A string containing the format (in *Note struct: 166. module
          style) for each element in the view.  This defaults to `'B'',
          a simple bytestring.

      -- Attribute: itemsize
          The size in bytes of each element of the memoryview.

      -- Attribute: shape
          A tuple of integers the length of *Note ndim: 94b. giving the
          shape of the memory as an N-dimensional array.

      -- Attribute: ndim
          An integer indicating how many dimensions of a
          multi-dimensional array the memory represents.

      -- Attribute: strides
          A tuple of integers the length of *Note ndim: 94b. giving the
          size in bytes to access each element for each dimension of
          the array.

      -- Attribute: readonly
          A bool indicating whether the memory is read only.



File: python.info,  Node: Context Manager Types,  Next: Other Built-in Types,  Prev: memoryview type,  Up: Built-in Types

5.5.11 Context Manager Types
----------------------------

New in version 2.5.

Python’s *Note with: 1c1. statement supports the concept of a runtime
context defined by a context manager.  This is implemented using two
separate methods that allow user-defined classes to define a runtime
context that is entered before the statement body is executed and
exited when the statement ends.

The `context management protocol' consists of a pair of methods that
need to be provided for a context manager object to define a runtime
context:

 -- Method: contextmanager.__enter__ ()
     Enter the runtime context and return either this object or another
     object related to the runtime context. The value returned by this
     method is bound to the identifier in the *Note as: 30b. clause of
     *Note with: 1c1. statements using this context manager.

     An example of a context manager that returns itself is a file
     object. File objects return themselves from __enter__() to allow
     *Note open(): 2d9. to be used as the context expression in a *Note
     with: 1c1. statement.

     An example of a context manager that returns a related object is
     the one returned by *Note decimal.localcontext(): 950. These
     managers set the active decimal context to a copy of the original
     decimal context and then return the copy. This allows changes to
     be made to the current decimal context in the body of the *Note
     with: 1c1. statement without affecting code outside the *Note
     with: 1c1. statement.

 -- Method: contextmanager.__exit__ (exc_type, exc_val, exc_tb)
     Exit the runtime context and return a Boolean flag indicating if
     any exception that occurred should be suppressed. If an exception
     occurred while executing the body of the *Note with: 1c1.
     statement, the arguments contain the exception type, value and
     traceback information. Otherwise, all three arguments are `None'.

     Returning a true value from this method will cause the *Note with:
     1c1. statement to suppress the exception and continue execution
     with the statement immediately following the *Note with: 1c1.
     statement. Otherwise the exception continues propagating after
     this method has finished executing. Exceptions that occur during
     execution of this method will replace any exception that occurred
     in the body of the *Note with: 1c1. statement.

     The exception passed in should never be reraised explicitly -
     instead, this method should return a false value to indicate that
     the method completed successfully and does not want to suppress
     the raised exception. This allows context management code (such as
     `contextlib.nested') to easily detect whether or not an *Note
     __exit__(): 951. method has actually failed.

Python defines several context managers to support easy thread
synchronisation, prompt closure of files or other objects, and simpler
manipulation of the active decimal arithmetic context. The specific
types are not treated specially beyond their implementation of the
context management protocol. See the *Note contextlib: 6e. module for
some examples.

Python’s *Note generator: 5f7.s and the `contextlib.contextmanager'
*Note decorator: 87e.  provide a convenient way to implement these
protocols.  If a generator function is decorated with the
`contextlib.contextmanager' decorator, it will return a context manager
implementing the necessary *Note __enter__(): 1ff. and *Note
__exit__(): 200. methods, rather than the iterator produced by an
undecorated generator function.

Note that there is no specific slot for any of these methods in the type
structure for Python objects in the Python/C API. Extension types
wanting to define these methods must provide them as a normal Python
accessible method.  Compared to the overhead of setting up the runtime
context, the overhead of a single class dictionary lookup is negligible.


File: python.info,  Node: Other Built-in Types,  Next: Special Attributes,  Prev: Context Manager Types,  Up: Built-in Types

5.5.12 Other Built-in Types
---------------------------

The interpreter supports several other kinds of objects. Most of these
support only one or two operations.

* Menu:

* Modules: Modules<2>.
* Classes and Class Instances::
* Functions::
* Methods::
* Code Objects::
* Type Objects::
* The Null Object::
* The Ellipsis Object::
* The NotImplemented Object::
* Boolean Values::
* Internal Objects::


File: python.info,  Node: Modules<2>,  Next: Classes and Class Instances,  Up: Other Built-in Types

5.5.12.1 Modules
................

The only special operation on a module is attribute access: `m.name',
where `m' is a module and `name' accesses a name defined in `m'’s
symbol table.  Module attributes can be assigned to.  (Note that the
*Note import: 1f4.  statement is not, strictly speaking, an operation
on a module object; `import foo' does not require a module object named
`foo' to exist, rather it requires an (external) `definition' for a
module named `foo' somewhere.)

A special attribute of every module is *Note __dict__: 4a0. This is the
dictionary containing the module’s symbol table. Modifying this
dictionary will actually change the module’s symbol table, but direct
assignment to the *Note __dict__: 4a0. attribute is not possible (you
can write `m.__dict__['a'] = 1', which defines `m.a' to be `1', but you
can’t write `m.__dict__ = {}').  Modifying *Note __dict__: 4a0.
directly is not recommended.

Modules built into the interpreter are written like this: `<module 'sys'
(built-in)>'.  If loaded from a file, they are written as `<module 'os'
from '/usr/local/lib/pythonX.Y/os.pyc'>'.


File: python.info,  Node: Classes and Class Instances,  Next: Functions,  Prev: Modules<2>,  Up: Other Built-in Types

5.5.12.2 Classes and Class Instances
....................................

See *Note Objects, values and types: 715. and *Note Class definitions:
351. for these.


File: python.info,  Node: Functions,  Next: Methods,  Prev: Classes and Class Instances,  Up: Other Built-in Types

5.5.12.3 Functions
..................

Function objects are created by function definitions.  The only
operation on a function object is to call it: `func(argument-list)'.

There are really two flavors of function objects: built-in functions and
user-defined functions.  Both support the same operation (to call the
function), but the implementation is different, hence the different
object types.

See *Note Function definitions: 723. for more information.


File: python.info,  Node: Methods,  Next: Code Objects,  Prev: Functions,  Up: Other Built-in Types

5.5.12.4 Methods
................

Methods are functions that are called using the attribute notation.
There are two flavors: built-in methods (such as `append()' on lists)
and class instance methods.  Built-in methods are described with the
types that support them.

The implementation adds two special read-only attributes to class
instance methods: `m.im_self' is the object on which the method
operates, and `m.im_func' is the function implementing the method.
Calling `m(arg-1, arg-2, ..., arg-n)' is completely equivalent to
calling `m.im_func(m.im_self, arg-1, arg-2, ..., arg-n)'.

Class instance methods are either `bound' or `unbound', referring to
whether the method was accessed through an instance or a class,
respectively.  When a method is unbound, its `im_self' attribute will
be `None' and if called, an explicit `self' object must be passed as
the first argument.  In this case, `self' must be an instance of the
unbound method’s class (or a subclass of that class), otherwise a
*Note TypeError: 218. is raised.

Like function objects, methods objects support getting arbitrary
attributes.  However, since method attributes are actually stored on
the underlying function object (`meth.im_func'), setting method
attributes on either bound or unbound methods is disallowed.
Attempting to set an attribute on a method results in an *Note
AttributeError: 1f8. being raised.  In order to set a method attribute,
you need to explicitly set it on the underlying function object:

    >>> class C:
    ...     def method(self):
    ...         pass
    ...
    >>> c = C()
    >>> c.method.whoami = 'my name is method'  # can't set on the method
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    AttributeError: 'instancemethod' object has no attribute 'whoami'
    >>> c.method.im_func.whoami = 'my name is method'
    >>> c.method.whoami
    'my name is method'

See *Note The standard type hierarchy: 719. for more information.


File: python.info,  Node: Code Objects,  Next: Type Objects,  Prev: Methods,  Up: Other Built-in Types

5.5.12.5 Code Objects
.....................

Code objects are used by the implementation to represent
“pseudo-compiled” executable Python code such as a function body.
They differ from function objects because they don’t contain a
reference to their global execution environment.  Code objects are
returned by the built-in *Note compile(): 1fb. function and can be
extracted from function objects through their `func_code' attribute.
See also the *Note code: 62. module.

A code object can be executed or evaluated by passing it (instead of a
source string) to the *Note exec: 41d. statement or the built-in *Note
eval(): 378. function.

See *Note The standard type hierarchy: 719. for more information.


File: python.info,  Node: Type Objects,  Next: The Null Object,  Prev: Code Objects,  Up: Other Built-in Types

5.5.12.6 Type Objects
.....................

Type objects represent the various object types.  An object’s type is
accessed by the built-in function *Note type(): 4ac.  There are no
special operations on types.  The standard module *Note types: 185.
defines names for all standard built-in types.

Types are written like this: `<type 'int'>'.


File: python.info,  Node: The Null Object,  Next: The Ellipsis Object,  Prev: Type Objects,  Up: Other Built-in Types

5.5.12.7 The Null Object
........................

This object is returned by functions that don’t explicitly return a
value.  It supports no special operations.  There is exactly one null
object, named `None' (a built-in name).

It is written as `None'.


File: python.info,  Node: The Ellipsis Object,  Next: The NotImplemented Object,  Prev: The Null Object,  Up: Other Built-in Types

5.5.12.8 The Ellipsis Object
............................

This object is used by extended slice notation (see *Note Slicings:
7da.).  It supports no special operations.  There is exactly one
ellipsis object, named *Note Ellipsis: 8c0. (a built-in name).

It is written as `Ellipsis'.  When in a subscript, it can also be
written as `...', for example `seq[...]'.


File: python.info,  Node: The NotImplemented Object,  Next: Boolean Values,  Prev: The Ellipsis Object,  Up: Other Built-in Types

5.5.12.9 The NotImplemented Object
..................................

This object is returned from comparisons and binary operations when
they are asked to operate on types they don’t support. See *Note
Comparisons: 804. for more information.

It is written as `NotImplemented'.


File: python.info,  Node: Boolean Values,  Next: Internal Objects,  Prev: The NotImplemented Object,  Up: Other Built-in Types

5.5.12.10 Boolean Values
........................

Boolean values are the two constant objects `False' and `True'.  They
are used to represent truth values (although other values can also be
considered false or true).  In numeric contexts (for example when used
as the argument to an arithmetic operator), they behave like the
integers 0 and 1, respectively.  The built-in function *Note bool():
455. can be used to convert any value to a Boolean, if the value can be
interpreted as a truth value (see section *Note Truth Value Testing:
8ca. above).

They are written as `False' and `True', respectively.


File: python.info,  Node: Internal Objects,  Prev: Boolean Values,  Up: Other Built-in Types

5.5.12.11 Internal Objects
..........................

See *Note The standard type hierarchy: 719. for this information.  It
describes stack frame objects, traceback objects, and slice objects.


File: python.info,  Node: Special Attributes,  Prev: Other Built-in Types,  Up: Built-in Types

5.5.13 Special Attributes
-------------------------

The implementation adds a few special read-only attributes to several
object types, where they are relevant.  Some of these are not reported
by the *Note dir(): 34e. built-in function.

 -- Attribute: object.__dict__
     A dictionary or other mapping object used to store an object’s
     (writable) attributes.

 -- Attribute: object.__methods__
     Deprecated since version 2.2: Use the built-in function *Note
     dir(): 34e. to get a list of an object’s attributes.  This
     attribute is no longer available.


 -- Attribute: object.__members__
     Deprecated since version 2.2: Use the built-in function *Note
     dir(): 34e. to get a list of an object’s attributes.  This
     attribute is no longer available.


 -- Attribute: instance.__class__
     The class to which a class instance belongs.

 -- Attribute: class.__bases__
     The tuple of base classes of a class object.

 -- Attribute: definition.__name__
     The name of the class, type, function, method, descriptor, or
     generator instance.

The following attributes are only supported by *Note new-style class:
5ec.es.

 -- Attribute: class.__mro__
     This attribute is a tuple of classes that are considered when
     looking for base classes during method resolution.

 -- Method: class.mro ()
     This method can be overridden by a metaclass to customize the
     method resolution order for its instances.  It is called at class
     instantiation, and its result is stored in *Note __mro__: 8b8.

 -- Method: class.__subclasses__ ()
     Each new-style class keeps a list of weak references to its
     immediate subclasses.  This method returns a list of all those
     references still alive.  Example:

         >>> int.__subclasses__()
         [<type 'bool'>]


File: python.info,  Node: Built-in Exceptions,  Next: String Services,  Prev: Built-in Types,  Up: The Python Standard Library

5.6 Built-in Exceptions
=======================

Exceptions should be class objects.   The exceptions are defined in the
module *Note exceptions: ca.  This module never needs to be imported
explicitly: the exceptions are provided in the built-in namespace as
well as the *Note exceptions: ca. module.

For class exceptions, in a *Note try: 3ad. statement with an *Note
except: 3af.  clause that mentions a particular class, that clause also
handles any exception classes derived from that class (but not
exception classes from which `it' is derived).  Two exception classes
that are not related via subclassing are never equivalent, even if they
have the same name.

The built-in exceptions listed below can be generated by the
interpreter or built-in functions.  Except where mentioned, they have
an “associated value” indicating the detailed cause of the error.
This may be a string or a tuple containing several items of information
(e.g., an error code and a string explaining the code). The associated
value is the second argument to the *Note raise: 5cc. statement.  If
the exception class is derived from the standard root class *Note
BaseException: 34c, the associated value is present as the exception
instance’s `args' attribute.

User code can raise built-in exceptions.  This can be used to test an
exception handler or to report an error condition “just like” the
situation in which the interpreter raises the same exception; but
beware that there is nothing to prevent user code from raising an
inappropriate error.

The built-in exception classes can be subclassed to define new
exceptions; programmers are encouraged to derive new exceptions from
the *Note Exception: 34d.  class or one of its subclasses, and not from
*Note BaseException: 34c.  More information on defining exceptions is
available in the Python Tutorial under *Note User-defined Exceptions:
5cd.

The following exceptions are only used as base classes for other
exceptions.

 -- Exception: BaseException
     The base class for all built-in exceptions.  It is not meant to be
     directly inherited by user-defined classes (for that, use *Note
     Exception: 34d.).  If *Note str(): 1ea. or *Note unicode(): 1f5.
     is called on an instance of this class, the representation of the
     argument(s) to the instance are returned, or the empty string when
     there were no arguments.

     New in version 2.5.

      -- Attribute: args
          The tuple of arguments given to the exception constructor.
          Some built-in exceptions (like *Note IOError: 1fa.) expect a
          certain number of arguments and assign a special meaning to
          the elements of this tuple, while others are usually called
          only with a single string giving an error message.

 -- Exception: Exception
     All built-in, non-system-exiting exceptions are derived from this
     class.  All user-defined exceptions should also be derived from
     this class.

     Changed in version 2.5: Changed to inherit from *Note
     BaseException: 34c.


 -- Exception: StandardError
     The base class for all built-in exceptions except *Note
     StopIteration: 347, *Note GeneratorExit: 34b, *Note
     KeyboardInterrupt: 251. and *Note SystemExit: 346.  *Note
     StandardError: 39a. itself is derived from *Note Exception: 34d.

 -- Exception: ArithmeticError
     The base class for those built-in exceptions that are raised for
     various arithmetic errors: *Note OverflowError: 2dd, *Note
     ZeroDivisionError: 5c7, *Note FloatingPointError: 972.

 -- Exception: BufferError
     Raised when a *Note buffer: 974. related operation cannot be
     performed.

 -- Exception: LookupError
     The base class for the exceptions that are raised when a key or
     index used on a mapping or sequence is invalid: *Note IndexError:
     4fe, *Note KeyError: 205.  This can be raised directly by *Note
     codecs.lookup(): 975.

 -- Exception: EnvironmentError
     The base class for exceptions that can occur outside the Python
     system: *Note IOError: 1fa, *Note OSError: 231.  When exceptions
     of this type are created with a 2-tuple, the first item is
     available on the instance’s *Note errno: c9. attribute (it is
     assumed to be an error number), and the second item is available
     on the `strerror' attribute (it is usually the associated error
     message).  The tuple itself is also available on the `args'
     attribute.

     New in version 1.5.2.

     When an *Note EnvironmentError: 976. exception is instantiated
     with a 3-tuple, the first two items are available as above, while
     the third item is available on the `filename' attribute.  However,
     for backwards compatibility, the `args' attribute contains only a
     2-tuple of the first two constructor arguments.

     The `filename' attribute is `None' when this exception is created
     with other than 3 arguments.  The *Note errno: c9. and `strerror'
     attributes are also `None' when the instance was created with
     other than 2 or 3 arguments.  In this last case, `args' contains
     the verbatim constructor arguments as a tuple.

The following exceptions are the exceptions that are actually raised.

 -- Exception: AssertionError
     Raised when an *Note assert: 46b. statement fails.

 -- Exception: AttributeError
     Raised when an attribute reference (see *Note Attribute
     references: 7d4.) or assignment fails.  (When an object does not
     support attribute references or attribute assignments at all,
     *Note TypeError: 218. is raised.)

 -- Exception: EOFError
     Raised when one of the built-in functions (*Note input(): 3d9. or
     *Note raw_input(): 891.)  hits an end-of-file condition (EOF)
     without reading any data. (N.B.: the *Note file.read(): 939. and
     *Note file.readline(): 66f. methods return an empty string when
     they hit EOF.)

 -- Exception: FloatingPointError
     Raised when a floating point operation fails.  This exception is
     always defined, but can only be raised when Python is configured
     with the `--with-fpectl' option, or the `WANT_SIGFPE_HANDLER'
     symbol is defined in the `pyconfig.h' file.

 -- Exception: GeneratorExit
     Raised when a *Note generator: 5f7.’s `close()' method is
     called.  It directly inherits from *Note BaseException: 34c.
     instead of *Note StandardError: 39a.  since it is technically not
     an error.

     New in version 2.5.

     Changed in version 2.6: Changed to inherit from *Note
     BaseException: 34c.


 -- Exception: IOError
     Raised when an I/O operation (such as a *Note print: 4fd.
     statement, the built-in *Note open(): 2d9. function or a method of
     a file object) fails for an I/O-related reason, e.g., “file not
     found” or “disk full”.

     This class is derived from *Note EnvironmentError: 976.  See the
     discussion above for more information on exception instance
     attributes.

     Changed in version 2.6: Changed *Note socket.error: 399. to use
     this as a base class.


 -- Exception: ImportError
     Raised when an *Note import: 1f4. statement fails to find the
     module definition or when a `from ... import' fails to find a name
     that is to be imported.

 -- Exception: IndexError
     Raised when a sequence subscript is out of range.  (Slice indices
     are silently truncated to fall in the allowed range; if an index
     is not a plain integer, *Note TypeError: 218. is raised.)


 -- Exception: KeyError
     Raised when a mapping (dictionary) key is not found in the set of
     existing keys.


 -- Exception: KeyboardInterrupt
     Raised when the user hits the interrupt key (normally `Control-C'
     or `Delete').  During execution, a check for interrupts is made
     regularly.  Interrupts typed when a built-in function *Note
     input(): 3d9. or *Note raw_input(): 891. is waiting for input also
     raise this exception. The exception inherits from *Note
     BaseException: 34c. so as to not be accidentally caught by code
     that catches *Note Exception: 34d. and thus prevent the
     interpreter from exiting.

     Changed in version 2.5: Changed to inherit from *Note
     BaseException: 34c.


 -- Exception: MemoryError
     Raised when an operation runs out of memory but the situation may
     still be rescued (by deleting some objects).  The associated value
     is a string indicating what kind of (internal) operation ran out
     of memory. Note that because of the underlying memory management
     architecture (C’s `malloc()' function), the interpreter may not
     always be able to completely recover from this situation; it
     nevertheless raises an exception so that a stack traceback can be
     printed, in case a run-away program was the cause.

 -- Exception: NameError
     Raised when a local or global name is not found.  This applies
     only to unqualified names.  The associated value is an error
     message that includes the name that could not be found.

 -- Exception: NotImplementedError
     This exception is derived from *Note RuntimeError: 3b3.  In user
     defined base classes, abstract methods should raise this exception
     when they require derived classes to override the method.

     New in version 1.5.2.


 -- Exception: OSError
     This exception is derived from *Note EnvironmentError: 976.  It is
     raised when a function returns a system-related error (not for
     illegal argument types or other incidental errors).  The *Note
     errno: c9. attribute is a numeric error code from `errno', and the
     `strerror' attribute is the corresponding string, as would be
     printed by the C function `perror()'.  See the module *Note errno:
     c9, which contains names for the error codes defined by the
     underlying operating system.

     For exceptions that involve a file system path (such as `chdir()'
     or `unlink()'), the exception instance will contain a third
     attribute, `filename', which is the file name passed to the
     function.

     New in version 1.5.2.


 -- Exception: OverflowError
     Raised when the result of an arithmetic operation is too large to
     be represented.  This cannot occur for long integers (which would
     rather raise *Note MemoryError: 977. than give up) and for most
     operations with plain integers, which return a long integer
     instead.  Because of the lack of standardization of floating point
     exception handling in C, most floating point operations also
     aren’t checked.

 -- Exception: ReferenceError
     This exception is raised when a weak reference proxy, created by
     the *Note weakref.proxy(): 979. function, is used to access an
     attribute of the referent after it has been garbage collected. For
     more information on weak references, see the *Note weakref: 195.
     module.

     New in version 2.2: Previously known as the *Note
     weakref.ReferenceError: 4df. exception.


 -- Exception: RuntimeError
     Raised when an error is detected that doesn’t fall in any of the
     other categories.  The associated value is a string indicating
     what precisely went wrong.

 -- Exception: StopIteration
     Raised by an *Note iterator: 8a8.’s *Note next(): 5f4. method to
     signal that there are no further values.  This is derived from
     *Note Exception: 34d. rather than *Note StandardError: 39a, since
     this is not considered an error in its normal application.

     New in version 2.2.


 -- Exception: SyntaxError
     Raised when the parser encounters a syntax error.  This may occur
     in an *Note import: 1f4. statement, in an *Note exec: 41d.
     statement, in a call to the built-in function *Note eval(): 378.
     or *Note input(): 3d9, or when reading the initial script or
     standard input (also interactively).

     Instances of this class have attributes `filename', `lineno',
     `offset' and `text' for easier access to the details.  *Note
     str(): 1ea.  of the exception instance returns only the message.

 -- Exception: IndentationError
     Base class for syntax errors related to incorrect indentation.
     This is a subclass of *Note SyntaxError: 4b4.

 -- Exception: TabError
     Raised when indentation contains an inconsistent use of tabs and
     spaces.  This is a subclass of *Note IndentationError: 501.

 -- Exception: SystemError
     Raised when the interpreter finds an internal error, but the
     situation does not look so serious to cause it to abandon all
     hope. The associated value is a string indicating what went wrong
     (in low-level terms).

     You should report this to the author or maintainer of your Python
     interpreter.  Be sure to report the version of the Python
     interpreter (`sys.version'; it is also printed at the start of an
     interactive Python session), the exact error message (the
     exception’s associated value) and if possible the source of the
     program that triggered the error.

 -- Exception: SystemExit
     This exception is raised by the *Note sys.exit(): 2aa. function.
     When it is not handled, the Python interpreter exits; no stack
     traceback is printed.  If the associated value is a plain integer,
     it specifies the system exit status (passed to C’s `exit()'
     function); if it is `None', the exit status is zero; if it has
     another type (such as a string), the object’s value is printed
     and the exit status is one.

     Instances have an attribute `code' which is set to the proposed
     exit status or error message (defaulting to `None'). Also, this
     exception derives directly from *Note BaseException: 34c. and not
     *Note StandardError: 39a, since it is not technically an error.

     A call to *Note sys.exit(): 2aa. is translated into an exception
     so that clean-up handlers (*Note finally: 3ae. clauses of *Note
     try: 3ad. statements) can be executed, and so that a debugger can
     execute a script without running the risk of losing control.  The
     *Note os._exit(): 97b. function can be used if it is absolutely
     positively necessary to exit immediately (for example, in the child
     process after a call to *Note os.fork(): 244.).

     The exception inherits from *Note BaseException: 34c. instead of
     *Note StandardError: 39a.  or *Note Exception: 34d. so that it is
     not accidentally caught by code that catches *Note Exception: 34d.
     This allows the exception to properly propagate up and cause the
     interpreter to exit.

     Changed in version 2.5: Changed to inherit from *Note
     BaseException: 34c.


 -- Exception: TypeError
     Raised when an operation or function is applied to an object of
     inappropriate type.  The associated value is a string giving
     details about the type mismatch.

 -- Exception: UnboundLocalError
     Raised when a reference is made to a local variable in a function
     or method, but no value has been bound to that variable.  This is
     a subclass of *Note NameError: 3bb.

     New in version 2.0.


 -- Exception: UnicodeError
     Raised when a Unicode-related encoding or decoding error occurs.
     It is a subclass of *Note ValueError: 236.

     *Note UnicodeError: 44c. has attributes that describe the encoding
     or decoding error.  For example, `err.object[err.start:err.end]'
     gives the particular invalid input that the codec failed on.

      -- Attribute: encoding
          The name of the encoding that raised the error.

      -- Attribute: reason
          A string describing the specific codec error.

      -- Attribute: object
          The object the codec was attempting to encode or decode.

      -- Attribute: start
          The first index of invalid data in *Note object: 1f1.

      -- Attribute: end
          The index after the last invalid data in *Note object: 1f1.

     New in version 2.0.


 -- Exception: UnicodeEncodeError
     Raised when a Unicode-related error occurs during encoding.  It is
     a subclass of *Note UnicodeError: 44c.

     New in version 2.3.


 -- Exception: UnicodeDecodeError
     Raised when a Unicode-related error occurs during decoding.  It is
     a subclass of *Note UnicodeError: 44c.

     New in version 2.3.


 -- Exception: UnicodeTranslateError
     Raised when a Unicode-related error occurs during translating.  It
     is a subclass of *Note UnicodeError: 44c.

     New in version 2.3.


 -- Exception: ValueError
     Raised when a built-in operation or function receives an argument
     that has the right type but an inappropriate value, and the
     situation is not described by a more precise exception such as
     *Note IndexError: 4fe.

 -- Exception: VMSError
     Only available on VMS.  Raised when a VMS-specific error occurs.

 -- Exception: WindowsError
     Raised when a Windows-specific error occurs or when the error
     number does not correspond to an `errno' value.  The `winerror' and
     `strerror' values are created from the return values of the
     `GetLastError()' and `FormatMessage()' functions from the Windows
     Platform API. The *Note errno: c9. value maps the `winerror' value
     to corresponding `errno.h' values. This is a subclass of *Note
     OSError: 231.

     New in version 2.0.

     Changed in version 2.5: Previous versions put the `GetLastError()'
     codes into *Note errno: c9.


 -- Exception: ZeroDivisionError
     Raised when the second argument of a division or modulo operation
     is zero.  The associated value is a string indicating the type of
     the operands and the operation.

The following exceptions are used as warning categories; see the *Note
warnings: 193.  module for more information.

 -- Exception: Warning
     Base class for warning categories.

 -- Exception: UserWarning
     Base class for warnings generated by user code.

 -- Exception: DeprecationWarning
     Base class for warnings about deprecated features.

 -- Exception: PendingDeprecationWarning
     Base class for warnings about features which will be deprecated in
     the future.

 -- Exception: SyntaxWarning
     Base class for warnings about dubious syntax.

 -- Exception: RuntimeWarning
     Base class for warnings about dubious runtime behavior.

 -- Exception: FutureWarning
     Base class for warnings about constructs that will change
     semantically in the future.

 -- Exception: ImportWarning
     Base class for warnings about probable mistakes in module imports.

     New in version 2.5.


 -- Exception: UnicodeWarning
     Base class for warnings related to Unicode.

     New in version 2.5.


* Menu:

* Exception hierarchy::


File: python.info,  Node: Exception hierarchy,  Up: Built-in Exceptions

5.6.1 Exception hierarchy
-------------------------

The class hierarchy for built-in exceptions is:

    BaseException
     +-- SystemExit
     +-- KeyboardInterrupt
     +-- GeneratorExit
     +-- Exception
          +-- StopIteration
          +-- StandardError
          |    +-- BufferError
          |    +-- ArithmeticError
          |    |    +-- FloatingPointError
          |    |    +-- OverflowError
          |    |    +-- ZeroDivisionError
          |    +-- AssertionError
          |    +-- AttributeError
          |    +-- EnvironmentError
          |    |    +-- IOError
          |    |    +-- OSError
          |    |         +-- WindowsError (Windows)
          |    |         +-- VMSError (VMS)
          |    +-- EOFError
          |    +-- ImportError
          |    +-- LookupError
          |    |    +-- IndexError
          |    |    +-- KeyError
          |    +-- MemoryError
          |    +-- NameError
          |    |    +-- UnboundLocalError
          |    +-- ReferenceError
          |    +-- RuntimeError
          |    |    +-- NotImplementedError
          |    +-- SyntaxError
          |    |    +-- IndentationError
          |    |         +-- TabError
          |    +-- SystemError
          |    +-- TypeError
          |    +-- ValueError
          |         +-- UnicodeError
          |              +-- UnicodeDecodeError
          |              +-- UnicodeEncodeError
          |              +-- UnicodeTranslateError
          +-- Warning
               +-- DeprecationWarning
               +-- PendingDeprecationWarning
               +-- RuntimeWarning
               +-- SyntaxWarning
               +-- UserWarning
               +-- FutureWarning
    	   +-- ImportWarning
    	   +-- UnicodeWarning
    	   +-- BytesWarning


File: python.info,  Node: String Services,  Next: Data Types,  Prev: Built-in Exceptions,  Up: The Python Standard Library

5.7 String Services
===================

The modules described in this chapter provide a wide range of string
manipulation operations.

In addition, Python’s built-in string classes support the sequence
type methods described in the *Note Sequence Types — str, unicode,
list, tuple, bytearray, buffer, xrange: 53d. section, and also the
string-specific methods described in the *Note String Methods: 53e.
section.  To output formatted strings use template strings or the `%'
operator described in the *Note String Formatting Operations: 53f.
section. Also, see the *Note re: 144. module for string functions based
on regular expressions.

* Menu:

* string — Common string operations::
* re — Regular expression operations::
* struct — Interpret strings as packed binary data::
* difflib — Helpers for computing deltas::
* StringIO — Read and write strings as files::
* cStringIO — Faster version of StringIO::
* textwrap — Text wrapping and filling::
* codecs — Codec registry and base classes::
* unicodedata — Unicode Database::
* stringprep — Internet String Preparation::
* fpformat — Floating point conversions::


File: python.info,  Node: string — Common string operations,  Next: re — Regular expression operations,  Up: String Services

5.7.1 `string' — Common string operations
-------------------------------------------

`Source code:' Lib/string.py(1)

__________________________________________________________________

The *Note string: 163. module contains a number of useful constants and
classes, as well as some deprecated legacy functions that are also
available as methods on strings. In addition, Python’s built-in string
classes support the sequence type methods described in the *Note
Sequence Types — str, unicode, list, tuple, bytearray, buffer,
xrange: 53d. section, and also the string-specific methods described in
the *Note String Methods: 53e. section. To output formatted strings use
template strings or the `%' operator described in the *Note String
Formatting Operations: 53f. section. Also, see the *Note re: 144.
module for string functions based on regular expressions.

* Menu:

* String constants::
* Custom String Formatting::
* Format String Syntax::
* Template strings::
* String functions::
* Deprecated string functions::

---------- Footnotes ----------

(1) https://hg.python.org/cpython/file/2.7/Lib/string.py


File: python.info,  Node: String constants,  Next: Custom String Formatting,  Up: string — Common string operations

5.7.1.1 String constants
........................

The constants defined in this module are:

 -- Data: string.ascii_letters
     The concatenation of the *Note ascii_lowercase: 991. and *Note
     ascii_uppercase: 992.  constants described below.  This value is
     not locale-dependent.

 -- Data: string.ascii_lowercase
     The lowercase letters `'abcdefghijklmnopqrstuvwxyz''.  This value
     is not locale-dependent and will not change.

 -- Data: string.ascii_uppercase
     The uppercase letters `'ABCDEFGHIJKLMNOPQRSTUVWXYZ''.  This value
     is not locale-dependent and will not change.

 -- Data: string.digits
     The string `'0123456789''.

 -- Data: string.hexdigits
     The string `'0123456789abcdefABCDEF''.

 -- Data: string.letters
     The concatenation of the strings *Note lowercase: 995. and *Note
     uppercase: 996.  described below.  The specific value is
     locale-dependent, and will be updated when *Note
     locale.setlocale(): 997. is called.

 -- Data: string.lowercase
     A string containing all the characters that are considered
     lowercase letters.  On most systems this is the string
     `'abcdefghijklmnopqrstuvwxyz''.  The specific value is
     locale-dependent, and will be updated when *Note
     locale.setlocale(): 997. is called.

 -- Data: string.octdigits
     The string `'01234567''.

 -- Data: string.punctuation
     String of ASCII characters which are considered punctuation
     characters in the `C' locale.

 -- Data: string.printable
     String of characters which are considered printable.  This is a
     combination of *Note digits: 993, *Note letters: 4b7, *Note
     punctuation: 999, and *Note whitespace: 99b.

 -- Data: string.uppercase
     A string containing all the characters that are considered
     uppercase letters.  On most systems this is the string
     `'ABCDEFGHIJKLMNOPQRSTUVWXYZ''.  The specific value is
     locale-dependent, and will be updated when *Note
     locale.setlocale(): 997. is called.

 -- Data: string.whitespace
     A string containing all characters that are considered whitespace.
     On most systems this includes the characters space, tab, linefeed,
     return, formfeed, and vertical tab.


File: python.info,  Node: Custom String Formatting,  Next: Format String Syntax,  Prev: String constants,  Up: string — Common string operations

5.7.1.2 Custom String Formatting
................................

New in version 2.6.

The built-in str and unicode classes provide the ability to do complex
variable substitutions and value formatting via the *Note str.format():
1d4. method described in PEP 3101(1).  The *Note Formatter: 99e.  class
in the *Note string: 163. module allows you to create and customize
your own string formatting behaviors using the same implementation as
the built-in *Note format(): 1d4. method.

 -- Class: string.Formatter
     The *Note Formatter: 99e. class has the following public methods:

      -- Method: format (format_string, *args, **kwargs)
          The primary API method.  It takes a format string and an
          arbitrary set of positional and keyword arguments.  It is
          just a wrapper that calls *Note vformat(): 9a0.

      -- Method: vformat (format_string, args, kwargs)
          This function does the actual work of formatting.  It is
          exposed as a separate function for cases where you want to
          pass in a predefined dictionary of arguments, rather than
          unpacking and repacking the dictionary as individual
          arguments using the `*args' and `**kwargs' syntax.  *Note
          vformat(): 9a0. does the work of breaking up the format string
          into character data and replacement fields.  It calls the
          various methods described below.

     In addition, the *Note Formatter: 99e. defines a number of methods
     that are intended to be replaced by subclasses:

      -- Method: parse (format_string)
          Loop over the format_string and return an iterable of tuples
          (`literal_text', `field_name', `format_spec', `conversion').
          This is used by *Note vformat(): 9a0. to break the string
          into either literal text, or replacement fields.

          The values in the tuple conceptually represent a span of
          literal text followed by a single replacement field.  If
          there is no literal text (which can happen if two replacement
          fields occur consecutively), then `literal_text' will be a
          zero-length string.  If there is no replacement field, then
          the values of `field_name', `format_spec' and `conversion'
          will be `None'.

      -- Method: get_field (field_name, args, kwargs)
          Given `field_name' as returned by *Note parse(): 9a1. (see
          above), convert it to an object to be formatted.  Returns a
          tuple (obj, used_key).  The default version takes strings of
          the form defined in PEP 3101(2), such as “0[name]” or
          “label.title”.  `args' and `kwargs' are as passed in to
          *Note vformat(): 9a0.  The return value `used_key' has the
          same meaning as the `key' parameter to *Note get_value(): 9a3.

      -- Method: get_value (key, args, kwargs)
          Retrieve a given field value.  The `key' argument will be
          either an integer or a string.  If it is an integer, it
          represents the index of the positional argument in `args'; if
          it is a string, then it represents a named argument in
          `kwargs'.

          The `args' parameter is set to the list of positional
          arguments to *Note vformat(): 9a0, and the `kwargs' parameter
          is set to the dictionary of keyword arguments.

          For compound field names, these functions are only called for
          the first component of the field name; Subsequent components
          are handled through normal attribute and indexing operations.

          So for example, the field expression ‘0.name’ would cause
          *Note get_value(): 9a3. to be called with a `key' argument of
          0.  The `name' attribute will be looked up after *Note
          get_value(): 9a3. returns by calling the built-in *Note
          getattr(): 89d. function.

          If the index or keyword refers to an item that does not
          exist, then an *Note IndexError: 4fe. or *Note KeyError: 205.
          should be raised.

      -- Method: check_unused_args (used_args, args, kwargs)
          Implement checking for unused arguments if desired.  The
          arguments to this function is the set of all argument keys
          that were actually referred to in the format string (integers
          for positional arguments, and strings for named arguments),
          and a reference to the `args' and `kwargs' that was passed to
          vformat.  The set of unused args can be calculated from these
          parameters.  *Note check_unused_args(): 9a4. is assumed to
          raise an exception if the check fails.

      -- Method: format_field (value, format_spec)
          *Note format_field(): 9a5. simply calls the global *Note
          format(): 1ef. built-in.  The method is provided so that
          subclasses can override it.

      -- Method: convert_field (value, conversion)
          Converts the value (returned by *Note get_field(): 9a2.)
          given a conversion type (as in the tuple returned by the
          *Note parse(): 9a1. method).  The default version understands
          ‘s’ (str), ‘r’ (repr) and ‘a’ (ascii) conversion
          types.

---------- Footnotes ----------

(1) https://www.python.org/dev/peps/pep-3101

(2) https://www.python.org/dev/peps/pep-3101


File: python.info,  Node: Format String Syntax,  Next: Template strings,  Prev: Custom String Formatting,  Up: string — Common string operations

5.7.1.3 Format String Syntax
............................

The *Note str.format(): 1d4. method and the *Note Formatter: 99e. class
share the same syntax for format strings (although in the case of *Note
Formatter: 99e, subclasses can define their own format string syntax).

Format strings contain “replacement fields” surrounded by curly
braces `{}'.  Anything that is not contained in braces is considered
literal text, which is copied unchanged to the output.  If you need to
include a brace character in the literal text, it can be escaped by
doubling: `{{' and `}}'.

The grammar for a replacement field is as follows:

         replacement_field ::= "{" [field_name] ["!" conversion] [":" format_spec] "}"
         field_name        ::= arg_name ("." attribute_name | "[" element_index "]")*
         arg_name          ::= [identifier | integer]
         attribute_name    ::= identifier
         element_index     ::= integer | index_string
         index_string      ::= <any source character except "]"> +
         conversion        ::= "r" | "s"
         format_spec       ::= <described in the next section>

In less formal terms, the replacement field can start with a
`field_name' that specifies the object whose value is to be formatted
and inserted into the output instead of the replacement field.  The
`field_name' is optionally followed by a  `conversion' field, which is
preceded by an exclamation point `'!'', and a `format_spec', which is
preceded by a colon `':''.  These specify a non-default format for the
replacement value.

See also the *Note Format Specification Mini-Language: 8ac. section.

The `field_name' itself begins with an `arg_name' that is either a
number or a keyword.  If it’s a number, it refers to a positional
argument, and if it’s a keyword, it refers to a named keyword
argument.  If the numerical arg_names in a format string are 0, 1, 2,
… in sequence, they can all be omitted (not just some) and the
numbers 0, 1, 2, … will be automatically inserted in that order.
Because `arg_name' is not quote-delimited, it is not possible to
specify arbitrary dictionary keys (e.g., the strings `'10'' or `':-]'')
within a format string.  The `arg_name' can be followed by any number
of index or attribute expressions. An expression of the form `'.name''
selects the named attribute using *Note getattr(): 89d, while an
expression of the form `'[index]'' does an index lookup using *Note
__getitem__(): 468.

Changed in version 2.7: The positional argument specifiers can be
omitted, so `'{} {}'' is equivalent to `'{0} {1}''.

Some simple format string examples:

    "First, thou shalt count to {0}"  # References first positional argument
    "Bring me a {}"                   # Implicitly references the first positional argument
    "From {} to {}"                   # Same as "From {0} to {1}"
    "My quest is {name}"              # References keyword argument 'name'
    "Weight in tons {0.weight}"       # 'weight' attribute of first positional arg
    "Units destroyed: {players[0]}"   # First element of keyword argument 'players'.

The `conversion' field causes a type coercion before formatting.
Normally, the job of formatting a value is done by the `__format__()'
method of the value itself.  However, in some cases it is desirable to
force a type to be formatted as a string, overriding its own definition
of formatting.  By converting the value to a string before calling
`__format__()', the normal formatting logic is bypassed.

Two conversion flags are currently supported: `'!s'' which calls *Note
str(): 1ea.  on the value, and `'!r'' which calls *Note repr(): 1c6.

Some examples:

    "Harold's a clever {0!s}"        # Calls str() on the argument first
    "Bring out the holy {name!r}"    # Calls repr() on the argument first

The `format_spec' field contains a specification of how the value
should be presented, including such details as field width, alignment,
padding, decimal precision and so on.  Each value type can define its
own “formatting mini-language” or interpretation of the
`format_spec'.

Most built-in types support a common formatting mini-language, which is
described in the next section.

A `format_spec' field can also include nested replacement fields within
it.  These nested replacement fields may contain a field name,
conversion flag and format specification, but deeper nesting is not
allowed.  The replacement fields within the format_spec are substituted
before the `format_spec' string is interpreted.  This allows the
formatting of a value to be dynamically specified.

See the *Note Format examples: 9b0. section for some examples.

* Menu:

* Format Specification Mini-Language::
* Format examples::


File: python.info,  Node: Format Specification Mini-Language,  Next: Format examples,  Up: Format String Syntax

5.7.1.4 Format Specification Mini-Language
..........................................

“Format specifications” are used within replacement fields
contained within a format string to define how individual values are
presented (see *Note Format String Syntax: 31c.).  They can also be
passed directly to the built-in *Note format(): 1ef. function.  Each
formattable type may define how the format specification is to be
interpreted.

Most built-in types implement the following options for format
specifications, although some of the formatting options are only
supported by the numeric types.

A general convention is that an empty format string (`""') produces the
same result as if you had called *Note str(): 1ea. on the value. A
non-empty format string typically modifies the result.

The general form of a `standard format specifier' is:

    format_spec ::= [[fill]align][sign][#][0][width][,][.precision][type]
    fill        ::= <any character>
    align       ::= "<" | ">" | "=" | "^"
    sign        ::= "+" | "-" | " "
    width       ::= integer
    precision   ::= integer
    type        ::= "b" | "c" | "d" | "e" | "E" | "f" | "F" | "g" | "G" | "n" | "o" | "s" | "x" | "X" | "%"

If a valid `align' value is specified, it can be preceded by a `fill'
character that can be any character and defaults to a space if omitted.
It is not possible to use a literal curly brace (“`{'” or
“`}'”) as the `fill' character when using the *Note str.format():
1d4.  method.  However, it is possible to insert a curly brace with a
nested replacement field.  This limitation doesn’t affect the *Note
format(): 1ef. function.

The meaning of the various alignment options is as follows:

      Option        Meaning
     ----------------------------------------------------------------------------- 
     `'<''         Forces the field to be left-aligned within the available
                   space (this is the default for most objects).
     `'>''         Forces the field to be right-aligned within the available
                   space (this is the default for numbers).
     `'=''         Forces the padding to be placed after the sign (if any) but
                   before the digits.  This is used for printing fields in the
                   form ‘+000000120’. This alignment option is only valid
                   for numeric types.  It becomes the default when ‘0’
                   immediately precedes the field width.
     `'^''         Forces the field to be centered within the available space.


Note that unless a minimum field width is defined, the field width will
always be the same size as the data to fill it, so that the alignment
option has no meaning in this case.

The `sign' option is only valid for number types, and can be one of the
following:

      Option        Meaning
     ----------------------------------------------------------------------------- 
     `'+''         indicates that a sign should be used for both positive as
                   well as negative numbers.
     `'-''         indicates that a sign should be used only for negative
                   numbers (this is the default behavior).
     space         indicates that a leading space should be used on positive
                   numbers, and a minus sign on negative numbers.


The `'#'' option is only valid for integers, and only for binary,
octal, or hexadecimal output.  If present, it specifies that the output
will be prefixed by `'0b'', `'0o'', or `'0x'', respectively.

The `','' option signals the use of a comma for a thousands separator.
For a locale aware separator, use the `'n'' integer presentation type
instead.

Changed in version 2.7: Added the `','' option (see also PEP 378(1)).

`width' is a decimal integer defining the minimum field width.  If not
specified, then the field width will be determined by the content.

When no explicit alignment is given, preceding the `width' field by a
zero (`'0'') character enables sign-aware zero-padding for numeric
types.  This is equivalent to a `fill' character of `'0'' with an
`alignment' type of `'=''.

The `precision' is a decimal number indicating how many digits should be
displayed after the decimal point for a floating point value formatted
with `'f'' and `'F'', or before and after the decimal point for a
floating point value formatted with `'g'' or `'G''.  For non-number
types the field indicates the maximum field size - in other words, how
many characters will be used from the field content. The `precision' is
not allowed for integer values.

Finally, the `type' determines how the data should be presented.

The available string presentation types are:

      Type          Meaning
     ----------------------------------------------------------------------------- 
     `'s''         String format. This is the default type for strings and may
                   be omitted.
     None          The same as `'s''.


The available integer presentation types are:

      Type          Meaning
     ----------------------------------------------------------------------------- 
     `'b''         Binary format. Outputs the number in base 2.
     `'c''         Character. Converts the integer to the corresponding unicode
                   character before printing.
     `'d''         Decimal Integer. Outputs the number in base 10.
     `'o''         Octal format. Outputs the number in base 8.
     `'x''         Hex format. Outputs the number in base 16, using lower- case
                   letters for the digits above 9.
     `'X''         Hex format. Outputs the number in base 16, using upper- case
                   letters for the digits above 9.
     `'n''         Number. This is the same as `'d'', except that it uses the
                   current locale setting to insert the appropriate number
                   separator characters.
     None          The same as `'d''.


In addition to the above presentation types, integers can be formatted
with the floating point presentation types listed below (except `'n''
and `None'). When doing so, *Note float(): 1eb. is used to convert the
integer to a floating point number before formatting.

The available presentation types for floating point and decimal values
are:

      Type          Meaning
     ----------------------------------------------------------------------------- 
     `'e''         Exponent notation. Prints the number in scientific notation
                   using the letter ‘e’ to indicate the exponent.  The
                   default precision is `6'.
     `'E''         Exponent notation. Same as `'e'' except it uses an upper case
                   ‘E’ as the separator character.
     `'f''         Fixed point. Displays the number as a fixed-point number.
                   The default precision is `6'.
     `'F''         Fixed point. Same as `'f''.
     `'g''         General format.  For a given precision `p >= 1', this rounds
                   the number to `p' significant digits and then formats the
                   result in either fixed-point format or in scientific
                   notation, depending on its magnitude.
                   
                   The precise rules are as follows: suppose that the result
                   formatted with presentation type `'e'' and precision `p-1'
                   would have exponent `exp'.  Then if `-4 <= exp < p', the
                   number is formatted with presentation type `'f'' and precision
                   `p-1-exp'.  Otherwise, the number is formatted with
                   presentation type `'e'' and precision `p-1'.  In both cases
                   insignificant trailing zeros are removed from the
                   significand, and the decimal point is also removed if there
                   are no remaining digits following it.
                   
                   Positive and negative infinity, positive and negative zero,
                   and nans, are formatted as `inf', `-inf', `0', `-0' and `nan'
                   respectively, regardless of the precision.
                   
                   A precision of `0' is treated as equivalent to a precision of
                   `1'.  The default precision is `6'.
     `'G''         General format. Same as `'g'' except switches to `'E'' if the
                   number gets too large. The representations of infinity and
                   NaN are uppercased, too.
     `'n''         Number. This is the same as `'g'', except that it uses the
                   current locale setting to insert the appropriate number
                   separator characters.
     `'%''         Percentage. Multiplies the number by 100 and displays in
                   fixed (`'f'') format, followed by a percent sign.
     None          The same as `'g''.


---------- Footnotes ----------

(1) https://www.python.org/dev/peps/pep-0378


File: python.info,  Node: Format examples,  Prev: Format Specification Mini-Language,  Up: Format String Syntax

5.7.1.5 Format examples
.......................

This section contains examples of the *Note str.format(): 1d4. syntax
and comparison with the old `%'-formatting.

In most of the cases the syntax is similar to the old `%'-formatting,
with the addition of the `{}' and with `:' used instead of `%'.  For
example, `'%03.2f'' can be translated to `'{:03.2f}''.

The new format syntax also supports new and different options, shown in
the follow examples.

Accessing arguments by position:

    >>> '{0}, {1}, {2}'.format('a', 'b', 'c')
    'a, b, c'
    >>> '{}, {}, {}'.format('a', 'b', 'c')  # 2.7+ only
    'a, b, c'
    >>> '{2}, {1}, {0}'.format('a', 'b', 'c')
    'c, b, a'
    >>> '{2}, {1}, {0}'.format(*'abc')      # unpacking argument sequence
    'c, b, a'
    >>> '{0}{1}{0}'.format('abra', 'cad')   # arguments' indices can be repeated
    'abracadabra'

Accessing arguments by name:

    >>> 'Coordinates: {latitude}, {longitude}'.format(latitude='37.24N', longitude='-115.81W')
    'Coordinates: 37.24N, -115.81W'
    >>> coord = {'latitude': '37.24N', 'longitude': '-115.81W'}
    >>> 'Coordinates: {latitude}, {longitude}'.format(**coord)
    'Coordinates: 37.24N, -115.81W'

Accessing arguments’ attributes:

    >>> c = 3-5j
    >>> ('The complex number {0} is formed from the real part {0.real} '
    ...  'and the imaginary part {0.imag}.').format(c)
    'The complex number (3-5j) is formed from the real part 3.0 and the imaginary part -5.0.'
    >>> class Point(object):
    ...     def __init__(self, x, y):
    ...         self.x, self.y = x, y
    ...     def __str__(self):
    ...         return 'Point({self.x}, {self.y})'.format(self=self)
    ...
    >>> str(Point(4, 2))
    'Point(4, 2)'

Accessing arguments’ items:

    >>> coord = (3, 5)
    >>> 'X: {0[0]};  Y: {0[1]}'.format(coord)
    'X: 3;  Y: 5'

Replacing `%s' and `%r':

    >>> "repr() shows quotes: {!r}; str() doesn't: {!s}".format('test1', 'test2')
    "repr() shows quotes: 'test1'; str() doesn't: test2"

Aligning the text and specifying a width:

    >>> '{:<30}'.format('left aligned')
    'left aligned                  '
    >>> '{:>30}'.format('right aligned')
    '                 right aligned'
    >>> '{:^30}'.format('centered')
    '           centered           '
    >>> '{:*^30}'.format('centered')  # use '*' as a fill char
    '***********centered***********'

Replacing `%+f', `%-f', and `% f' and specifying a sign:

    >>> '{:+f}; {:+f}'.format(3.14, -3.14)  # show it always
    '+3.140000; -3.140000'
    >>> '{: f}; {: f}'.format(3.14, -3.14)  # show a space for positive numbers
    ' 3.140000; -3.140000'
    >>> '{:-f}; {:-f}'.format(3.14, -3.14)  # show only the minus -- same as '{:f}; {:f}'
    '3.140000; -3.140000'

Replacing `%x' and `%o' and converting the value to different bases:

    >>> # format also supports binary numbers
    >>> "int: {0:d};  hex: {0:x};  oct: {0:o};  bin: {0:b}".format(42)
    'int: 42;  hex: 2a;  oct: 52;  bin: 101010'
    >>> # with 0x, 0o, or 0b as prefix:
    >>> "int: {0:d};  hex: {0:#x};  oct: {0:#o};  bin: {0:#b}".format(42)
    'int: 42;  hex: 0x2a;  oct: 0o52;  bin: 0b101010'

Using the comma as a thousands separator:

    >>> '{:,}'.format(1234567890)
    '1,234,567,890'

Expressing a percentage:

    >>> points = 19.5
    >>> total = 22
    >>> 'Correct answers: {:.2%}'.format(points/total)
    'Correct answers: 88.64%'

Using type-specific formatting:

    >>> import datetime
    >>> d = datetime.datetime(2010, 7, 4, 12, 15, 58)
    >>> '{:%Y-%m-%d %H:%M:%S}'.format(d)
    '2010-07-04 12:15:58'

Nesting arguments and more complex examples:

    >>> for align, text in zip('<^>', ['left', 'center', 'right']):
    ...     '{0:{fill}{align}16}'.format(text, fill=align, align=align)
    ...
    'left<<<<<<<<<<<<'
    '^^^^^center^^^^^'
    '>>>>>>>>>>>right'
    >>>
    >>> octets = [192, 168, 0, 1]
    >>> '{:02X}{:02X}{:02X}{:02X}'.format(*octets)
    'C0A80001'
    >>> int(_, 16)
    3232235521
    >>>
    >>> width = 5
    >>> for num in range(5,12):
    ...     for base in 'dXob':
    ...         print '{0:{width}{base}}'.format(num, base=base, width=width),
    ...     print
    ...
        5     5     5   101
        6     6     6   110
        7     7     7   111
        8     8    10  1000
        9     9    11  1001
       10     A    12  1010
       11     B    13  1011


File: python.info,  Node: Template strings,  Next: String functions,  Prev: Format String Syntax,  Up: string — Common string operations

5.7.1.6 Template strings
........................

New in version 2.4.

Templates provide simpler string substitutions as described in PEP
292(1).  Instead of the normal `%'-based substitutions, Templates
support `$'-based substitutions, using the following rules:

   * `$$' is an escape; it is replaced with a single `$'.

   * `$identifier' names a substitution placeholder matching a mapping
     key of `"identifier"'.  By default, `"identifier"' must spell a
     Python identifier.  The first non-identifier character after the
     `$' character terminates this placeholder specification.

   * `${identifier}' is equivalent to `$identifier'.  It is required
     when valid identifier characters follow the placeholder but are
     not part of the placeholder, such as `"${noun}ification"'.

Any other appearance of `$' in the string will result in a *Note
ValueError: 236.  being raised.

The *Note string: 163. module provides a *Note Template: 5ae. class
that implements these rules.  The methods of *Note Template: 5ae. are:

 -- Class: string.Template (template)
     The constructor takes a single argument which is the template
     string.

      -- Method: substitute (mapping[, **kws])
          Performs the template substitution, returning a new string.
          `mapping' is any dictionary-like object with keys that match
          the placeholders in the template.  Alternatively, you can
          provide keyword arguments, where the keywords are the
          placeholders.  When both `mapping' and `kws' are given and
          there are duplicates, the placeholders from `kws' take
          precedence.

      -- Method: safe_substitute (mapping[, **kws])
          Like *Note substitute(): 61e, except that if placeholders are
          missing from `mapping' and `kws', instead of raising a *Note
          KeyError: 205. exception, the original placeholder will
          appear in the resulting string intact.  Also, unlike with
          *Note substitute(): 61e, any other appearances of the `$' will
          simply return `$' instead of raising *Note ValueError: 236.

          While other exceptions may still occur, this method is called
          “safe” because substitutions always tries to return a
          usable string instead of raising an exception.  In another
          sense, *Note safe_substitute(): 61f. may be anything other
          than safe, since it will silently ignore malformed templates
          containing dangling delimiters, unmatched braces, or
          placeholders that are not valid Python identifiers.

     *Note Template: 5ae. instances also provide one public data
     attribute:

      -- Attribute: template
          This is the object passed to the constructor’s `template'
          argument.  In general, you shouldn’t change it, but
          read-only access is not enforced.

Here is an example of how to use a Template:

    >>> from string import Template
    >>> s = Template('$who likes $what')
    >>> s.substitute(who='tim', what='kung pao')
    'tim likes kung pao'
    >>> d = dict(who='tim')
    >>> Template('Give $who $100').substitute(d)
    Traceback (most recent call last):
    ...
    ValueError: Invalid placeholder in string: line 1, col 11
    >>> Template('$who likes $what').substitute(d)
    Traceback (most recent call last):
    ...
    KeyError: 'what'
    >>> Template('$who likes $what').safe_substitute(d)
    'tim likes $what'

Advanced usage: you can derive subclasses of *Note Template: 5ae. to
customize the placeholder syntax, delimiter character, or the entire
regular expression used to parse template strings.  To do this, you can
override these class attributes:

   * `delimiter' – This is the literal string describing a
     placeholder introducing delimiter.  The default value is `$'.
     Note that this should `not' be a regular expression, as the
     implementation will call *Note re.escape(): 9bc. on this string as
     needed.

   * `idpattern' – This is the regular expression describing the
     pattern for non-braced placeholders (the braces will be added
     automatically as appropriate).  The default value is the regular
     expression `[_a-z][_a-z0-9]*'.

Alternatively, you can provide the entire regular expression pattern by
overriding the class attribute `pattern'.  If you do this, the value
must be a regular expression object with four named capturing groups.
The capturing groups correspond to the rules given above, along with
the invalid placeholder rule:

   * `escaped' – This group matches the escape sequence, e.g. `$$',
     in the default pattern.

   * `named' – This group matches the unbraced placeholder name; it
     should not include the delimiter in capturing group.

   * `braced' – This group matches the brace enclosed placeholder
     name; it should not include either the delimiter or braces in the
     capturing group.

   * `invalid' – This group matches any other delimiter pattern
     (usually a single delimiter), and it should appear last in the
     regular expression.

---------- Footnotes ----------

(1) https://www.python.org/dev/peps/pep-0292


File: python.info,  Node: String functions,  Next: Deprecated string functions,  Prev: Template strings,  Up: string — Common string operations

5.7.1.7 String functions
........................

The following functions are available to operate on string and Unicode
objects.  They are not available as string methods.

 -- Function: string.capwords (s[, sep])
     Split the argument into words using *Note str.split(): 8fd,
     capitalize each word using *Note str.capitalize(): 8e4, and join
     the capitalized words using *Note str.join(): 8e2.  If the
     optional second argument `sep' is absent or `None', runs of
     whitespace characters are replaced by a single space and leading
     and trailing whitespace are removed, otherwise `sep' is used to
     split and join the words.

 -- Function: string.maketrans (from, to)
     Return a translation table suitable for passing to *Note
     translate(): 9bf, that will map each character in `from' into the
     character at the same position in `to'; `from' and `to' must have
     the same length.

          Note: Don’t use strings derived from *Note lowercase: 995.
          and *Note uppercase: 996. as arguments; in some locales,
          these don’t have the same length.  For case conversions,
          always use *Note str.lower(): 8f5. and *Note str.upper(): 907.


File: python.info,  Node: Deprecated string functions,  Prev: String functions,  Up: string — Common string operations

5.7.1.8 Deprecated string functions
...................................

The following list of functions are also defined as methods of string
and Unicode objects; see section *Note String Methods: 53e. for more
information on those.  You should consider these functions as
deprecated, although they will not be removed until Python 3.  The
functions defined in this module are:

 -- Function: string.atof (s)
     Deprecated since version 2.0: Use the *Note float(): 1eb. built-in
     function.

     Convert a string to a floating point number.  The string must have
     the standard syntax for a floating point literal in Python,
     optionally preceded by a sign (`+' or `-').  Note that this
     behaves identical to the built-in function *Note float(): 1eb.
     when passed a string.

          Note: 

          When passing in a string, values for NaN and Infinity may be
          returned, depending on the underlying C library.  The
          specific set of strings accepted which cause these values to
          be returned depends entirely on the C library and is known to
          vary.

 -- Function: string.atoi (s[, base])
     Deprecated since version 2.0: Use the *Note int(): 1f2. built-in
     function.

     Convert string `s' to an integer in the given `base'.  The string
     must consist of one or more digits, optionally preceded by a sign
     (`+' or `-').  The `base' defaults to 10.  If it is 0, a default
     base is chosen depending on the leading characters of the string
     (after stripping the sign): `0x' or `0X' means 16, `0' means 8,
     anything else means 10.  If `base' is 16, a leading `0x' or `0X'
     is always accepted, though not required.  This behaves identically
     to the built-in function *Note int(): 1f2. when passed a string.
     (Also note: for a more flexible interpretation of numeric
     literals, use the built-in function *Note eval(): 378.)

 -- Function: string.atol (s[, base])
     Deprecated since version 2.0: Use the *Note long(): 1f3. built-in
     function.

     Convert string `s' to a long integer in the given `base'. The
     string must consist of one or more digits, optionally preceded by
     a sign (`+' or `-').  The `base' argument has the same meaning as
     for *Note atoi(): 9c2.  A trailing `l' or `L' is not allowed,
     except if the base is 0.  Note that when invoked without `base' or
     with `base' set to 10, this behaves identical to the built-in
     function *Note long(): 1f3. when passed a string.

 -- Function: string.capitalize (word)
     Return a copy of `word' with only its first character capitalized.

 -- Function: string.expandtabs (s[, tabsize])
     Expand tabs in a string replacing them by one or more spaces,
     depending on the current column and the given tab size.  The
     column number is reset to zero after each newline occurring in the
     string. This doesn’t understand other non-printing characters or
     escape sequences.  The tab size defaults to 8.

 -- Function: string.find (s, sub[, start[, end]])
     Return the lowest index in `s' where the substring `sub' is found
     such that `sub' is wholly contained in `s[start:end]'.  Return
     `-1' on failure.  Defaults for `start' and `end' and
     interpretation of negative values is the same as for slices.

 -- Function: string.rfind (s, sub[, start[, end]])
     Like *Note find(): 9c6. but find the highest index.

 -- Function: string.index (s, sub[, start[, end]])
     Like *Note find(): 9c6. but raise *Note ValueError: 236. when the
     substring is not found.

 -- Function: string.rindex (s, sub[, start[, end]])
     Like *Note rfind(): 9c7. but raise *Note ValueError: 236. when the
     substring is not found.

 -- Function: string.count (s, sub[, start[, end]])
     Return the number of (non-overlapping) occurrences of substring
     `sub' in string `s[start:end]'. Defaults for `start' and `end' and
     interpretation of negative values are the same as for slices.

 -- Function: string.lower (s)
     Return a copy of `s', but with upper case letters converted to
     lower case.

 -- Function: string.split (s[, sep[, maxsplit]])
     Return a list of the words of the string `s'.  If the optional
     second argument `sep' is absent or `None', the words are separated
     by arbitrary strings of whitespace characters (space, tab,
     newline, return, formfeed).  If the second argument `sep' is
     present and not `None', it specifies a string to be used as the
     word separator.  The returned list will then have one more item
     than the number of non-overlapping occurrences of the separator in
     the string.  If `maxsplit' is given, at most `maxsplit' number of
     splits occur, and the remainder of the string is returned as the
     final element of the list (thus, the list will have at most
     `maxsplit+1' elements).  If `maxsplit' is not specified or `-1',
     then there is no limit on the number of splits (all possible
     splits are made).

     The behavior of split on an empty string depends on the value of
     `sep'. If `sep' is not specified, or specified as `None', the
     result will be an empty list.  If `sep' is specified as any
     string, the result will be a list containing one element which is
     an empty string.

 -- Function: string.rsplit (s[, sep[, maxsplit]])
     Return a list of the words of the string `s', scanning `s' from
     the end.  To all intents and purposes, the resulting list of words
     is the same as returned by *Note split(): 9cc, except when the
     optional third argument `maxsplit' is explicitly specified and
     nonzero.  If `maxsplit' is given, at most `maxsplit' number of
     splits – the `rightmost' ones – occur, and the remainder of
     the string is returned as the first element of the list (thus, the
     list will have at most `maxsplit+1' elements).

     New in version 2.4.


 -- Function: string.splitfields (s[, sep[, maxsplit]])
     This function behaves identically to *Note split(): 9cc.  (In the
     past, *Note split(): 9cc.  was only used with one argument, while
     *Note splitfields(): 9ce. was only used with two arguments.)

 -- Function: string.join (words[, sep])
     Concatenate a list or tuple of words with intervening occurrences
     of  `sep'.  The default value for `sep' is a single space
     character.  It is always true that `string.join(string.split(s,
     sep), sep)' equals `s'.

 -- Function: string.joinfields (words[, sep])
     This function behaves identically to *Note join(): 4f9.  (In the
     past,  *Note join(): 4f9.  was only used with one argument, while
     *Note joinfields(): 9cf. was only used with two arguments.) Note
     that there is no *Note joinfields(): 9cf. method on string objects;
     use the *Note join(): 4f9. method instead.

 -- Function: string.lstrip (s[, chars])
     Return a copy of the string with leading characters removed.  If
     `chars' is omitted or `None', whitespace characters are removed.
     If given and not `None', `chars' must be a string; the characters
     in the string will be stripped from the beginning of the string
     this method is called on.

     Changed in version 2.2.3: The `chars' parameter was added.  The
     `chars' parameter cannot be passed in earlier 2.2 versions.


 -- Function: string.rstrip (s[, chars])
     Return a copy of the string with trailing characters removed.  If
     `chars' is omitted or `None', whitespace characters are removed.
     If given and not `None', `chars' must be a string; the characters
     in the string will be stripped from the end of the string this
     method is called on.

     Changed in version 2.2.3: The `chars' parameter was added.  The
     `chars' parameter cannot be passed in earlier 2.2 versions.


 -- Function: string.strip (s[, chars])
     Return a copy of the string with leading and trailing characters
     removed.  If `chars' is omitted or `None', whitespace characters
     are removed.  If given and not `None', `chars' must be a string;
     the characters in the string will be stripped from the both ends
     of the string this method is called on.

     Changed in version 2.2.3: The `chars' parameter was added.  The
     `chars' parameter cannot be passed in earlier 2.2 versions.


 -- Function: string.swapcase (s)
     Return a copy of `s', but with lower case letters converted to
     upper case and vice versa.

 -- Function: string.translate (s, table[, deletechars])
     Delete all characters from `s' that are in `deletechars' (if
     present), and then translate the characters using `table', which
     must be a 256-character string giving the translation for each
     character value, indexed by its ordinal.  If `table' is `None',
     then only the character deletion step is performed.

 -- Function: string.upper (s)
     Return a copy of `s', but with lower case letters converted to
     upper case.

 -- Function: string.ljust (s, width[, fillchar])
 -- Function: string.rjust (s, width[, fillchar])
 -- Function: string.center (s, width[, fillchar])
     These functions respectively left-justify, right-justify and
     center a string in a field of given width.  They return a string
     that is at least `width' characters wide, created by padding the
     string `s' with the character `fillchar' (default is a space)
     until the given width on the right, left or both sides.  The
     string is never truncated.

 -- Function: string.zfill (s, width)
     Pad a numeric string `s' on the left with zero digits until the
     given `width' is reached.  Strings starting with a sign are handled
     correctly.

 -- Function: string.replace (s, old, new[, maxreplace])
     Return a copy of string `s' with all occurrences of substring
     `old' replaced by `new'.  If the optional argument `maxreplace' is
     given, the first `maxreplace' occurrences are replaced.


File: python.info,  Node: re — Regular expression operations,  Next: struct — Interpret strings as packed binary data,  Prev: string — Common string operations,  Up: String Services

5.7.2 `re' — Regular expression operations
--------------------------------------------

This module provides regular expression matching operations similar to
those found in Perl. Both patterns and strings to be searched can be
Unicode strings as well as 8-bit strings.

Regular expressions use the backslash character (`'\'') to indicate
special forms or to allow special characters to be used without invoking
their special meaning.  This collides with Python’s usage of the same
character for the same purpose in string literals; for example, to match
a literal backslash, one might have to write `'\\\\'' as the pattern
string, because the regular expression must be `\\', and each backslash
must be expressed as `\\' inside a regular Python string literal.

The solution is to use Python’s raw string notation for regular
expression patterns; backslashes are not handled in any special way in
a string literal prefixed with `'r''.  So `r"\n"' is a two-character
string containing `'\'' and `'n'', while `"\n"' is a one-character
string containing a newline.  Usually patterns will be expressed in
Python code using this raw string notation.

It is important to note that most regular expression operations are
available as module-level functions and *Note RegexObject: 9db.
methods.  The functions are shortcuts that don’t require you to
compile a regex object first, but miss some fine-tuning parameters.

* Menu:

* Regular Expression Syntax::
* Module Contents::
* Regular Expression Objects::
* Match Objects::
* Examples::


File: python.info,  Node: Regular Expression Syntax,  Next: Module Contents,  Up: re — Regular expression operations

5.7.2.1 Regular Expression Syntax
.................................

A regular expression (or RE) specifies a set of strings that matches
it; the functions in this module let you check if a particular string
matches a given regular expression (or if a given regular expression
matches a particular string, which comes down to the same thing).

Regular expressions can be concatenated to form new regular
expressions; if `A' and `B' are both regular expressions, then `AB' is
also a regular expression.  In general, if a string `p' matches `A' and
another string `q' matches `B', the string `pq' will match AB.  This
holds unless `A' or `B' contain low precedence operations; boundary
conditions between `A' and `B'; or have numbered group references.
Thus, complex expressions can easily be constructed from simpler
primitive expressions like the ones described here.  For details of the
theory and implementation of regular expressions, consult the Friedl
book referenced above, or almost any textbook about compiler
construction.

A brief explanation of the format of regular expressions follows.  For
further information and a gentler presentation, consult the *Note
Regular Expression HOWTO: 9de.

Regular expressions can contain both special and ordinary characters.
Most ordinary characters, like `'A'', `'a'', or `'0'', are the simplest
regular expressions; they simply match themselves.  You can concatenate
ordinary characters, so `last' matches the string `'last''.  (In the
rest of this section, we’ll write RE’s in `this special style',
usually without quotes, and strings to be matched `'in single quotes''.)

Some characters, like `'|'' or `'('', are special. Special characters
either stand for classes of ordinary characters, or affect how the
regular expressions around them are interpreted. Regular expression
pattern strings may not contain null bytes, but can specify the null
byte using the `\number' notation, e.g., `'\x00''.

Repetition qualifiers (`*', `+', `?', `{m,n}', etc) cannot be directly
nested. This avoids ambiguity with the non-greedy modifier suffix `?',
and with other modifiers in other implementations. To apply a second
repetition to an inner repetition, parentheses may be used. For example,
the expression `(?:a{6})*' matches any multiple of six `'a'' characters.

The special characters are:

`'.''
     (Dot.)  In the default mode, this matches any character except a
     newline.  If the *Note DOTALL: 9df. flag has been specified, this
     matches any character including a newline.

`'^''
     (Caret.)  Matches the start of the string, and in *Note MULTILINE:
     9e0. mode also matches immediately after each newline.

`'$''
     Matches the end of the string or just before the newline at the
     end of the string, and in *Note MULTILINE: 9e0. mode also matches
     before a newline.  `foo' matches both ‘foo’ and ‘foobar’,
     while the regular expression `foo$' matches only ‘foo’.  More
     interestingly, searching for `foo.$' in `'foo1\nfoo2\n'' matches
     ‘foo2’ normally, but ‘foo1’ in *Note MULTILINE: 9e0. mode;
     searching for a single `$' in `'foo\n'' will find two (empty)
     matches: one just before the newline, and one at the end of the
     string.

`'*''
     Causes the resulting RE to match 0 or more repetitions of the
     preceding RE, as many repetitions as are possible.  `ab*' will
     match ‘a’, ‘ab’, or ‘a’ followed by any number of
     ‘b’s.

`'+''
     Causes the resulting RE to match 1 or more repetitions of the
     preceding RE.  `ab+' will match ‘a’ followed by any non-zero
     number of ‘b’s; it will not match just ‘a’.

`'?''
     Causes the resulting RE to match 0 or 1 repetitions of the
     preceding RE.  `ab?' will match either ‘a’ or ‘ab’.

`*?', `+?', `??'
     The `'*'', `'+'', and `'?'' qualifiers are all `greedy'; they match
     as much text as possible.  Sometimes this behaviour isn’t
     desired; if the RE `<.*>' is matched against `<a> b <c>', it will
     match the entire string, and not just `<a>'.  Adding `?' after the
     qualifier makes it perform the match in `non-greedy' or `minimal'
     fashion; as `few' characters as possible will be matched.  Using
     the RE `<.*?>' will match only `<a>'.

`{m}'
     Specifies that exactly `m' copies of the previous RE should be
     matched; fewer matches cause the entire RE not to match.  For
     example, `a{6}' will match exactly six `'a'' characters, but not
     five.

`{m,n}'
     Causes the resulting RE to match from `m' to `n' repetitions of
     the preceding RE, attempting to match as many repetitions as
     possible.  For example, `a{3,5}' will match from 3 to 5 `'a''
     characters.  Omitting `m' specifies a lower bound of zero,  and
     omitting `n' specifies an infinite upper bound.  As an example,
     `a{4,}b' will match `aaaab' or a thousand `'a'' characters
     followed by a `b', but not `aaab'. The comma may not be omitted or
     the modifier would be confused with the previously described form.

`{m,n}?'
     Causes the resulting RE to match from `m' to `n' repetitions of
     the preceding RE, attempting to match as `few' repetitions as
     possible.  This is the non-greedy version of the previous
     qualifier.  For example, on the 6-character string `'aaaaaa'',
     `a{3,5}' will match 5 `'a'' characters, while `a{3,5}?' will only
     match 3 characters.

`'\''
     Either escapes special characters (permitting you to match
     characters like `'*'', `'?'', and so forth), or signals a special
     sequence; special sequences are discussed below.

     If you’re not using a raw string to express the pattern,
     remember that Python also uses the backslash as an escape sequence
     in string literals; if the escape sequence isn’t recognized by
     Python’s parser, the backslash and subsequent character are
     included in the resulting string.  However, if Python would
     recognize the resulting sequence, the backslash should be repeated
     twice.  This is complicated and hard to understand, so it’s
     highly recommended that you use raw strings for all but the
     simplest expressions.

`[]'
     Used to indicate a set of characters.  In a set:

        * Characters can be listed individually, e.g. `[amk]' will
          match `'a'', `'m'', or `'k''.

        * Ranges of characters can be indicated by giving two
          characters and separating them by a `'-'', for example
          `[a-z]' will match any lowercase ASCII letter, `[0-5][0-9]'
          will match all the two-digits numbers from `00' to `59', and
          `[0-9A-Fa-f]' will match any hexadecimal digit.  If `-' is
          escaped (e.g.  `[a\-z]') or if it’s placed as the first or
          last character (e.g. `[a-]'), it will match a literal `'-''.

        * Special characters lose their special meaning inside sets.
          For example, `[(+*)]' will match any of the literal
          characters `'('', `'+'', `'*'', or `')''.

        * Character classes such as `\w' or `\S' (defined below) are
          also accepted inside a set, although the characters they
          match depends on whether *Note LOCALE: 9e1. or  *Note
          UNICODE: 9e2. mode is in force.

        * Characters that are not within a range can be matched by
          `complementing' the set.  If the first character of the set
          is `'^'', all the characters that are `not' in the set will
          be matched.  For example, `[^5]' will match any character
          except `'5'', and `[^^]' will match any character except
          `'^''.  `^' has no special meaning if it’s not the first
          character in the set.

        * To match a literal `']'' inside a set, precede it with a
          backslash, or place it at the beginning of the set.  For
          example, both `[()[\]{}]' and `[]()[{}]' will both match a
          parenthesis.

`'|''
     `A|B', where A and B can be arbitrary REs, creates a regular
     expression that will match either A or B.  An arbitrary number of
     REs can be separated by the `'|'' in this way.  This can be used
     inside groups (see below) as well.  As the target string is
     scanned, REs separated by `'|'' are tried from left to right. When
     one pattern completely matches, that branch is accepted. This means
     that once `A' matches, `B' will not be tested further, even if it
     would produce a longer overall match.  In other words, the `'|''
     operator is never greedy.  To match a literal `'|'', use `\|', or
     enclose it inside a character class, as in `[|]'.

`(...)'
     Matches whatever regular expression is inside the parentheses, and
     indicates the start and end of a group; the contents of a group
     can be retrieved after a match has been performed, and can be
     matched later in the string with the `\number' special sequence,
     described below.  To match the literals `'('' or `')'', use `\('
     or `\)', or enclose them inside a character class: `[(] [)]'.

`(?...)'
     This is an extension notation (a `'?'' following a `'('' is not
     meaningful otherwise).  The first character after the `'?''
     determines what the meaning and further syntax of the construct
     is. Extensions usually do not create a new group; `(?P<name>...)'
     is the only exception to this rule. Following are the currently
     supported extensions.

`(?iLmsux)'
     (One or more letters from the set `'i'', `'L'', `'m'', `'s'',
     `'u'', `'x''.)  The group matches the empty string; the letters
     set the corresponding flags: *Note re.I: 9e3. (ignore case), *Note
     re.L: 9e4. (locale dependent), *Note re.M: 9e5. (multi-line),
     *Note re.S: 9e6. (dot matches all), *Note re.U: 9e7. (Unicode
     dependent), and *Note re.X: 9e8. (verbose), for the entire regular
     expression. (The flags are described in *Note Module Contents:
     9e9.) This is useful if you wish to include the flags as part of
     the regular expression, instead of passing a `flag' argument to the
     *Note re.compile(): 9ea. function.

     Note that the `(?x)' flag changes how the expression is parsed. It
     should be used first in the expression string, or after one or
     more whitespace characters.  If there are non-whitespace
     characters before the flag, the results are undefined.

`(?:...)'
     A non-capturing version of regular parentheses.  Matches whatever
     regular expression is inside the parentheses, but the substring
     matched by the group `cannot' be retrieved after performing a
     match or referenced later in the pattern.

`(?P<name>...)'
     Similar to regular parentheses, but the substring matched by the
     group is accessible via the symbolic group name `name'.  Group
     names must be valid Python identifiers, and each group name must
     be defined only once within a regular expression.  A symbolic
     group is also a numbered group, just as if the group were not
     named.

     Named groups can be referenced in three contexts.  If the pattern
     is `(?P<quote>['"]).*?(?P=quote)' (i.e. matching a string quoted
     with either single or double quotes):

     Context of reference to group “quote”   Ways to reference it
     ----------------------------------------------------------------------------------- 
     in the same pattern itself                     * `(?P=quote)' (as shown)
                                                 
                                                    * `\1'
     when processing match object `m'               * `m.group('quote')'
                                                 
                                                    * `m.end('quote')' (etc.)
     in a string passed to the `repl' argument      * `\g<quote>'
     of `re.sub()'                               
                                                    * `\g<1>'
                                                 
                                                    * `\1'

`(?P=name)'
     A backreference to a named group; it matches whatever text was
     matched by the earlier group named `name'.

`(?#...)'
     A comment; the contents of the parentheses are simply ignored.

`(?=...)'
     Matches if `...' matches next, but doesn’t consume any of the
     string.  This is called a lookahead assertion.  For example,
     `Isaac (?=Asimov)' will match `'Isaac '' only if it’s followed
     by `'Asimov''.

`(?!...)'
     Matches if `...' doesn’t match next.  This is a negative
     lookahead assertion.  For example, `Isaac (?!Asimov)' will match
     `'Isaac '' only if it’s `not' followed by `'Asimov''.

`(?<=...)'
     Matches if the current position in the string is preceded by a
     match for `...' that ends at the current position.  This is called
     a `positive lookbehind assertion'. `(?<=abc)def' will find a match
     in `abcdef', since the lookbehind will back up 3 characters and
     check if the contained pattern matches.  The contained pattern
     must only match strings of some fixed length, meaning that `abc'
     or `a|b' are allowed, but `a*' and `a{3,4}' are not.  Group
     references are not supported even if they match strings of some
     fixed length.  Note that patterns which start with positive
     lookbehind assertions will not match at the beginning of the
     string being searched; you will most likely want to use the *Note
     search(): 9eb. function rather than the *Note match(): 9ec.
     function:

         >>> import re
         >>> m = re.search('(?<=abc)def', 'abcdef')
         >>> m.group(0)
         'def'

     This example looks for a word following a hyphen:

         >>> m = re.search('(?<=-)\w+', 'spam-egg')
         >>> m.group(0)
         'egg'

`(?<!...)'
     Matches if the current position in the string is not preceded by a
     match for `...'.  This is called a `negative lookbehind
     assertion'.  Similar to positive lookbehind assertions, the
     contained pattern must only match strings of some fixed length and
     shouldn’t contain group references.  Patterns which start with
     negative lookbehind assertions may match at the beginning of the
     string being searched.

`(?(id/name)yes-pattern|no-pattern)'
     Will try to match with `yes-pattern' if the group with given `id'
     or `name' exists, and with `no-pattern' if it doesn’t.
     `no-pattern' is optional and can be omitted. For example,
     `(<)?(\w+@\w+(?:\.\w+)+)(?(1)>)' is a poor email matching pattern,
     which will match with `'<user@host.com>'' as well as
     `'user@host.com'', but not with `'<user@host.com''.

     New in version 2.4.


The special sequences consist of `'\'' and a character from the list
below.  If the ordinary character is not on the list, then the
resulting RE will match the second character.  For example, `\$'
matches the character `'$''.

`\number'
     Matches the contents of the group of the same number.  Groups are
     numbered starting from 1.  For example, `(.+) \1' matches `'the
     the'' or `'55 55'', but not `'thethe'' (note the space after the
     group).  This special sequence can only be used to match one of
     the first 99 groups.  If the first digit of `number' is 0, or
     `number' is 3 octal digits long, it will not be interpreted as a
     group match, but as the character with octal value `number'.
     Inside the `'['' and `']'' of a character class, all numeric
     escapes are treated as characters.

`\A'
     Matches only at the start of the string.

`\b'
     Matches the empty string, but only at the beginning or end of a
     word.  A word is defined as a sequence of alphanumeric or
     underscore characters, so the end of a word is indicated by
     whitespace or a non-alphanumeric, non-underscore character.  Note
     that formally, `\b' is defined as the boundary between a `\w' and
     a `\W' character (or vice versa), or between `\w' and the
     beginning/end of the string, so the precise set of characters
     deemed to be alphanumeric depends on the values of the `UNICODE'
     and `LOCALE' flags.  For example, `r'\bfoo\b'' matches `'foo'',
     `'foo.'', `'(foo)'', `'bar foo baz'' but not `'foobar'' or
     `'foo3''.  Inside a character range, `\b' represents the backspace
     character, for compatibility with Python’s string literals.

`\B'
     Matches the empty string, but only when it is `not' at the
     beginning or end of a word.  This means that `r'py\B'' matches
     `'python'', `'py3'', `'py2'', but not `'py'', `'py.'', or `'py!''.
     `\B' is just the opposite of `\b', so is also subject to the
     settings of `LOCALE' and `UNICODE'.

`\d'
     When the *Note UNICODE: 9e2. flag is not specified, matches any
     decimal digit; this is equivalent to the set `[0-9]'.  With *Note
     UNICODE: 9e2, it will match whatever is classified as a decimal
     digit in the Unicode character properties database.

`\D'
     When the *Note UNICODE: 9e2. flag is not specified, matches any
     non-digit character; this is equivalent to the set  `[^0-9]'.
     With *Note UNICODE: 9e2, it will match  anything other than
     character marked as digits in the Unicode character  properties
     database.

`\s'
     When the *Note UNICODE: 9e2. flag is not specified, it matches any
     whitespace character, this is equivalent to the set `[
     \t\n\r\f\v]'. The *Note LOCALE: 9e1. flag has no extra effect on
     matching of the space.  If *Note UNICODE: 9e2. is set, this will
     match the characters `[ \t\n\r\f\v]' plus whatever is classified
     as space in the Unicode character properties database.

`\S'
     When the *Note UNICODE: 9e2. flag is not specified, matches any
     non-whitespace character; this is equivalent to the set `[^
     \t\n\r\f\v]' The *Note LOCALE: 9e1. flag has no extra effect on
     non-whitespace match.  If *Note UNICODE: 9e2. is set, then any
     character not marked as space in the Unicode character properties
     database is matched.

`\w'
     When the *Note LOCALE: 9e1. and *Note UNICODE: 9e2. flags are not
     specified, matches any alphanumeric character and the underscore;
     this is equivalent to the set `[a-zA-Z0-9_]'.  With *Note LOCALE:
     9e1, it will match the set `[0-9_]' plus whatever characters are
     defined as alphanumeric for the current locale.  If *Note UNICODE:
     9e2. is set, this will match the characters `[0-9_]' plus whatever
     is classified as alphanumeric in the Unicode character properties
     database.

`\W'
     When the *Note LOCALE: 9e1. and *Note UNICODE: 9e2. flags are not
     specified, matches any non-alphanumeric character; this is
     equivalent to the set `[^a-zA-Z0-9_]'.  With *Note LOCALE: 9e1, it
     will match any character not in the set `[0-9_]', and not defined
     as alphanumeric for the current locale. If *Note UNICODE: 9e2. is
     set, this will match anything other than `[0-9_]' plus characters
     classified as not alphanumeric in the Unicode character properties
     database.

`\Z'
     Matches only at the end of the string.

If both *Note LOCALE: 9e1. and *Note UNICODE: 9e2. flags are included
for a particular sequence, then *Note LOCALE: 9e1. flag takes effect
first followed by the *Note UNICODE: 9e2.

Most of the standard escapes supported by Python string literals are
also accepted by the regular expression parser:

    \a      \b      \f      \n
    \r      \t      \v      \x
    \\

(Note that `\b' is used to represent word boundaries, and means
“backspace” only inside character classes.)

Octal escapes are included in a limited form: If the first digit is a
0, or if there are three octal digits, it is considered an octal
escape. Otherwise, it is a group reference.  As for string literals,
octal escapes are always at most three digits in length.

See also
........

Mastering Regular Expressions
     Book on regular expressions by Jeffrey Friedl, published by
     O’Reilly.  The second edition of the book no longer covers
     Python at all, but the first edition covered writing good regular
     expression patterns in great detail.


File: python.info,  Node: Module Contents,  Next: Regular Expression Objects,  Prev: Regular Expression Syntax,  Up: re — Regular expression operations

5.7.2.2 Module Contents
.......................

The module defines several functions, constants, and an exception. Some
of the functions are simplified versions of the full featured methods
for compiled regular expressions.  Most non-trivial applications always
use the compiled form.

 -- Function: re.compile (pattern, flags=0)
     Compile a regular expression pattern into a regular expression
     object, which can be used for matching using its *Note match():
     9ee. and *Note search(): 9ef. methods, described below.

     The expression’s behaviour can be modified by specifying a
     `flags' value.  Values can be any of the following variables,
     combined using bitwise OR (the `|' operator).

     The sequence

         prog = re.compile(pattern)
         result = prog.match(string)

     is equivalent to

         result = re.match(pattern, string)

     but using *Note re.compile(): 9ea. and saving the resulting
     regular expression object for reuse is more efficient when the
     expression will be used several times in a single program.

          Note: The compiled versions of the most recent patterns
          passed to *Note re.match(): 9ec, *Note re.search(): 9eb. or
          *Note re.compile(): 9ea. are cached, so programs that use
          only a few regular expressions at a time needn’t worry
          about compiling regular expressions.

 -- Data: re.DEBUG
     Display debug information about compiled expression.

 -- Data: re.I
 -- Data: re.IGNORECASE
     Perform case-insensitive matching; expressions like `[A-Z]' will
     match lowercase letters, too.  This is not affected by the current
     locale.

 -- Data: re.L
 -- Data: re.LOCALE
     Make `\w', `\W', `\b', `\B', `\s' and `\S' dependent on the
     current locale.

 -- Data: re.M
 -- Data: re.MULTILINE
     When specified, the pattern character `'^'' matches at the
     beginning of the string and at the beginning of each line
     (immediately following each newline); and the pattern character
     `'$'' matches at the end of the string and at the end of each line
     (immediately preceding each newline).  By default, `'^'' matches
     only at the beginning of the string, and `'$'' only at the end of
     the string and immediately before the newline (if any) at the end
     of the string.

 -- Data: re.S
 -- Data: re.DOTALL
     Make the `'.'' special character match any character at all,
     including a newline; without this flag, `'.'' will match anything
     `except' a newline.

 -- Data: re.U
 -- Data: re.UNICODE
     Make `\w', `\W', `\b', `\B', `\d', `\D', `\s' and `\S' dependent
     on the Unicode character properties database.

     New in version 2.0.


 -- Data: re.X
 -- Data: re.VERBOSE
     This flag allows you to write regular expressions that look nicer
     and are more readable by allowing you to visually separate logical
     sections of the pattern and add comments. Whitespace within the
     pattern is ignored, except when in a character class or when
     preceded by an unescaped backslash.  When a line contains a `#'
     that is not in a character class and is not preceded by an
     unescaped backslash, all characters from the leftmost such `#'
     through the end of the line are ignored.

     This means that the two following regular expression objects that
     match a decimal number are functionally equal:

         a = re.compile(r"""\d +  # the integral part
                            \.    # the decimal point
                            \d *  # some fractional digits""", re.X)
         b = re.compile(r"\d+\.\d*")

 -- Function: re.search (pattern, string, flags=0)
     Scan through `string' looking for the first location where the
     regular expression `pattern' produces a match, and return a
     corresponding *Note MatchObject: 9f3.  instance. Return `None' if
     no position in the string matches the pattern; note that this is
     different from finding a zero-length match at some point in the
     string.

 -- Function: re.match (pattern, string, flags=0)
     If zero or more characters at the beginning of `string' match the
     regular expression `pattern', return a corresponding *Note
     MatchObject: 9f3. instance.  Return `None' if the string does not
     match the pattern; note that this is different from a zero-length
     match.

     Note that even in *Note MULTILINE: 9e0. mode, *Note re.match():
     9ec. will only match at the beginning of the string and not at the
     beginning of each line.

     If you want to locate a match anywhere in `string', use *Note
     search(): 9eb.  instead (see also *Note search() vs. match():
     9f4.).

 -- Function: re.split (pattern, string, maxsplit=0, flags=0)
     Split `string' by the occurrences of `pattern'.  If capturing
     parentheses are used in `pattern', then the text of all groups in
     the pattern are also returned as part of the resulting list. If
     `maxsplit' is nonzero, at most `maxsplit' splits occur, and the
     remainder of the string is returned as the final element of the
     list.  (Incompatibility note: in the original Python 1.5 release,
     `maxsplit' was ignored.  This has been fixed in later releases.)

         >>> re.split('\W+', 'Words, words, words.')
         ['Words', 'words', 'words', '']
         >>> re.split('(\W+)', 'Words, words, words.')
         ['Words', ', ', 'words', ', ', 'words', '.', '']
         >>> re.split('\W+', 'Words, words, words.', 1)
         ['Words', 'words, words.']
         >>> re.split('[a-f]+', '0a3B9', flags=re.IGNORECASE)
         ['0', '3', '9']

     If there are capturing groups in the separator and it matches at
     the start of the string, the result will start with an empty
     string.  The same holds for the end of the string:

         >>> re.split('(\W+)', '...words, words...')
         ['', '...', 'words', ', ', 'words', '...', '']

     That way, separator components are always found at the same
     relative indices within the result list (e.g., if there’s one
     capturing group in the separator, the 0th, the 2nd and so forth).

     Note that `split' will never split a string on an empty pattern
     match.  For example:

         >>> re.split('x*', 'foo')
         ['foo']
         >>> re.split("(?m)^$", "foo\n\nbar\n")
         ['foo\n\nbar\n']

     Changed in version 2.7: Added the optional flags argument.


 -- Function: re.findall (pattern, string, flags=0)
     Return all non-overlapping matches of `pattern' in `string', as a
     list of strings.  The `string' is scanned left-to-right, and
     matches are returned in the order found.  If one or more groups
     are present in the pattern, return a list of groups; this will be
     a list of tuples if the pattern has more than one group.  Empty
     matches are included in the result unless they touch the beginning
     of another match.

     New in version 1.5.2.

     Changed in version 2.4: Added the optional flags argument.


 -- Function: re.finditer (pattern, string, flags=0)
     Return an *Note iterator: 8a8. yielding *Note MatchObject: 9f3.
     instances over all non-overlapping matches for the RE `pattern' in
     `string'.  The `string' is scanned left-to-right, and matches are
     returned in the order found.  Empty matches are included in the
     result unless they touch the beginning of another match.

     New in version 2.2.

     Changed in version 2.4: Added the optional flags argument.


 -- Function: re.sub (pattern, repl, string, count=0, flags=0)
     Return the string obtained by replacing the leftmost
     non-overlapping occurrences of `pattern' in `string' by the
     replacement `repl'.  If the pattern isn’t found, `string' is
     returned unchanged.  `repl' can be a string or a function; if it is
     a string, any backslash escapes in it are processed.  That is,
     `\n' is converted to a single newline character, `\r' is converted
     to a carriage return, and so forth.  Unknown escapes such as `\j'
     are left alone.  Backreferences, such as `\6', are replaced with
     the substring matched by group 6 in the pattern.  For example:

         >>> re.sub(r'def\s+([a-zA-Z_][a-zA-Z_0-9]*)\s*\(\s*\):',
         ...        r'static PyObject*\npy_\1(void)\n{',
         ...        'def myfunc():')
         'static PyObject*\npy_myfunc(void)\n{'

     If `repl' is a function, it is called for every non-overlapping
     occurrence of `pattern'.  The function takes a single match object
     argument, and returns the replacement string.  For example:

         >>> def dashrepl(matchobj):
         ...     if matchobj.group(0) == '-': return ' '
         ...     else: return '-'
         >>> re.sub('-{1,2}', dashrepl, 'pro----gram-files')
         'pro--gram files'
         >>> re.sub(r'\sAND\s', ' & ', 'Baked Beans And Spam', flags=re.IGNORECASE)
         'Baked Beans & Spam'

     The pattern may be a string or an RE object.

     The optional argument `count' is the maximum number of pattern
     occurrences to be replaced; `count' must be a non-negative
     integer.  If omitted or zero, all occurrences will be replaced.
     Empty matches for the pattern are replaced only when not adjacent
     to a previous match, so `sub('x*', '-', 'abc')' returns
     `'-a-b-c-''.

     In string-type `repl' arguments, in addition to the character
     escapes and backreferences described above, `\g<name>' will use
     the substring matched by the group named `name', as defined by the
     `(?P<name>...)' syntax. `\g<number>' uses the corresponding group
     number; `\g<2>' is therefore equivalent to `\2', but isn’t
     ambiguous in a replacement such as `\g<2>0'.  `\20' would be
     interpreted as a reference to group 20, not a reference to group 2
     followed by the literal character `'0''.  The backreference
     `\g<0>' substitutes in the entire substring matched by the RE.

     Changed in version 2.7: Added the optional flags argument.


 -- Function: re.subn (pattern, repl, string, count=0, flags=0)
     Perform the same operation as *Note sub(): 248, but return a tuple
     `(new_string, number_of_subs_made)'.

     Changed in version 2.7: Added the optional flags argument.


 -- Function: re.escape (string)
     Return `string' with all non-alphanumerics backslashed; this is
     useful if you want to match an arbitrary literal string that may
     have regular expression metacharacters in it.

 -- Function: re.purge ()
     Clear the regular expression cache.

 -- Exception: re.error
     Exception raised when a string passed to one of the functions here
     is not a valid regular expression (for example, it might contain
     unmatched parentheses) or when some other error occurs during
     compilation or matching.  It is never an error if a string
     contains no match for a pattern.


File: python.info,  Node: Regular Expression Objects,  Next: Match Objects,  Prev: Module Contents,  Up: re — Regular expression operations

5.7.2.3 Regular Expression Objects
..................................

 -- Class: re.RegexObject
     The *Note RegexObject: 9db. class supports the following methods
     and attributes:

      -- Method: search (string[, pos[, endpos]])
          Scan through `string' looking for a location where this
          regular expression produces a match, and return a
          corresponding *Note MatchObject: 9f3. instance.  Return
          `None' if no position in the string matches the pattern; note
          that this is different from finding a zero-length match at
          some point in the string.

          The optional second parameter `pos' gives an index in the
          string where the search is to start; it defaults to `0'.
          This is not completely equivalent to slicing the string; the
          `'^'' pattern character matches at the real beginning of the
          string and at positions just after a newline, but not
          necessarily at the index where the search is to start.

          The optional parameter `endpos' limits how far the string
          will be searched; it will be as if the string is `endpos'
          characters long, so only the characters from `pos' to `endpos
          - 1' will be searched for a match.  If `endpos' is less than
          `pos', no match will be found, otherwise, if `rx' is a
          compiled regular expression object, `rx.search(string, 0,
          50)' is equivalent to `rx.search(string[:50], 0)'.

              >>> pattern = re.compile("d")
              >>> pattern.search("dog")     # Match at index 0
              <_sre.SRE_Match object at ...>
              >>> pattern.search("dog", 1)  # No match; search doesn't include the "d"

      -- Method: match (string[, pos[, endpos]])
          If zero or more characters at the `beginning' of `string'
          match this regular expression, return a corresponding *Note
          MatchObject: 9f3. instance.  Return `None' if the string does
          not match the pattern; note that this is different from a
          zero-length match.

          The optional `pos' and `endpos' parameters have the same
          meaning as for the *Note search(): 9ef. method.

              >>> pattern = re.compile("o")
              >>> pattern.match("dog")      # No match as "o" is not at the start of "dog".
              >>> pattern.match("dog", 1)   # Match as "o" is the 2nd character of "dog".
              <_sre.SRE_Match object at ...>

          If you want to locate a match anywhere in `string', use *Note
          search(): 9ef. instead (see also *Note search() vs. match():
          9f4.).

      -- Method: split (string, maxsplit=0)
          Identical to the *Note split(): 247. function, using the
          compiled pattern.

      -- Method: findall (string[, pos[, endpos]])
          Similar to the *Note findall(): 9f5. function, using the
          compiled pattern, but also accepts optional `pos' and
          `endpos' parameters that limit the search region like for
          *Note match(): 9ec.

      -- Method: finditer (string[, pos[, endpos]])
          Similar to the *Note finditer(): 9f6. function, using the
          compiled pattern, but also accepts optional `pos' and
          `endpos' parameters that limit the search region like for
          *Note match(): 9ec.

      -- Method: sub (repl, string, count=0)
          Identical to the *Note sub(): 248. function, using the
          compiled pattern.

      -- Method: subn (repl, string, count=0)
          Identical to the *Note subn(): 249. function, using the
          compiled pattern.

      -- Attribute: flags
          The regex matching flags.  This is a combination of the flags
          given to *Note compile(): 9ea. and any `(?...)' inline flags
          in the pattern.

      -- Attribute: groups
          The number of capturing groups in the pattern.

      -- Attribute: groupindex
          A dictionary mapping any symbolic group names defined by
          `(?P<id>)' to group numbers.  The dictionary is empty if no
          symbolic groups were used in the pattern.

      -- Attribute: pattern
          The pattern string from which the RE object was compiled.


File: python.info,  Node: Match Objects,  Next: Examples,  Prev: Regular Expression Objects,  Up: re — Regular expression operations

5.7.2.4 Match Objects
.....................

 -- Class: re.MatchObject
     Match objects always have a boolean value of `True'.  Since
     `match()' and `search()' return `None' when there is no match, you
     can test whether there was a match with a simple `if' statement:

         match = re.search(pattern, string)
         if match:
             process(match)

     Match objects support the following methods and attributes:

      -- Method: expand (template)
          Return the string obtained by doing backslash substitution on
          the template string `template', as done by the *Note sub():
          9fe. method.  Escapes such as `\n' are converted to the
          appropriate characters, and numeric backreferences (`\1',
          `\2') and named backreferences (`\g<1>', `\g<name>') are
          replaced by the contents of the corresponding group.

      -- Method: group ([group1, ...])
          Returns one or more subgroups of the match.  If there is a
          single argument, the result is a single string; if there are
          multiple arguments, the result is a tuple with one item per
          argument. Without arguments, `group1' defaults to zero (the
          whole match is returned). If a `groupN' argument is zero, the
          corresponding return value is the entire matching string; if
          it is in the inclusive range [1..99], it is the string
          matching the corresponding parenthesized group.  If a group
          number is negative or larger than the number of groups
          defined in the pattern, an *Note IndexError: 4fe. exception
          is raised. If a group is contained in a part of the pattern
          that did not match, the corresponding result is `None'.  If a
          group is contained in a part of the pattern that matched
          multiple times, the last match is returned.

              >>> m = re.match(r"(\w+) (\w+)", "Isaac Newton, physicist")
              >>> m.group(0)       # The entire match
              'Isaac Newton'
              >>> m.group(1)       # The first parenthesized subgroup.
              'Isaac'
              >>> m.group(2)       # The second parenthesized subgroup.
              'Newton'
              >>> m.group(1, 2)    # Multiple arguments give us a tuple.
              ('Isaac', 'Newton')

          If the regular expression uses the `(?P<name>...)' syntax,
          the `groupN' arguments may also be strings identifying groups
          by their group name.  If a string argument is not used as a
          group name in the pattern, an *Note IndexError: 4fe.
          exception is raised.

          A moderately complicated example:

              >>> m = re.match(r"(?P<first_name>\w+) (?P<last_name>\w+)", "Malcolm Reynolds")
              >>> m.group('first_name')
              'Malcolm'
              >>> m.group('last_name')
              'Reynolds'

          Named groups can also be referred to by their index:

              >>> m.group(1)
              'Malcolm'
              >>> m.group(2)
              'Reynolds'

          If a group matches multiple times, only the last match is
          accessible:

              >>> m = re.match(r"(..)+", "a1b2c3")  # Matches 3 times.
              >>> m.group(1)                        # Returns only the last match.
              'c3'

      -- Method: groups ([default])
          Return a tuple containing all the subgroups of the match,
          from 1 up to however many groups are in the pattern.  The
          `default' argument is used for groups that did not
          participate in the match; it defaults to `None'.
          (Incompatibility note: in the original Python 1.5 release, if
          the tuple was one element long, a string would be returned
          instead.  In later versions (from 1.5.1 on), a singleton
          tuple is returned in such cases.)

          For example:

              >>> m = re.match(r"(\d+)\.(\d+)", "24.1632")
              >>> m.groups()
              ('24', '1632')

          If we make the decimal place and everything after it
          optional, not all groups might participate in the match.
          These groups will default to `None' unless the `default'
          argument is given:

              >>> m = re.match(r"(\d+)\.?(\d+)?", "24")
              >>> m.groups()      # Second group defaults to None.
              ('24', None)
              >>> m.groups('0')   # Now, the second group defaults to '0'.
              ('24', '0')

      -- Method: groupdict ([default])
          Return a dictionary containing all the `named' subgroups of
          the match, keyed by the subgroup name.  The `default'
          argument is used for groups that did not participate in the
          match; it defaults to `None'.  For example:

              >>> m = re.match(r"(?P<first_name>\w+) (?P<last_name>\w+)", "Malcolm Reynolds")
              >>> m.groupdict()
              {'first_name': 'Malcolm', 'last_name': 'Reynolds'}

      -- Method: start ([group])
      -- Method: end ([group])
          Return the indices of the start and end of the substring
          matched by `group'; `group' defaults to zero (meaning the
          whole matched substring). Return `-1' if `group' exists but
          did not contribute to the match.  For a match object `m', and
          a group `g' that did contribute to the match, the substring
          matched by group `g' (equivalent to `m.group(g)') is

              m.string[m.start(g):m.end(g)]

          Note that `m.start(group)' will equal `m.end(group)' if
          `group' matched a null string.  For example, after `m =
          re.search('b(c?)', 'cba')', `m.start(0)' is 1, `m.end(0)' is
          2, `m.start(1)' and `m.end(1)' are both 2, and `m.start(2)'
          raises an *Note IndexError: 4fe. exception.

          An example that will remove `remove_this' from email
          addresses:

              >>> email = "tony@tiremove_thisger.net"
              >>> m = re.search("remove_this", email)
              >>> email[:m.start()] + email[m.end():]
              'tony@tiger.net'

      -- Method: span ([group])
          For *Note MatchObject: 9f3. `m', return the 2-tuple
          `(m.start(group), m.end(group))'. Note that if `group' did
          not contribute to the match, this is `(-1, -1)'.  `group'
          defaults to zero, the entire match.

      -- Attribute: pos
          The value of `pos' which was passed to the *Note search():
          9ef. or *Note match(): 9ee. method of the *Note RegexObject:
          9db.  This is the index into the string at which the RE
          engine started looking for a match.

      -- Attribute: endpos
          The value of `endpos' which was passed to the *Note search():
          9ef. or *Note match(): 9ee. method of the *Note RegexObject:
          9db.  This is the index into the string beyond which the RE
          engine will not go.

      -- Attribute: lastindex
          The integer index of the last matched capturing group, or
          `None' if no group was matched at all. For example, the
          expressions `(a)b', `((a)(b))', and `((ab))' will have
          `lastindex == 1' if applied to the string `'ab'', while the
          expression `(a)(b)' will have `lastindex == 2', if applied to
          the same string.

      -- Attribute: lastgroup
          The name of the last matched capturing group, or `None' if
          the group didn’t have a name, or if no group was matched at
          all.

      -- Attribute: re
          The regular expression object whose *Note match(): 9ee. or
          *Note search(): 9ef. method produced this *Note MatchObject:
          9f3.  instance.

      -- Attribute: string
          The string passed to *Note match(): 9ee. or *Note search():
          9ef.


File: python.info,  Node: Examples,  Prev: Match Objects,  Up: re — Regular expression operations

5.7.2.5 Examples
................

* Menu:

* Checking For a Pair::
* Simulating scanf(): Simulating scanf.
* search() vs. match(): search vs match.
* Making a Phonebook::
* Text Munging::
* Finding all Adverbs::
* Finding all Adverbs and their Positions::
* Raw String Notation::


File: python.info,  Node: Checking For a Pair,  Next: Simulating scanf,  Up: Examples

5.7.2.6 Checking For a Pair
...........................

In this example, we’ll use the following helper function to display
match objects a little more gracefully:

    def displaymatch(match):
        if match is None:
            return None
        return '<Match: %r, groups=%r>' % (match.group(), match.groups())

Suppose you are writing a poker program where a player’s hand is
represented as a 5-character string with each character representing a
card, “a” for ace, “k” for king, “q” for queen, “j” for
jack, “t” for 10, and “2” through “9” representing the card
with that value.

To see if a given string is a valid hand, one could do the following:

    >>> valid = re.compile(r"^[a2-9tjqk]{5}$")
    >>> displaymatch(valid.match("akt5q"))  # Valid.
    "<Match: 'akt5q', groups=()>"
    >>> displaymatch(valid.match("akt5e"))  # Invalid.
    >>> displaymatch(valid.match("akt"))    # Invalid.
    >>> displaymatch(valid.match("727ak"))  # Valid.
    "<Match: '727ak', groups=()>"

That last hand, `"727ak"', contained a pair, or two of the same valued
cards.  To match this with a regular expression, one could use
backreferences as such:

    >>> pair = re.compile(r".*(.).*\1")
    >>> displaymatch(pair.match("717ak"))     # Pair of 7s.
    "<Match: '717', groups=('7',)>"
    >>> displaymatch(pair.match("718ak"))     # No pairs.
    >>> displaymatch(pair.match("354aa"))     # Pair of aces.
    "<Match: '354aa', groups=('a',)>"

To find out what card the pair consists of, one could use the *Note
group(): a07. method of *Note MatchObject: 9f3. in the following manner:

    >>> pair.match("717ak").group(1)
    '7'

    # Error because re.match() returns None, which doesn't have a group() method:
    >>> pair.match("718ak").group(1)
    Traceback (most recent call last):
      File "<pyshell#23>", line 1, in <module>
        re.match(r".*(.).*\1", "718ak").group(1)
    AttributeError: 'NoneType' object has no attribute 'group'

    >>> pair.match("354aa").group(1)
    'a'


File: python.info,  Node: Simulating scanf,  Next: search vs match,  Prev: Checking For a Pair,  Up: Examples

5.7.2.7 Simulating scanf()
..........................

Python does not currently have an equivalent to `scanf()'.  Regular
expressions are generally more powerful, though also more verbose, than
`scanf()' format strings.  The table below offers some more-or-less
equivalent mappings between `scanf()' format tokens and regular
expressions.

`scanf()' Token                      Regular Expression
--------------------------------------------------------------------------------------- 
`%c'                                 `.'
`%5c'                                `.{5}'
`%d'                                 `[-+]?\d+'
`%e', `%E', `%f', `%g'               `[-+]?(\d+(\.\d*)?|\.\d+)([eE][-+]?\d+)?'
`%i'                                 `[-+]?(0[xX][\dA-Fa-f]+|0[0-7]*|\d+)'
`%o'                                 `[-+]?[0-7]+'
`%s'                                 `\S+'
`%u'                                 `\d+'
`%x', `%X'                           `[-+]?(0[xX])?[\dA-Fa-f]+'

To extract the filename and numbers from a string like

    /usr/sbin/sendmail - 0 errors, 4 warnings

you would use a `scanf()' format like

    %s - %d errors, %d warnings

The equivalent regular expression would be

    (\S+) - (\d+) errors, (\d+) warnings


File: python.info,  Node: search vs match,  Next: Making a Phonebook,  Prev: Simulating scanf,  Up: Examples

5.7.2.8 search() vs. match()
............................

Python offers two different primitive operations based on regular
expressions: *Note re.match(): 9ec. checks for a match only at the
beginning of the string, while *Note re.search(): 9eb. checks for a
match anywhere in the string (this is what Perl does by default).

For example:

    >>> re.match("c", "abcdef")    # No match
    >>> re.search("c", "abcdef")   # Match
    <_sre.SRE_Match object at ...>

Regular expressions beginning with `'^'' can be used with *Note
search(): 9eb. to restrict the match at the beginning of the string:

    >>> re.match("c", "abcdef")    # No match
    >>> re.search("^c", "abcdef")  # No match
    >>> re.search("^a", "abcdef")  # Match
    <_sre.SRE_Match object at ...>

Note however that in *Note MULTILINE: 9e0. mode *Note match(): 9ec.
only matches at the beginning of the string, whereas using *Note
search(): 9eb. with a regular expression beginning with `'^'' will
match at the beginning of each line.

    >>> re.match('X', 'A\nB\nX', re.MULTILINE)  # No match
    >>> re.search('^X', 'A\nB\nX', re.MULTILINE)  # Match
    <_sre.SRE_Match object at ...>


File: python.info,  Node: Making a Phonebook,  Next: Text Munging,  Prev: search vs match,  Up: Examples

5.7.2.9 Making a Phonebook
..........................

*Note split(): 247. splits a string into a list delimited by the passed
pattern.  The method is invaluable for converting textual data into
data structures that can be easily read and modified by Python as
demonstrated in the following example that creates a phonebook.

First, here is the input.  Normally it may come from a file, here we
are using triple-quoted string syntax:

    >>> text = """Ross McFluff: 834.345.1254 155 Elm Street
    ...
    ... Ronald Heathmore: 892.345.3428 436 Finley Avenue
    ... Frank Burger: 925.541.7625 662 South Dogwood Way
    ...
    ...
    ... Heather Albrecht: 548.326.4584 919 Park Place"""

The entries are separated by one or more newlines. Now we convert the
string into a list with each nonempty line having its own entry:

    >>> entries = re.split("\n+", text)
    >>> entries
    ['Ross McFluff: 834.345.1254 155 Elm Street',
    'Ronald Heathmore: 892.345.3428 436 Finley Avenue',
    'Frank Burger: 925.541.7625 662 South Dogwood Way',
    'Heather Albrecht: 548.326.4584 919 Park Place']

Finally, split each entry into a list with first name, last name,
telephone number, and address.  We use the `maxsplit' parameter of
*Note split(): 247.  because the address has spaces, our splitting
pattern, in it:

    >>> [re.split(":? ", entry, 3) for entry in entries]
    [['Ross', 'McFluff', '834.345.1254', '155 Elm Street'],
    ['Ronald', 'Heathmore', '892.345.3428', '436 Finley Avenue'],
    ['Frank', 'Burger', '925.541.7625', '662 South Dogwood Way'],
    ['Heather', 'Albrecht', '548.326.4584', '919 Park Place']]

The `:?' pattern matches the colon after the last name, so that it does
not occur in the result list.  With a `maxsplit' of `4', we could
separate the house number from the street name:

    >>> [re.split(":? ", entry, 4) for entry in entries]
    [['Ross', 'McFluff', '834.345.1254', '155', 'Elm Street'],
    ['Ronald', 'Heathmore', '892.345.3428', '436', 'Finley Avenue'],
    ['Frank', 'Burger', '925.541.7625', '662', 'South Dogwood Way'],
    ['Heather', 'Albrecht', '548.326.4584', '919', 'Park Place']]


File: python.info,  Node: Text Munging,  Next: Finding all Adverbs,  Prev: Making a Phonebook,  Up: Examples

5.7.2.10 Text Munging
.....................

*Note sub(): 248. replaces every occurrence of a pattern with a string
or the result of a function.  This example demonstrates using *Note
sub(): 248. with a function to “munge” text, or randomize the order
of all the characters in each word of a sentence except for the first
and last characters:

    >>> def repl(m):
    ...     inner_word = list(m.group(2))
    ...     random.shuffle(inner_word)
    ...     return m.group(1) + "".join(inner_word) + m.group(3)
    >>> text = "Professor Abdolmalek, please report your absences promptly."
    >>> re.sub(r"(\w)(\w+)(\w)", repl, text)
    'Poefsrosr Aealmlobdk, pslaee reorpt your abnseces plmrptoy.'
    >>> re.sub(r"(\w)(\w+)(\w)", repl, text)
    'Pofsroser Aodlambelk, plasee reoprt yuor asnebces potlmrpy.'


File: python.info,  Node: Finding all Adverbs,  Next: Finding all Adverbs and their Positions,  Prev: Text Munging,  Up: Examples

5.7.2.11 Finding all Adverbs
............................

*Note findall(): 9f5. matches `all' occurrences of a pattern, not just
the first one as *Note search(): 9eb. does.  For example, if one was a
writer and wanted to find all of the adverbs in some text, he or she
might use *Note findall(): 9f5. in the following manner:

    >>> text = "He was carefully disguised but captured quickly by police."
    >>> re.findall(r"\w+ly", text)
    ['carefully', 'quickly']


File: python.info,  Node: Finding all Adverbs and their Positions,  Next: Raw String Notation,  Prev: Finding all Adverbs,  Up: Examples

5.7.2.12 Finding all Adverbs and their Positions
................................................

If one wants more information about all matches of a pattern than the
matched text, *Note finditer(): 9f6. is useful as it provides instances
of *Note MatchObject: 9f3. instead of strings.  Continuing with the
previous example, if one was a writer who wanted to find all of the
adverbs `and their positions' in some text, he or she would use *Note
finditer(): 9f6. in the following manner:

    >>> text = "He was carefully disguised but captured quickly by police."
    >>> for m in re.finditer(r"\w+ly", text):
    ...     print '%02d-%02d: %s' % (m.start(), m.end(), m.group(0))
    07-16: carefully
    40-47: quickly


File: python.info,  Node: Raw String Notation,  Prev: Finding all Adverbs and their Positions,  Up: Examples

5.7.2.13 Raw String Notation
............................

Raw string notation (`r"text"') keeps regular expressions sane.
Without it, every backslash (`'\'') in a regular expression would have
to be prefixed with another one to escape it.  For example, the two
following lines of code are functionally identical:

    >>> re.match(r"\W(.)\1\W", " ff ")
    <_sre.SRE_Match object at ...>
    >>> re.match("\\W(.)\\1\\W", " ff ")
    <_sre.SRE_Match object at ...>

When one wants to match a literal backslash, it must be escaped in the
regular expression.  With raw string notation, this means `r"\\"'.
Without raw string notation, one must use `"\\\\"', making the
following lines of code functionally identical:

    >>> re.match(r"\\", r"\\")
    <_sre.SRE_Match object at ...>
    >>> re.match("\\\\", r"\\")
    <_sre.SRE_Match object at ...>


File: python.info,  Node: struct — Interpret strings as packed binary data,  Next: difflib — Helpers for computing deltas,  Prev: re — Regular expression operations,  Up: String Services

5.7.3 `struct' — Interpret strings as packed binary data
----------------------------------------------------------

This module performs conversions between Python values and C structs
represented as Python strings.  This can be used in handling binary
data stored in files or from network connections, among other sources.
It uses *Note Format Strings: a1e. as compact descriptions of the
layout of the C structs and the intended conversion to/from Python
values.

     Note: By default, the result of packing a given C struct includes
     pad bytes in order to maintain proper alignment for the C types
     involved; similarly, alignment is taken into account when
     unpacking.  This behavior is chosen so that the bytes of a packed
     struct correspond exactly to the layout in memory of the
     corresponding C struct.  To handle platform-independent data
     formats or omit implicit pad bytes, use `standard' size and
     alignment instead of `native' size and alignment: see *Note Byte
     Order, Size, and Alignment: a1f. for details.

* Menu:

* Functions and Exceptions::
* Format Strings::
* Classes: Classes<2>.


File: python.info,  Node: Functions and Exceptions,  Next: Format Strings,  Up: struct — Interpret strings as packed binary data

5.7.3.1 Functions and Exceptions
................................

The module defines the following exception and functions:

 -- Exception: struct.error
     Exception raised on various occasions; argument is a string
     describing what is wrong.

 -- Function: struct.pack (fmt, v1, v2, ...)
     Return a string containing the values `v1, v2, ...' packed
     according to the given format.  The arguments must match the
     values required by the format exactly.

 -- Function: struct.pack_into (fmt, buffer, offset, v1, v2, ...)
     Pack the values `v1, v2, ...' according to the given format, write
     the packed bytes into the writable `buffer' starting at `offset'.
     Note that the offset is a required argument.

     New in version 2.5.


 -- Function: struct.unpack (fmt, string)
     Unpack the string (presumably packed by `pack(fmt, ...)')
     according to the given format.  The result is a tuple even if it
     contains exactly one item.  The string must contain exactly the
     amount of data required by the format (`len(string)' must equal
     `calcsize(fmt)').

 -- Function: struct.unpack_from (fmt, buffer[, offset=0])
     Unpack the `buffer' according to the given format. The result is a
     tuple even if it contains exactly one item. The `buffer' must
     contain at least the amount of data required by the format
     (`len(buffer[offset:])' must be at least `calcsize(fmt)').

     New in version 2.5.


 -- Function: struct.calcsize (fmt)
     Return the size of the struct (and hence of the string)
     corresponding to the given format.


File: python.info,  Node: Format Strings,  Next: Classes<2>,  Prev: Functions and Exceptions,  Up: struct — Interpret strings as packed binary data

5.7.3.2 Format Strings
......................

Format strings are the mechanism used to specify the expected layout
when packing and unpacking data.  They are built up from *Note Format
Characters: a25, which specify the type of data being packed/unpacked.
In addition, there are special characters for controlling the *Note
Byte Order, Size, and Alignment: a1f.

* Menu:

* Byte Order, Size, and Alignment: Byte Order Size and Alignment.
* Format Characters::
* Examples: Examples<2>.


File: python.info,  Node: Byte Order Size and Alignment,  Next: Format Characters,  Up: Format Strings

5.7.3.3 Byte Order, Size, and Alignment
.......................................

By default, C types are represented in the machine’s native format
and byte order, and properly aligned by skipping pad bytes if necessary
(according to the rules used by the C compiler).

Alternatively, the first character of the format string can be used to
indicate the byte order, size and alignment of the packed data,
according to the following table:

Character       Byte order                   Size           Alignment
---------------------------------------------------------------------------- 
`@'             native                       native         native
`='             native                       standard       none
`<'             little-endian                standard       none
`>'             big-endian                   standard       none
`!'             network (= big-endian)       standard       none

If the first character is not one of these, `'@'' is assumed.

Native byte order is big-endian or little-endian, depending on the host
system. For example, Intel x86 and AMD64 (x86-64) are little-endian;
Motorola 68000 and PowerPC G5 are big-endian; ARM and Intel Itanium
feature switchable endianness (bi-endian). Use `sys.byteorder' to check
the endianness of your system.

Native size and alignment are determined using the C compiler’s
`sizeof' expression.  This is always combined with native byte order.

Standard size depends only on the format character;  see the table in
the *Note Format Characters: a25. section.

Note the difference between `'@'' and `'='': both use native byte
order, but the size and alignment of the latter is standardized.

The form `'!'' is available for those poor souls who claim they can’t
remember whether network byte order is big-endian or little-endian.

There is no way to indicate non-native byte order (force
byte-swapping); use the appropriate choice of `'<'' or `'>''.

Notes:

  1. Padding is only automatically added between successive structure
     members.  No padding is added at the beginning or the end of the
     encoded struct.

  2. No padding is added when using non-native size and alignment, e.g.
     with ‘<’, ‘>’, ‘=’, and ‘!’.

  3. To align the end of a structure to the alignment requirement of a
     particular type, end the format with the code for that type with a
     repeat count of zero.  See *Note Examples: a27.


File: python.info,  Node: Format Characters,  Next: Examples<2>,  Prev: Byte Order Size and Alignment,  Up: Format Strings

5.7.3.4 Format Characters
.........................

Format characters have the following meaning; the conversion between C
and Python values should be obvious given their types.  The ‘Standard
size’ column refers to the size of the packed value in bytes when
using standard size; that is, when the format string starts with one of
`'<'', `'>'', `'!'' or `'=''.  When using native size, the size of the
packed value is platform-dependent.

Format       C Type                         Python type              Standard size        Notes
----------------------------------------------------------------------------------------------------------- 
`x'          pad byte                       no value                                      
`c'          `char'                         string of length 1       1                    
`b'          `signed char'                  integer                  1                    (3)
`B'          `unsigned char'                integer                  1                    (3)
`?'          `_Bool'                        bool                     1                    (1)
`h'          `short'                        integer                  2                    (3)
`H'          `unsigned short'               integer                  2                    (3)
`i'          `int'                          integer                  4                    (3)
`I'          `unsigned int'                 integer                  4                    (3)
`l'          `long'                         integer                  4                    (3)
`L'          `unsigned long'                integer                  4                    (3)
`q'          `long long'                    integer                  8                    (2), (3)
`Q'          `unsigned long long'           integer                  8                    (2), (3)
`f'          `float'                        float                    4                    (4)
`d'          `double'                       float                    8                    (4)
`s'          `char[]'                       string                                        
`p'          `char[]'                       string                                        
`P'          `void *'                       integer                                       (5), (3)

Notes:

  1. The `'?'' conversion code corresponds to the `_Bool' type defined
     by C99. If this type is not available, it is simulated using a
     `char'. In standard mode, it is always represented by one byte.

     New in version 2.6.

  2. The `'q'' and `'Q'' conversion codes are available in native mode
     only if the platform C compiler supports C `long long', or, on
     Windows, `__int64'.  They are always available in standard modes.

     New in version 2.2.

  3. When attempting to pack a non-integer using any of the integer
     conversion codes, if the non-integer has a *Note __index__(): 260.
     method then that method is called to convert the argument to an
     integer before packing.  If no *Note __index__(): 260. method
     exists, or the call to *Note __index__(): 260. raises *Note
     TypeError: 218, then the *Note __int__(): 261. method is tried.
     However, the use of *Note __int__(): 261. is deprecated, and will
     raise *Note DeprecationWarning: 1bd.

     Changed in version 2.7: Use of the *Note __index__(): 260. method
     for non-integers is new in 2.7.

     Changed in version 2.7: Prior to version 2.7, not all integer
     conversion codes would use the *Note __int__(): 261. method to
     convert, and *Note DeprecationWarning: 1bd. was raised only for
     float arguments.

  4. For the `'f'' and `'d'' conversion codes, the packed
     representation uses the IEEE 754 binary32 (for `'f'') or binary64
     (for `'d'') format, regardless of the floating-point format used
     by the platform.

  5. The `'P'' format character is only available for the native byte
     ordering (selected as the default or with the `'@'' byte order
     character). The byte order character `'='' chooses to use little-
     or big-endian ordering based on the host system. The struct module
     does not interpret this as native ordering, so the `'P'' format is
     not available.

A format character may be preceded by an integral repeat count.  For
example, the format string `'4h'' means exactly the same as `'hhhh''.

Whitespace characters between formats are ignored; a count and its
format must not contain whitespace though.

For the `'s'' format character, the count is interpreted as the size of
the string, not a repeat count like for the other format characters;
for example, `'10s'' means a single 10-byte string, while `'10c'' means
10 characters.  If a count is not given, it defaults to 1.  For
packing, the string is truncated or padded with null bytes as
appropriate to make it fit. For unpacking, the resulting string always
has exactly the specified number of bytes.  As a special case, `'0s''
means a single, empty string (while `'0c'' means 0 characters).

The `'p'' format character encodes a “Pascal string”, meaning a
short variable-length string stored in a `fixed number of bytes', given
by the count.  The first byte stored is the length of the string, or
255, whichever is smaller.  The bytes of the string follow.  If the
string passed in to *Note pack(): 25f. is too long (longer than the
count minus 1), only the leading `count-1' bytes of the string are
stored.  If the string is shorter than `count-1', it is padded with
null bytes so that exactly count bytes in all are used.  Note that for
*Note unpack(): 622, the `'p'' format character consumes count bytes,
but that the string returned can never contain more than 255 characters.

For the `'P'' format character, the return value is a Python integer or
long integer, depending on the size needed to hold a pointer when it
has been cast to an integer type.  A `NULL' pointer will always be
returned as the Python integer `0'. When packing pointer-sized values,
Python integer or long integer objects may be used.  For example, the
Alpha and Merced processors use 64-bit pointer values, meaning a Python
long integer will be used to hold the pointer; other platforms use
32-bit pointers and will use a Python integer.

For the `'?'' format character, the return value is either *Note True:
3c8. or *Note False: 3c9. When packing, the truth value of the argument
object is used.  Either 0 or 1 in the native or standard bool
representation will be packed, and any non-zero value will be `True'
when unpacking.


File: python.info,  Node: Examples<2>,  Prev: Format Characters,  Up: Format Strings

5.7.3.5 Examples
................

     Note: All examples assume a native byte order, size, and alignment
     with a big-endian machine.

A basic example of packing/unpacking three integers:

    >>> from struct import *
    >>> pack('hhl', 1, 2, 3)
    '\x00\x01\x00\x02\x00\x00\x00\x03'
    >>> unpack('hhl', '\x00\x01\x00\x02\x00\x00\x00\x03')
    (1, 2, 3)
    >>> calcsize('hhl')
    8

Unpacked fields can be named by assigning them to variables or by
wrapping the result in a named tuple:

    >>> record = 'raymond   \x32\x12\x08\x01\x08'
    >>> name, serialnum, school, gradelevel = unpack('<10sHHb', record)

    >>> from collections import namedtuple
    >>> Student = namedtuple('Student', 'name serialnum school gradelevel')
    >>> Student._make(unpack('<10sHHb', record))
    Student(name='raymond   ', serialnum=4658, school=264, gradelevel=8)

The ordering of format characters may have an impact on size since the
padding needed to satisfy alignment requirements is different:

    >>> pack('ci', '*', 0x12131415)
    '*\x00\x00\x00\x12\x13\x14\x15'
    >>> pack('ic', 0x12131415, '*')
    '\x12\x13\x14\x15*'
    >>> calcsize('ci')
    8
    >>> calcsize('ic')
    5

The following format `'llh0l'' specifies two pad bytes at the end,
assuming longs are aligned on 4-byte boundaries:

    >>> pack('llh0l', 1, 2, 3)
    '\x00\x00\x00\x01\x00\x00\x00\x02\x00\x03\x00\x00'

This only works when native size and alignment are in effect; standard
size and alignment does not enforce any alignment.

See also
........

Module *Note array: e.
     Packed binary storage of homogeneous data.

Module *Note xdrlib: 19f.
     Packing and unpacking of XDR data.


File: python.info,  Node: Classes<2>,  Prev: Format Strings,  Up: struct — Interpret strings as packed binary data

5.7.3.6 Classes
...............

The *Note struct: 166. module also defines the following type:

 -- Class: struct.Struct (format)
     Return a new Struct object which writes and reads binary data
     according to the format string `format'.  Creating a Struct object
     once and calling its methods is more efficient than calling the
     *Note struct: 166. functions with the same format since the format
     string only needs to be compiled once.

     New in version 2.5.

     Compiled Struct objects support the following methods and
     attributes:

      -- Method: pack (v1, v2, ...)
          Identical to the *Note pack(): 25f. function, using the
          compiled format.  (`len(result)' will equal `self.size'.)

      -- Method: pack_into (buffer, offset, v1, v2, ...)
          Identical to the *Note pack_into(): a21. function, using the
          compiled format.

      -- Method: unpack (string)
          Identical to the *Note unpack(): 622. function, using the
          compiled format.  (`len(string)' must equal `self.size').

      -- Method: unpack_from (buffer, offset=0)
          Identical to the *Note unpack_from(): a22. function, using
          the compiled format.  (`len(buffer[offset:])' must be at
          least `self.size').

      -- Attribute: format
          The format string used to construct this Struct object.

      -- Attribute: size
          The calculated size of the struct (and hence of the string)
          corresponding to *Note format: 1ef.


File: python.info,  Node: difflib — Helpers for computing deltas,  Next: StringIO — Read and write strings as files,  Prev: struct — Interpret strings as packed binary data,  Up: String Services

5.7.4 `difflib' — Helpers for computing deltas
------------------------------------------------

New in version 2.1.

This module provides classes and functions for comparing sequences. It
can be used for example, for comparing files, and can produce difference
information in various formats, including HTML and context and unified
diffs. For comparing directories and files, see also, the *Note
filecmp: cc. module.

 -- Class: difflib.SequenceMatcher
     This is a flexible class for comparing pairs of sequences of any
     type, so long as the sequence elements are *Note hashable: 720.
     The basic algorithm predates, and is a little fancier than, an
     algorithm published in the late 1980’s by Ratcliff and Obershelp
     under the hyperbolic name “gestalt pattern matching.”  The
     idea is to find the longest contiguous matching subsequence that
     contains no “junk” elements (the Ratcliff and Obershelp
     algorithm doesn’t address junk).  The same idea is then applied
     recursively to the pieces of the sequences to the left and to the
     right of the matching subsequence.  This does not yield minimal
     edit sequences, but does tend to yield matches that “look
     right” to people.

     `Timing:' The basic Ratcliff-Obershelp algorithm is cubic time in
     the worst case and quadratic time in the expected case. *Note
     SequenceMatcher: a35. is quadratic time for the worst case and has
     expected-case behavior dependent in a complicated way on how many
     elements the sequences have in common; best case time is linear.

     `Automatic junk heuristic:' *Note SequenceMatcher: a35. supports a
     heuristic that automatically treats certain sequence items as
     junk. The heuristic counts how many times each individual item
     appears in the sequence. If an item’s duplicates (after the
     first one) account for more than 1% of the sequence and the
     sequence is at least 200 items long, this item is marked as
     “popular” and is treated as junk for the purpose of sequence
     matching. This heuristic can be turned off by setting the
     `autojunk' argument to `False' when creating the *Note
     SequenceMatcher: a35.

     New in version 2.7.1: The `autojunk' parameter.


 -- Class: difflib.Differ
     This is a class for comparing sequences of lines of text, and
     producing human-readable differences or deltas.  Differ uses *Note
     SequenceMatcher: a35.  both to compare sequences of lines, and to
     compare sequences of characters within similar (near-matching)
     lines.

     Each line of a *Note Differ: a36. delta begins with a two-letter
     code:

     Code           Meaning
     --------------------------------------------------------------- 
     `'- ''         line unique to sequence 1
     `'+ ''         line unique to sequence 2
     `'  ''         line common to both sequences
     `'? ''         line not present in either input sequence

     Lines beginning with ‘`?'’ attempt to guide the eye to
     intraline differences, and were not present in either input
     sequence. These lines can be confusing if the sequences contain
     tab characters.

 -- Class: difflib.HtmlDiff
     This class can be used to create an HTML table (or a complete HTML
     file containing the table) showing a side by side, line by line
     comparison of text with inter-line and intra-line change
     highlights.  The table can be generated in either full or
     contextual difference mode.

     The constructor for this class is:

      -- Function: __init__ (tabsize=8, wrapcolumn=None, linejunk=None,
               charjunk=IS_CHARACTER_JUNK)
          Initializes instance of *Note HtmlDiff: a37.

          `tabsize' is an optional keyword argument to specify tab stop
          spacing and defaults to `8'.

          `wrapcolumn' is an optional keyword to specify column number
          where lines are broken and wrapped, defaults to `None' where
          lines are not wrapped.

          `linejunk' and `charjunk' are optional keyword arguments
          passed into *Note ndiff(): a39.  (used by *Note HtmlDiff:
          a37. to generate the side by side HTML differences).  See
          *Note ndiff(): a39. documentation for argument default values
          and descriptions.

     The following methods are public:

      -- Function: make_file (fromlines, tolines [, fromdesc][,
               todesc][, context][, numlines])
          Compares `fromlines' and `tolines' (lists of strings) and
          returns a string which is a complete HTML file containing a
          table showing line by line differences with inter-line and
          intra-line changes highlighted.

          `fromdesc' and `todesc' are optional keyword arguments to
          specify from/to file column header strings (both default to
          an empty string).

          `context' and `numlines' are both optional keyword arguments.
          Set `context' to `True' when contextual differences are to be
          shown, else the default is `False' to show the full files.
          `numlines' defaults to `5'.  When `context' is `True'
          `numlines' controls the number of context lines which
          surround the difference highlights.  When `context' is
          `False' `numlines' controls the number of lines which are
          shown before a difference highlight when using the “next”
          hyperlinks (setting to zero would cause the “next”
          hyperlinks to place the next difference highlight at the top
          of the browser without any leading context).

      -- Function: make_table (fromlines, tolines [, fromdesc][,
               todesc][, context][, numlines])
          Compares `fromlines' and `tolines' (lists of strings) and
          returns a string which is a complete HTML table showing line
          by line differences with inter-line and intra-line changes
          highlighted.

          The arguments for this method are the same as those for the
          *Note make_file(): a3a.  method.

     `Tools/scripts/diff.py' is a command-line front-end to this class
     and contains a good example of its use.

     New in version 2.4.


 -- Function: difflib.context_diff (a, b[, fromfile][, tofile][,
          fromfiledate][, tofiledate][, n][, lineterm])
     Compare `a' and `b' (lists of strings); return a delta (a *Note
     generator: 5f7.  generating the delta lines) in context diff
     format.

     Context diffs are a compact way of showing just the lines that
     have changed plus a few lines of context.  The changes are shown
     in a before/after style.  The number of context lines is set by
     `n' which defaults to three.

     By default, the diff control lines (those with `***' or `---') are
     created with a trailing newline.  This is helpful so that inputs
     created from *Note file.readlines(): 66d. result in diffs that are
     suitable for use with *Note file.writelines(): 93d. since both the
     inputs and outputs have trailing newlines.

     For inputs that do not have trailing newlines, set the `lineterm'
     argument to `""' so that the output will be uniformly newline free.

     The context diff format normally has a header for filenames and
     modification times.  Any or all of these may be specified using
     strings for `fromfile', `tofile', `fromfiledate', and
     `tofiledate'.  The modification times are normally expressed in
     the ISO 8601 format. If not specified, the strings default to
     blanks.

         >>> s1 = ['bacon\n', 'eggs\n', 'ham\n', 'guido\n']
         >>> s2 = ['python\n', 'eggy\n', 'hamster\n', 'guido\n']
         >>> for line in context_diff(s1, s2, fromfile='before.py', tofile='after.py'):
         ...     sys.stdout.write(line)  # doctest: +NORMALIZE_WHITESPACE
         *** before.py
         --- after.py
         ***************
         *** 1,4 ****
         ! bacon
         ! eggs
         ! ham
           guido
         --- 1,4 ----
         ! python
         ! eggy
         ! hamster
           guido

     See *Note A command-line interface to difflib: a3d. for a more
     detailed example.

     New in version 2.3.


 -- Function: difflib.get_close_matches (word, possibilities[, n][,
          cutoff])
     Return a list of the best “good enough” matches.  `word' is a
     sequence for which close matches are desired (typically a string),
     and `possibilities' is a list of sequences against which to match
     `word' (typically a list of strings).

     Optional argument `n' (default `3') is the maximum number of close
     matches to return; `n' must be greater than `0'.

     Optional argument `cutoff' (default `0.6') is a float in the range
     [0, 1].  Possibilities that don’t score at least that similar to
     `word' are ignored.

     The best (no more than `n') matches among the possibilities are
     returned in a list, sorted by similarity score, most similar first.

         >>> get_close_matches('appel', ['ape', 'apple', 'peach', 'puppy'])
         ['apple', 'ape']
         >>> import keyword
         >>> get_close_matches('wheel', keyword.kwlist)
         ['while']
         >>> get_close_matches('apple', keyword.kwlist)
         []
         >>> get_close_matches('accept', keyword.kwlist)
         ['except']

 -- Function: difflib.ndiff (a, b[, linejunk][, charjunk])
     Compare `a' and `b' (lists of strings); return a *Note Differ:
     a36.-style delta (a *Note generator: 5f7. generating the delta
     lines).

     Optional keyword parameters `linejunk' and `charjunk' are for
     filter functions (or `None'):

     `linejunk': A function that accepts a single string argument, and
     returns true if the string is junk, or false if not. The default
     is (`None'), starting with Python 2.3.  Before then, the default
     was the module-level function *Note IS_LINE_JUNK(): a3f, which
     filters out lines without visible characters, except for at most
     one pound character (`'#''). As of Python 2.3, the underlying
     *Note SequenceMatcher: a35. class does a dynamic analysis of which
     lines are so frequent as to constitute noise, and this usually
     works better than the pre-2.3 default.

     `charjunk': A function that accepts a character (a string of
     length 1), and returns if the character is junk, or false if not.
     The default is module-level function *Note IS_CHARACTER_JUNK():
     a40, which filters out whitespace characters (a blank or tab;
     note: bad idea to include newline in this!).

     `Tools/scripts/ndiff.py' is a command-line front-end to this
     function.

         >>> diff = ndiff('one\ntwo\nthree\n'.splitlines(1),
         ...              'ore\ntree\nemu\n'.splitlines(1))
         >>> print ''.join(diff),
         - one
         ?  ^
         + ore
         ?  ^
         - two
         - three
         ?  -
         + tree
         + emu

 -- Function: difflib.restore (sequence, which)
     Return one of the two sequences that generated a delta.

     Given a `sequence' produced by *Note Differ.compare(): a42. or
     *Note ndiff(): a39, extract lines originating from file 1 or 2
     (parameter `which'), stripping off line prefixes.

     Example:

         >>> diff = ndiff('one\ntwo\nthree\n'.splitlines(1),
         ...              'ore\ntree\nemu\n'.splitlines(1))
         >>> diff = list(diff) # materialize the generated delta into a list
         >>> print ''.join(restore(diff, 1)),
         one
         two
         three
         >>> print ''.join(restore(diff, 2)),
         ore
         tree
         emu

 -- Function: difflib.unified_diff (a, b[, fromfile][, tofile][,
          fromfiledate][, tofiledate][, n][, lineterm])
     Compare `a' and `b' (lists of strings); return a delta (a *Note
     generator: 5f7.  generating the delta lines) in unified diff
     format.

     Unified diffs are a compact way of showing just the lines that
     have changed plus a few lines of context.  The changes are shown
     in an inline style (instead of separate before/after blocks).  The
     number of context lines is set by `n' which defaults to three.

     By default, the diff control lines (those with `---', `+++', or
     `@@') are created with a trailing newline.  This is helpful so
     that inputs created from *Note file.readlines(): 66d. result in
     diffs that are suitable for use with *Note file.writelines(): 93d.
     since both the inputs and outputs have trailing newlines.

     For inputs that do not have trailing newlines, set the `lineterm'
     argument to `""' so that the output will be uniformly newline free.

     The context diff format normally has a header for filenames and
     modification times.  Any or all of these may be specified using
     strings for `fromfile', `tofile', `fromfiledate', and
     `tofiledate'.  The modification times are normally expressed in
     the ISO 8601 format. If not specified, the strings default to
     blanks.

         >>> s1 = ['bacon\n', 'eggs\n', 'ham\n', 'guido\n']
         >>> s2 = ['python\n', 'eggy\n', 'hamster\n', 'guido\n']
         >>> for line in unified_diff(s1, s2, fromfile='before.py', tofile='after.py'):
         ...     sys.stdout.write(line)   # doctest: +NORMALIZE_WHITESPACE
         --- before.py
         +++ after.py
         @@ -1,4 +1,4 @@
         -bacon
         -eggs
         -ham
         +python
         +eggy
         +hamster
          guido

     See *Note A command-line interface to difflib: a3d. for a more
     detailed example.

     New in version 2.3.


 -- Function: difflib.IS_LINE_JUNK (line)
     Return true for ignorable lines.  The line `line' is ignorable if
     `line' is blank or contains a single `'#'', otherwise it is not
     ignorable.  Used as a default for parameter `linejunk' in *Note
     ndiff(): a39. before Python 2.3.

 -- Function: difflib.IS_CHARACTER_JUNK (ch)
     Return true for ignorable characters.  The character `ch' is
     ignorable if `ch' is a space or tab, otherwise it is not
     ignorable.  Used as a default for parameter `charjunk' in *Note
     ndiff(): a39.

See also
........

Pattern Matching: The Gestalt Approach(1)
     Discussion of a similar algorithm by John W. Ratcliff and D. E.
     Metzener. This was published in Dr. Dobb's Journal(2) in July,
     1988.

* Menu:

* SequenceMatcher Objects::
* SequenceMatcher Examples::
* Differ Objects::
* Differ Example::
* A command-line interface to difflib::

---------- Footnotes ----------

(1)
http://www.drdobbs.com/database/pattern-matching-the-gestalt-approach/184407970

(2) http://www.drdobbs.com/


File: python.info,  Node: SequenceMatcher Objects,  Next: SequenceMatcher Examples,  Up: difflib — Helpers for computing deltas

5.7.4.1 SequenceMatcher Objects
...............................

The *Note SequenceMatcher: a35. class has this constructor:

 -- Class: difflib.SequenceMatcher (isjunk=None, a='', b='',
          autojunk=True)
     Optional argument `isjunk' must be `None' (the default) or a
     one-argument function that takes a sequence element and returns
     true if and only if the element is “junk” and should be
     ignored. Passing `None' for `isjunk' is equivalent to passing
     `lambda x: 0'; in other words, no elements are ignored.  For
     example, pass:

         lambda x: x in " \t"

     if you’re comparing lines as sequences of characters, and
     don’t want to synch up on blanks or hard tabs.

     The optional arguments `a' and `b' are sequences to be compared;
     both default to empty strings.  The elements of both sequences
     must be *Note hashable: 720.

     The optional argument `autojunk' can be used to disable the
     automatic junk heuristic.

     New in version 2.7.1: The `autojunk' parameter.

     *Note SequenceMatcher: a35. objects have the following methods:

      -- Method: set_seqs (a, b)
          Set the two sequences to be compared.

     *Note SequenceMatcher: a35. computes and caches detailed
     information about the second sequence, so if you want to compare
     one sequence against many sequences, use *Note set_seq2(): a47. to
     set the commonly used sequence once and call *Note set_seq1():
     a48. repeatedly, once for each of the other sequences.

      -- Method: set_seq1 (a)
          Set the first sequence to be compared.  The second sequence
          to be compared is not changed.

      -- Method: set_seq2 (b)
          Set the second sequence to be compared.  The first sequence
          to be compared is not changed.

      -- Method: find_longest_match (alo, ahi, blo, bhi)
          Find longest matching block in `a[alo:ahi]' and `b[blo:bhi]'.

          If `isjunk' was omitted or `None', *Note
          find_longest_match(): a49. returns `(i, j, k)' such that
          `a[i:i+k]' is equal to `b[j:j+k]', where `alo <= i <= i+k <=
          ahi' and `blo <= j <= j+k <= bhi'. For all `(i', j', k')'
          meeting those conditions, the additional conditions `k >=
          k'', `i <= i'', and if `i == i'', `j <= j'' are also met. In
          other words, of all maximal matching blocks, return one that
          starts earliest in `a', and of all those maximal matching
          blocks that start earliest in `a', return the one that starts
          earliest in `b'.

              >>> s = SequenceMatcher(None, " abcd", "abcd abcd")
              >>> s.find_longest_match(0, 5, 0, 9)
              Match(a=0, b=4, size=5)

          If `isjunk' was provided, first the longest matching block is
          determined as above, but with the additional restriction that
          no junk element appears in the block.  Then that block is
          extended as far as possible by matching (only) junk elements
          on both sides. So the resulting block never matches on junk
          except as identical junk happens to be adjacent to an
          interesting match.

          Here’s the same example as before, but considering blanks
          to be junk. That prevents `' abcd'' from matching the `'
          abcd'' at the tail end of the second sequence directly.
          Instead only the `'abcd'' can match, and matches the leftmost
          `'abcd'' in the second sequence:

              >>> s = SequenceMatcher(lambda x: x==" ", " abcd", "abcd abcd")
              >>> s.find_longest_match(0, 5, 0, 9)
              Match(a=1, b=0, size=4)

          If no blocks match, this returns `(alo, blo, 0)'.

          Changed in version 2.6: This method returns a *Note named
          tuple: a4a. `Match(a, b, size)'.


      -- Method: get_matching_blocks ()
          Return list of triples describing matching subsequences. Each
          triple is of the form `(i, j, n)', and means that `a[i:i+n]
          == b[j:j+n]'.  The triples are monotonically increasing in
          `i' and `j'.

          The last triple is a dummy, and has the value `(len(a),
          len(b), 0)'.  It is the only triple with `n == 0'.  If `(i,
          j, n)' and `(i', j', n')' are adjacent triples in the list,
          and the second is not the last triple in the list, then `i+n
          != i'' or `j+n != j''; in other words, adjacent triples
          always describe non-adjacent equal blocks.

          Changed in version 2.5: The guarantee that adjacent triples
          always describe non-adjacent blocks was implemented.

              >>> s = SequenceMatcher(None, "abxcd", "abcd")
              >>> s.get_matching_blocks()
              [Match(a=0, b=0, size=2), Match(a=3, b=2, size=2), Match(a=5, b=4, size=0)]

      -- Method: get_opcodes ()
          Return list of 5-tuples describing how to turn `a' into `b'.
          Each tuple is of the form `(tag, i1, i2, j1, j2)'.  The first
          tuple has `i1 == j1 == 0', and remaining tuples have `i1'
          equal to the `i2' from the preceding tuple, and, likewise,
          `j1' equal to the previous `j2'.

          The `tag' values are strings, with these meanings:

          Value               Meaning
          ---------------------------------------------------------------------- 
          `'replace''         `a[i1:i2]' should be replaced by `b[j1:j2]'.
          `'delete''          `a[i1:i2]' should be deleted.  Note that `j1 ==
                              j2' in this case.
          `'insert''          `b[j1:j2]' should be inserted at `a[i1:i1]'.
                              Note that `i1 == i2' in this case.
          `'equal''           `a[i1:i2] == b[j1:j2]' (the sub-sequences are
                              equal).

          For example:

              >>> a = "qabxcd"
              >>> b = "abycdf"
              >>> s = SequenceMatcher(None, a, b)
              >>> for tag, i1, i2, j1, j2 in s.get_opcodes():
              ...    print ("%7s a[%d:%d] (%s) b[%d:%d] (%s)" %
              ...           (tag, i1, i2, a[i1:i2], j1, j2, b[j1:j2]))
               delete a[0:1] (q) b[0:0] ()
                equal a[1:3] (ab) b[0:2] (ab)
              replace a[3:4] (x) b[2:3] (y)
                equal a[4:6] (cd) b[3:5] (cd)
               insert a[6:6] () b[5:6] (f)

      -- Method: get_grouped_opcodes ([n])
          Return a *Note generator: 5f7. of groups with up to `n' lines
          of context.

          Starting with the groups returned by *Note get_opcodes():
          a4c, this method splits out smaller change clusters and
          eliminates intervening ranges which have no changes.

          The groups are returned in the same format as *Note
          get_opcodes(): a4c.

          New in version 2.3.


      -- Method: ratio ()
          Return a measure of the sequences’ similarity as a float in
          the range [0, 1].

          Where T is the total number of elements in both sequences,
          and M is the number of matches, this is 2.0*M / T. Note that
          this is `1.0' if the sequences are identical, and `0.0' if
          they have nothing in common.

          This is expensive to compute if *Note get_matching_blocks():
          a4b. or *Note get_opcodes(): a4c. hasn’t already been
          called, in which case you may want to try *Note
          quick_ratio(): a4f. or *Note real_quick_ratio(): a50. first
          to get an upper bound.

      -- Method: quick_ratio ()
          Return an upper bound on *Note ratio(): a4e. relatively
          quickly.

      -- Method: real_quick_ratio ()
          Return an upper bound on *Note ratio(): a4e. very quickly.

The three methods that return the ratio of matching to total characters
can give different results due to differing levels of approximation,
although `quick_ratio()' and `real_quick_ratio()' are always at least
as large as `ratio()':

    >>> s = SequenceMatcher(None, "abcd", "bcde")
    >>> s.ratio()
    0.75
    >>> s.quick_ratio()
    0.75
    >>> s.real_quick_ratio()
    1.0


File: python.info,  Node: SequenceMatcher Examples,  Next: Differ Objects,  Prev: SequenceMatcher Objects,  Up: difflib — Helpers for computing deltas

5.7.4.2 SequenceMatcher Examples
................................

This example compares two strings, considering blanks to be “junk:”

    >>> s = SequenceMatcher(lambda x: x == " ",
    ...                     "private Thread currentThread;",
    ...                     "private volatile Thread currentThread;")

`ratio()' returns a float in [0, 1], measuring the similarity of the
sequences.  As a rule of thumb, a `ratio()' value over 0.6 means the
sequences are close matches:

    >>> print round(s.ratio(), 3)
    0.866

If you’re only interested in where the sequences match,
`get_matching_blocks()' is handy:

    >>> for block in s.get_matching_blocks():
    ...     print "a[%d] and b[%d] match for %d elements" % block
    a[0] and b[0] match for 8 elements
    a[8] and b[17] match for 21 elements
    a[29] and b[38] match for 0 elements

Note that the last tuple returned by `get_matching_blocks()' is always a
dummy, `(len(a), len(b), 0)', and this is the only case in which the
last tuple element (number of elements matched) is `0'.

If you want to know how to change the first sequence into the second,
use `get_opcodes()':

    >>> for opcode in s.get_opcodes():
    ...     print "%6s a[%d:%d] b[%d:%d]" % opcode
     equal a[0:8] b[0:8]
    insert a[8:8] b[8:17]
     equal a[8:29] b[17:38]

See also
........

   * The *Note get_close_matches(): a3e. function in this module which
     shows how simple code building on *Note SequenceMatcher: a35. can
     be used to do useful work.

   * Simple version control recipe(1) for a small application built
     with *Note SequenceMatcher: a35.

---------- Footnotes ----------

(1) https://code.activestate.com/recipes/576729/


File: python.info,  Node: Differ Objects,  Next: Differ Example,  Prev: SequenceMatcher Examples,  Up: difflib — Helpers for computing deltas

5.7.4.3 Differ Objects
......................

Note that *Note Differ: a36.-generated deltas make no claim to be
`minimal' diffs. To the contrary, minimal diffs are often
counter-intuitive, because they synch up anywhere possible, sometimes
accidental matches 100 pages apart.  Restricting synch points to
contiguous matches preserves some notion of locality, at the occasional
cost of producing a longer diff.

The *Note Differ: a36. class has this constructor:

 -- Class: difflib.Differ ([linejunk[, charjunk]])
     Optional keyword parameters `linejunk' and `charjunk' are for
     filter functions (or `None'):

     `linejunk': A function that accepts a single string argument, and
     returns true if the string is junk.  The default is `None',
     meaning that no line is considered junk.

     `charjunk': A function that accepts a single character argument (a
     string of length 1), and returns true if the character is junk.
     The default is `None', meaning that no character is considered
     junk.

     *Note Differ: a36. objects are used (deltas generated) via a
     single method:

      -- Method: compare (a, b)
          Compare two sequences of lines, and generate the delta (a
          sequence of lines).

          Each sequence must contain individual single-line strings
          ending with newlines.  Such sequences can be obtained from the
          *Note readlines(): 66d. method of file-like objects.  The
          delta generated also consists of newline-terminated strings,
          ready to be printed as-is via the *Note writelines(): 93d.
          method of a file-like object.


File: python.info,  Node: Differ Example,  Next: A command-line interface to difflib,  Prev: Differ Objects,  Up: difflib — Helpers for computing deltas

5.7.4.4 Differ Example
......................

This example compares two texts. First we set up the texts, sequences of
individual single-line strings ending with newlines (such sequences can
also be obtained from the *Note readlines(): 66d. method of file-like
objects):

    >>> text1 = '''  1. Beautiful is better than ugly.
    ...   2. Explicit is better than implicit.
    ...   3. Simple is better than complex.
    ...   4. Complex is better than complicated.
    ... '''.splitlines(1)
    >>> len(text1)
    4
    >>> text1[0][-1]
    '\n'
    >>> text2 = '''  1. Beautiful is better than ugly.
    ...   3.   Simple is better than complex.
    ...   4. Complicated is better than complex.
    ...   5. Flat is better than nested.
    ... '''.splitlines(1)

Next we instantiate a Differ object:

    >>> d = Differ()

Note that when instantiating a *Note Differ: a36. object we may pass
functions to filter out line and character “junk.”  See the *Note
Differ(): a36. constructor for details.

Finally, we compare the two:

    >>> result = list(d.compare(text1, text2))

`result' is a list of strings, so let’s pretty-print it:

    >>> from pprint import pprint
    >>> pprint(result)
    ['    1. Beautiful is better than ugly.\n',
     '-   2. Explicit is better than implicit.\n',
     '-   3. Simple is better than complex.\n',
     '+   3.   Simple is better than complex.\n',
     '?     ++\n',
     '-   4. Complex is better than complicated.\n',
     '?            ^                     ---- ^\n',
     '+   4. Complicated is better than complex.\n',
     '?           ++++ ^                      ^\n',
     '+   5. Flat is better than nested.\n']

As a single multi-line string it looks like this:

    >>> import sys
    >>> sys.stdout.writelines(result)
        1. Beautiful is better than ugly.
    -   2. Explicit is better than implicit.
    -   3. Simple is better than complex.
    +   3.   Simple is better than complex.
    ?     ++
    -   4. Complex is better than complicated.
    ?            ^                     ---- ^
    +   4. Complicated is better than complex.
    ?           ++++ ^                      ^
    +   5. Flat is better than nested.


File: python.info,  Node: A command-line interface to difflib,  Prev: Differ Example,  Up: difflib — Helpers for computing deltas

5.7.4.5 A command-line interface to difflib
...........................................

This example shows how to use difflib to create a `diff'-like utility.
It is also contained in the Python source distribution, as
`Tools/scripts/diff.py'.

    """ Command line interface to difflib.py providing diffs in four formats:

    * ndiff:    lists every line and highlights interline changes.
    * context:  highlights clusters of changes in a before/after format.
    * unified:  highlights clusters of changes in an inline format.
    * html:     generates side by side comparison with change highlights.

    """

    import sys, os, time, difflib, optparse

    def main():
         # Configure the option parser
        usage = "usage: %prog [options] fromfile tofile"
        parser = optparse.OptionParser(usage)
        parser.add_option("-c", action="store_true", default=False,
                          help='Produce a context format diff (default)')
        parser.add_option("-u", action="store_true", default=False,
                          help='Produce a unified format diff')
        hlp = 'Produce HTML side by side diff (can use -c and -l in conjunction)'
        parser.add_option("-m", action="store_true", default=False, help=hlp)
        parser.add_option("-n", action="store_true", default=False,
                          help='Produce a ndiff format diff')
        parser.add_option("-l", "--lines", type="int", default=3,
                          help='Set number of context lines (default 3)')
        (options, args) = parser.parse_args()

        if len(args) == 0:
            parser.print_help()
            sys.exit(1)
        if len(args) != 2:
            parser.error("need to specify both a fromfile and tofile")

        n = options.lines
        fromfile, tofile = args # as specified in the usage string

        # we're passing these as arguments to the diff function
        fromdate = time.ctime(os.stat(fromfile).st_mtime)
        todate = time.ctime(os.stat(tofile).st_mtime)
        fromlines = open(fromfile, 'U').readlines()
        tolines = open(tofile, 'U').readlines()

        if options.u:
            diff = difflib.unified_diff(fromlines, tolines, fromfile, tofile,
                                        fromdate, todate, n=n)
        elif options.n:
            diff = difflib.ndiff(fromlines, tolines)
        elif options.m:
            diff = difflib.HtmlDiff().make_file(fromlines, tolines, fromfile,
                                                tofile, context=options.c,
                                                numlines=n)
        else:
            diff = difflib.context_diff(fromlines, tolines, fromfile, tofile,
                                        fromdate, todate, n=n)

        # we're using writelines because diff is a generator
        sys.stdout.writelines(diff)

    if __name__ == '__main__':
        main()


File: python.info,  Node: StringIO — Read and write strings as files,  Next: cStringIO — Faster version of StringIO,  Prev: difflib — Helpers for computing deltas,  Up: String Services

5.7.5 `StringIO' — Read and write strings as files
----------------------------------------------------

This module implements a file-like class, *Note StringIO: 2df, that
reads and writes a string buffer (also known as `memory files').  See
the description of file objects for operations (section *Note File
Objects: 66e.). (For standard strings, see *Note str: 1ea. and *Note
unicode: 1f5.)

 -- Class: StringIO.StringIO ([buffer])
     When a *Note StringIO: 2df. object is created, it can be
     initialized to an existing string by passing the string to the
     constructor. If no string is given, the *Note StringIO: 2df. will
     start empty. In both cases, the initial file position starts at
     zero.

     The *Note StringIO: 2df. object can accept either Unicode or 8-bit
     strings, but mixing the two may take some care.  If both are used,
     8-bit strings that cannot be interpreted as 7-bit ASCII (that use
     the 8th bit) will cause a *Note UnicodeError: 44c. to be raised
     when *Note getvalue(): a5a. is called.

The following methods of *Note StringIO: 2df. objects require special
mention:

 -- Method: StringIO.getvalue ()
     Retrieve the entire contents of the “file” at any time before
     the *Note StringIO: 2df. object’s *Note close(): a5b. method is
     called.  See the note above for information about mixing Unicode
     and 8-bit strings; such mixing can cause this method to raise
     *Note UnicodeError: 44c.

 -- Method: StringIO.close ()
     Free the memory buffer.  Attempting to do further operations with
     a closed *Note StringIO: 2df. object will raise a *Note
     ValueError: 236.

Example usage:

    import StringIO

    output = StringIO.StringIO()
    output.write('First line.\n')
    print >>output, 'Second line.'

    # Retrieve file contents -- this will be
    # 'First line.\nSecond line.\n'
    contents = output.getvalue()

    # Close object and discard memory buffer --
    # .getvalue() will now raise an exception.
    output.close()


File: python.info,  Node: cStringIO — Faster version of StringIO,  Next: textwrap — Text wrapping and filling,  Prev: StringIO — Read and write strings as files,  Up: String Services

5.7.6 `cStringIO' — Faster version of `StringIO'
--------------------------------------------------

The module *Note cStringIO: 76. provides an interface similar to that
of the *Note StringIO: 164. module.  Heavy use of *Note
StringIO.StringIO: 2df. objects can be made more efficient by using the
function *Note StringIO(): 164. from this module instead.

 -- Function: cStringIO.StringIO ([s])
     Return a StringIO-like stream for reading or writing.

     Since this is a factory function which returns objects of built-in
     types, there’s no way to build your own version using
     subclassing.  It’s not possible to set attributes on it.  Use
     the original *Note StringIO: 164. module in those cases.

     Unlike the *Note StringIO: 164. module, this module is not able to
     accept Unicode strings that cannot be encoded as plain ASCII
     strings.

     Another difference from the *Note StringIO: 164. module is that
     calling *Note StringIO(): 164. with a string parameter creates a
     read-only object. Unlike an object created without a string
     parameter, it does not have write methods.  These objects are not
     generally visible.  They turn up in tracebacks as `StringI' and
     `StringO'.

The following data objects are provided as well:

 -- Data: cStringIO.InputType
     The type object of the objects created by calling *Note
     StringIO(): 164. with a string parameter.

 -- Data: cStringIO.OutputType
     The type object of the objects returned by calling *Note
     StringIO(): 164. with no parameters.

There is a C API to the module as well; refer to the module source for
more information.

Example usage:

    import cStringIO

    output = cStringIO.StringIO()
    output.write('First line.\n')
    print >>output, 'Second line.'

    # Retrieve file contents -- this will be
    # 'First line.\nSecond line.\n'
    contents = output.getvalue()

    # Close object and discard memory buffer --
    # .getvalue() will now raise an exception.
    output.close()


File: python.info,  Node: textwrap — Text wrapping and filling,  Next: codecs — Codec registry and base classes,  Prev: cStringIO — Faster version of StringIO,  Up: String Services

5.7.7 `textwrap' — Text wrapping and filling
----------------------------------------------

New in version 2.3.

`Source code:' Lib/textwrap.py(1)

__________________________________________________________________

The *Note textwrap: 177. module provides two convenience functions,
*Note wrap(): a62. and *Note fill(): a63, as well as *Note TextWrapper:
a64, the class that does all the work, and a utility function  *Note
dedent(): a65.  If you’re just wrapping or filling one or two  text
strings, the convenience functions should be good enough; otherwise,
you should use an instance of *Note TextWrapper: a64. for efficiency.

 -- Function: textwrap.wrap (text[, width[, ...]])
     Wraps the single paragraph in `text' (a string) so every line is
     at most `width' characters long.  Returns a list of output lines,
     without final newlines.

     Optional keyword arguments correspond to the instance attributes of
     *Note TextWrapper: a64, documented below.  `width' defaults to
     `70'.

     See the *Note TextWrapper.wrap(): a66. method for additional
     details on how *Note wrap(): a62. behaves.

 -- Function: textwrap.fill (text[, width[, ...]])
     Wraps the single paragraph in `text', and returns a single string
     containing the wrapped paragraph.  *Note fill(): a63. is shorthand
     for

         "\n".join(wrap(text, ...))

     In particular, *Note fill(): a63. accepts exactly the same keyword
     arguments as *Note wrap(): a62.

Both *Note wrap(): a62. and *Note fill(): a63. work by creating a *Note
TextWrapper: a64.  instance and calling a single method on it.  That
instance is not reused, so for applications that wrap/fill many text
strings, it will be more efficient for you to create your own *Note
TextWrapper: a64. object.

Text is preferably wrapped on whitespaces and right after the hyphens in
hyphenated words; only then will long words be broken if necessary,
unless *Note TextWrapper.break_long_words: a67. is set to false.

An additional utility function, *Note dedent(): a65, is provided to
remove indentation from strings that have unwanted whitespace to the
left of the text.

 -- Function: textwrap.dedent (text)
     Remove any common leading whitespace from every line in `text'.

     This can be used to make triple-quoted strings line up with the
     left edge of the display, while still presenting them in the
     source code in indented form.

     Note that tabs and spaces are both treated as whitespace, but they
     are not equal: the lines `"  hello"' and `"\thello"' are
     considered to have no common leading whitespace.  (This behaviour
     is new in Python 2.5; older versions of this module incorrectly
     expanded tabs before searching for common leading whitespace.)

     For example:

         def test():
             # end first line with \ to avoid the empty line!
             s = '''\
             hello
               world
             '''
             print repr(s)          # prints '    hello\n      world\n    '
             print repr(dedent(s))  # prints 'hello\n  world\n'

 -- Class: textwrap.TextWrapper (...)
     The *Note TextWrapper: a64. constructor accepts a number of
     optional keyword arguments.  Each argument corresponds to one
     instance attribute, so for example

         wrapper = TextWrapper(initial_indent="* ")

     is the same as

         wrapper = TextWrapper()
         wrapper.initial_indent = "* "

     You can re-use the same *Note TextWrapper: a64. object many times,
     and you can change any of its options through direct assignment to
     instance attributes between uses.

     The *Note TextWrapper: a64. instance attributes (and keyword
     arguments to the constructor) are as follows:

      -- Attribute: width
          (default: `70') The maximum length of wrapped lines.  As long
          as there are no individual words in the input text longer
          than *Note width: a68, *Note TextWrapper: a64. guarantees
          that no output line will be longer than *Note width: a68.
          characters.

      -- Attribute: expand_tabs
          (default: `True') If true, then all tab characters in `text'
          will be expanded to spaces using the `expandtabs()' method of
          `text'.

      -- Attribute: replace_whitespace
          (default: `True') If true, after tab expansion but before
          wrapping, the *Note wrap(): a62. method will replace each
          whitespace character with a single space.  The whitespace
          characters replaced are as follows: tab, newline, vertical
          tab, formfeed, and carriage return (`'\t\n\v\f\r'').

               Note: If *Note expand_tabs: a69. is false and *Note
               replace_whitespace: a6a. is true, each tab character
               will be replaced by a single space, which is `not' the
               same as tab expansion.

               Note: If *Note replace_whitespace: a6a. is false,
               newlines may appear in the middle of a line and cause
               strange output. For this reason, text should be split
               into paragraphs (using *Note str.splitlines(): 8ff. or
               similar) which are wrapped separately.

      -- Attribute: drop_whitespace
          (default: `True') If true, whitespace at the beginning and
          ending of every line (after wrapping but before indenting) is
          dropped.  Whitespace at the beginning of the paragraph,
          however, is not dropped if non-whitespace follows it.  If
          whitespace being dropped takes up an entire line, the whole
          line is dropped.

          New in version 2.6: Whitespace was always dropped in earlier
          versions.


      -- Attribute: initial_indent
          (default: `''') String that will be prepended to the first
          line of wrapped output.  Counts towards the length of the
          first line.  The empty string is not indented.

      -- Attribute: subsequent_indent
          (default: `''') String that will be prepended to all lines of
          wrapped output except the first.  Counts towards the length
          of each line except the first.

      -- Attribute: fix_sentence_endings
          (default: `False') If true, *Note TextWrapper: a64. attempts
          to detect sentence endings and ensure that sentences are
          always separated by exactly two spaces.  This is generally
          desired for text in a monospaced font.  However, the sentence
          detection algorithm is imperfect: it assumes that a sentence
          ending consists of a lowercase letter followed by one of
          `'.'', `'!'', or `'?'', possibly followed by one of `'"'' or
          `"'"', followed by a space.  One problem with this is
          algorithm is that it is unable to detect the difference
          between “Dr.” in

              [...] Dr. Frankenstein's monster [...]

          and “Spot.” in

              [...] See Spot. See Spot run [...]

          *Note fix_sentence_endings: a6e. is false by default.

          Since the sentence detection algorithm relies on
          `string.lowercase' for the definition of “lowercase
          letter,” and a convention of using two spaces after a
          period to separate sentences on the same line, it is specific
          to English-language texts.

      -- Attribute: break_long_words
          (default: `True') If true, then words longer than *Note
          width: a68. will be broken in order to ensure that no lines
          are longer than *Note width: a68.  If it is false, long words
          will not be broken, and some lines may be longer than *Note
          width: a68.  (Long words will be put on a line by themselves,
          in order to minimize the amount by which *Note width: a68. is
          exceeded.)

      -- Attribute: break_on_hyphens
          (default: `True') If true, wrapping will occur preferably on
          whitespaces and right after hyphens in compound words, as it
          is customary in English.  If false, only whitespaces will be
          considered as potentially good places for line breaks, but
          you need to set *Note break_long_words: a67. to false if you
          want truly insecable words.  Default behaviour in previous
          versions was to always allow breaking hyphenated words.

          New in version 2.6.


     *Note TextWrapper: a64. also provides two public methods,
     analogous to the module-level convenience functions:

      -- Method: wrap (text)
          Wraps the single paragraph in `text' (a string) so every line
          is at most *Note width: a68. characters long.  All wrapping
          options are taken from instance attributes of the *Note
          TextWrapper: a64. instance.  Returns a list of output lines,
          without final newlines.  If the wrapped output has no
          content, the returned list is empty.

      -- Method: fill (text)
          Wraps the single paragraph in `text', and returns a single
          string containing the wrapped paragraph.

---------- Footnotes ----------

(1) https://hg.python.org/cpython/file/2.7/Lib/textwrap.py


File: python.info,  Node: codecs — Codec registry and base classes,  Next: unicodedata — Unicode Database,  Prev: textwrap — Text wrapping and filling,  Up: String Services

5.7.8 `codecs' — Codec registry and base classes
--------------------------------------------------

This module defines base classes for standard Python codecs (encoders
and decoders) and provides access to the internal Python codec registry
which manages the codec and error handling lookup process.

It defines the following functions:

 -- Function: codecs.encode (obj[, encoding[, errors]])
     Encodes `obj' using the codec registered for `encoding'. The
     default encoding is `'ascii''.

     `Errors' may be given to set the desired error handling scheme. The
     default error handler is `'strict'' meaning that encoding errors
     raise *Note ValueError: 236. (or a more codec specific subclass,
     such as *Note UnicodeEncodeError: 981.). Refer to *Note Codec Base
     Classes: 8e7. for more information on codec error handling.

     New in version 2.4.


 -- Function: codecs.decode (obj[, encoding[, errors]])
     Decodes `obj' using the codec registered for `encoding'. The
     default encoding is `'ascii''.

     `Errors' may be given to set the desired error handling scheme. The
     default error handler is `'strict'' meaning that decoding errors
     raise *Note ValueError: 236. (or a more codec specific subclass,
     such as *Note UnicodeDecodeError: 982.). Refer to *Note Codec Base
     Classes: 8e7. for more information on codec error handling.

     New in version 2.4.


 -- Function: codecs.register (search_function)
     Register a codec search function. Search functions are expected to
     take one argument, the encoding name in all lower case letters,
     and return a `CodecInfo' object having the following attributes:

        * `name' The name of the encoding;

        * `encode' The stateless encoding function;

        * `decode' The stateless decoding function;

        * `incrementalencoder' An incremental encoder class or factory
          function;

        * `incrementaldecoder' An incremental decoder class or factory
          function;

        * `streamwriter' A stream writer class or factory function;

        * `streamreader' A stream reader class or factory function.

     The various functions or classes take the following arguments:

     `encode' and `decode': These must be functions or methods which
     have the same interface as the *Note encode(): a76./*Note
     decode(): a77. methods of Codec instances (see *Note Codec
     Interface: a78.). The functions/methods are expected to work in a
     stateless mode.

     `incrementalencoder' and `incrementaldecoder': These have to be
     factory functions providing the following interface:

          `factory(errors='strict')'

     The factory functions must return objects providing the interfaces
     defined by the base classes *Note IncrementalEncoder: a79. and
     *Note IncrementalDecoder: a7a, respectively. Incremental codecs
     can maintain state.

     `streamreader' and `streamwriter': These have to be factory
     functions providing the following interface:

          `factory(stream, errors='strict')'

     The factory functions must return objects providing the interfaces
     defined by the base classes *Note StreamReader: a7b. and *Note
     StreamWriter: a7c, respectively.  Stream codecs can maintain state.

     Possible values for errors are

        * `'strict'': raise an exception in case of an encoding error

        * `'replace'': replace malformed data with a suitable
          replacement marker, such as `'?'' or `'\ufffd''

        * `'ignore'': ignore malformed data and continue without
          further notice

        * `'xmlcharrefreplace'': replace with the appropriate XML
          character reference (for encoding only)

        * `'backslashreplace'': replace with backslashed escape
          sequences (for encoding only)

     as well as any other error handling name defined via *Note
     register_error(): 457.

     In case a search function cannot find a given encoding, it should
     return `None'.

 -- Function: codecs.lookup (encoding)
     Looks up the codec info in the Python codec registry and returns a
     `CodecInfo' object as defined above.

     Encodings are first looked up in the registry’s cache. If not
     found, the list of registered search functions is scanned. If no
     `CodecInfo' object is found, a *Note LookupError: 8b9. is raised.
     Otherwise, the `CodecInfo' object is stored in the cache and
     returned to the caller.

To simplify access to the various codecs, the module provides these
additional functions which use *Note lookup(): 975. for the codec
lookup:

 -- Function: codecs.getencoder (encoding)
     Look up the codec for the given encoding and return its encoder
     function.

     Raises a *Note LookupError: 8b9. in case the encoding cannot be
     found.

 -- Function: codecs.getdecoder (encoding)
     Look up the codec for the given encoding and return its decoder
     function.

     Raises a *Note LookupError: 8b9. in case the encoding cannot be
     found.

 -- Function: codecs.getincrementalencoder (encoding)
     Look up the codec for the given encoding and return its
     incremental encoder class or factory function.

     Raises a *Note LookupError: 8b9. in case the encoding cannot be
     found or the codec doesn’t support an incremental encoder.

     New in version 2.5.


 -- Function: codecs.getincrementaldecoder (encoding)
     Look up the codec for the given encoding and return its
     incremental decoder class or factory function.

     Raises a *Note LookupError: 8b9. in case the encoding cannot be
     found or the codec doesn’t support an incremental decoder.

     New in version 2.5.


 -- Function: codecs.getreader (encoding)
     Look up the codec for the given encoding and return its
     StreamReader class or factory function.

     Raises a *Note LookupError: 8b9. in case the encoding cannot be
     found.

 -- Function: codecs.getwriter (encoding)
     Look up the codec for the given encoding and return its
     StreamWriter class or factory function.

     Raises a *Note LookupError: 8b9. in case the encoding cannot be
     found.

 -- Function: codecs.register_error (name, error_handler)
     Register the error handling function `error_handler' under the
     name `name'.  `error_handler' will be called during encoding and
     decoding in case of an error, when `name' is specified as the
     errors parameter.

     For encoding `error_handler' will be called with a *Note
     UnicodeEncodeError: 981.  instance, which contains information
     about the location of the error. The error handler must either
     raise this or a different exception or return a tuple with a
     replacement for the unencodable part of the input and a position
     where encoding should continue. The encoder will encode the
     replacement and continue encoding the original input at the
     specified position. Negative position values will be treated as
     being relative to the end of the input string. If the resulting
     position is out of bound an *Note IndexError: 4fe. will be raised.

     Decoding and translating works similar, except *Note
     UnicodeDecodeError: 982. or *Note UnicodeTranslateError: 983. will
     be passed to the handler and that the replacement from the error
     handler will be put into the output directly.

 -- Function: codecs.lookup_error (name)
     Return the error handler previously registered under the name
     `name'.

     Raises a *Note LookupError: 8b9. in case the handler cannot be
     found.

 -- Function: codecs.strict_errors (exception)
     Implements the `strict' error handling: each encoding or decoding
     error raises a *Note UnicodeError: 44c.

 -- Function: codecs.replace_errors (exception)
     Implements the `replace' error handling: malformed data is
     replaced with a suitable replacement character such as `'?'' in
     bytestrings and `'\ufffd'' in Unicode strings.

 -- Function: codecs.ignore_errors (exception)
     Implements the `ignore' error handling: malformed data is ignored
     and encoding or decoding is continued without further notice.

 -- Function: codecs.xmlcharrefreplace_errors (exception)
     Implements the `xmlcharrefreplace' error handling (for encoding
     only): the unencodable character is replaced by an appropriate XML
     character reference.

 -- Function: codecs.backslashreplace_errors (exception)
     Implements the `backslashreplace' error handling (for encoding
     only): the unencodable character is replaced by a backslashed
     escape sequence.

To simplify working with encoded files or stream, the module also
defines these utility functions:

 -- Function: codecs.open (filename, mode[, encoding[, errors[,
          buffering]]])
     Open an encoded file using the given `mode' and return a wrapped
     version providing transparent encoding/decoding.  The default file
     mode is `'r'' meaning to open the file in read mode.

          Note: The wrapped version will only accept the object format
          defined by the codecs, i.e. Unicode objects for most built-in
          codecs.  Output is also codec-dependent and will usually be
          Unicode as well.

          Note: Files are always opened in binary mode, even if no
          binary mode was specified.  This is done to avoid data loss
          due to encodings using 8-bit values.  This means that no
          automatic conversion of `'\n'' is done on reading and writing.

     `encoding' specifies the encoding which is to be used for the file.

     `errors' may be given to define the error handling. It defaults to
     `'strict'' which causes a *Note ValueError: 236. to be raised in
     case an encoding error occurs.

     `buffering' has the same meaning as for the built-in *Note open():
     2d9. function.  It defaults to line buffered.

 -- Function: codecs.EncodedFile (file, input[, output[, errors]])
     Return a wrapped version of file which provides transparent
     encoding translation.

     Strings written to the wrapped file are interpreted according to
     the given `input' encoding and then written to the original file
     as strings using the `output' encoding. The intermediate encoding
     will usually be Unicode but depends on the specified codecs.

     If `output' is not given, it defaults to `input'.

     `errors' may be given to define the error handling. It defaults to
     `'strict'', which causes *Note ValueError: 236. to be raised in
     case an encoding error occurs.

 -- Function: codecs.iterencode (iterable, encoding[, errors])
     Uses an incremental encoder to iteratively encode the input
     provided by `iterable'. This function is a *Note generator: 5f7.
     `errors' (as well as any other keyword argument) is passed through
     to the incremental encoder.

     New in version 2.5.


 -- Function: codecs.iterdecode (iterable, encoding[, errors])
     Uses an incremental decoder to iteratively decode the input
     provided by `iterable'. This function is a *Note generator: 5f7.
     `errors' (as well as any other keyword argument) is passed through
     to the incremental decoder.

     New in version 2.5.


The module also provides the following constants which are useful for
reading and writing to platform dependent files:

 -- Data: codecs.BOM
 -- Data: codecs.BOM_BE
 -- Data: codecs.BOM_LE
 -- Data: codecs.BOM_UTF8
 -- Data: codecs.BOM_UTF16
 -- Data: codecs.BOM_UTF16_BE
 -- Data: codecs.BOM_UTF16_LE
 -- Data: codecs.BOM_UTF32
 -- Data: codecs.BOM_UTF32_BE
 -- Data: codecs.BOM_UTF32_LE
     These constants define various encodings of the Unicode byte order
     mark (BOM) used in UTF-16 and UTF-32 data streams to indicate the
     byte order used in the stream or file and in UTF-8 as a Unicode
     signature. *Note BOM_UTF16: a90. is either *Note BOM_UTF16_BE:
     a91. or *Note BOM_UTF16_LE: a92. depending on the platform’s
     native byte order, *Note BOM: a8c. is an alias for *Note
     BOM_UTF16: a90, *Note BOM_LE: a8e. for *Note BOM_UTF16_LE: a92.
     and *Note BOM_BE: a8d. for *Note BOM_UTF16_BE: a91. The others
     represent the BOM in UTF-8 and UTF-32 encodings.

* Menu:

* Codec Base Classes::
* Encodings and Unicode::
* Standard Encodings::
* Python Specific Encodings::
* encodings.idna — Internationalized Domain Names in Applications: encodings idna — Internationalized Domain Names in Applications.
* encodings.utf_8_sig — UTF-8 codec with BOM signature: encodings utf_8_sig — UTF-8 codec with BOM signature.

